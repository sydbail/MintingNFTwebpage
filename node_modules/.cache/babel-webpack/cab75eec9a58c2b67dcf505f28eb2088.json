{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/Users/sydneybailey/Internship/contract-testing/node_modules/@babel/runtime/helpers/asyncToGenerator\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.scheduleCommands = exports.ScheduledCommand = void 0;\n\nclass ScheduledCommand {\n  constructor(s, cmd) {\n    this.s = s;\n    this.cmd = cmd;\n  }\n\n  check(m) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let error = null;\n      let checkPassed = false;\n      const status = yield _this.s.scheduleSequence([{\n        label: `check@${_this.cmd.toString()}`,\n        builder: function () {\n          var _ref = _asyncToGenerator(function* () {\n            try {\n              checkPassed = yield Promise.resolve(_this.cmd.check(m));\n            } catch (err) {\n              error = err;\n              throw err;\n            }\n          });\n\n          return function builder() {\n            return _ref.apply(this, arguments);\n          };\n        }()\n      }]).task;\n\n      if (status.faulty) {\n        throw error;\n      }\n\n      return checkPassed;\n    })();\n  }\n\n  run(m, r) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let error = null;\n      const status = yield _this2.s.scheduleSequence([{\n        label: `run@${_this2.cmd.toString()}`,\n        builder: function () {\n          var _ref2 = _asyncToGenerator(function* () {\n            try {\n              yield _this2.cmd.run(m, r);\n            } catch (err) {\n              error = err;\n              throw err;\n            }\n          });\n\n          return function builder() {\n            return _ref2.apply(this, arguments);\n          };\n        }()\n      }]).task;\n\n      if (status.faulty) {\n        throw error;\n      }\n    })();\n  }\n\n}\n\nexports.ScheduledCommand = ScheduledCommand;\n\nconst scheduleCommands = function* (s, cmds) {\n  for (const cmd of cmds) {\n    yield new ScheduledCommand(s, cmd);\n  }\n};\n\nexports.scheduleCommands = scheduleCommands;","map":null,"metadata":{},"sourceType":"script"}