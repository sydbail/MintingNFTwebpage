{"ast":null,"code":"'use strict';\n\nconst levelup = require('levelup');\n\nconst encode = require('encoding-down');\n\nfunction packager(leveldown) {\n  function Level(location, options, callback) {\n    if (typeof location === 'function') {\n      callback = location;\n    } else if (typeof options === 'function') {\n      callback = options;\n    }\n\n    if (!isObject(options)) {\n      options = isObject(location) ? location : {};\n    }\n\n    return levelup(encode(leveldown(location, options), options), options, callback);\n  }\n\n  function isObject(o) {\n    return typeof o === 'object' && o !== null;\n  }\n\n  for (const m of ['destroy', 'repair']) {\n    if (typeof leveldown[m] === 'function') {\n      Level[m] = function (...args) {\n        leveldown[m](...args);\n      };\n    }\n  }\n\n  Level.errors = levelup.errors;\n  return Level;\n}\n\nmodule.exports = packager;","map":null,"metadata":{},"sourceType":"script"}