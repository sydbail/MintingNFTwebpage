{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.option = void 0;\n\nconst constant_1 = require(\"./constant\");\n\nconst FrequencyArbitrary_1 = require(\"./_internals/FrequencyArbitrary\");\n\nfunction extractOptionConstraints(constraints) {\n  if (typeof constraints === 'number') return {\n    freq: constraints\n  };\n  if (!constraints) return {};\n  return constraints;\n}\n\nfunction option(arb, rawConstraints) {\n  const constraints = extractOptionConstraints(rawConstraints);\n  const freq = constraints.freq == null ? 5 : constraints.freq;\n  const nilValue = Object.prototype.hasOwnProperty.call(constraints, 'nil') ? constraints.nil : null;\n  const nilArb = constant_1.constant(nilValue);\n  const weightedArbs = [{\n    arbitrary: nilArb,\n    weight: 1,\n    fallbackValue: {\n      default: nilValue\n    }\n  }, {\n    arbitrary: arb,\n    weight: freq\n  }];\n  const frequencyConstraints = {\n    withCrossShrink: true,\n    depthFactor: constraints.depthFactor,\n    maxDepth: constraints.maxDepth,\n    depthIdentifier: constraints.depthIdentifier\n  };\n  return FrequencyArbitrary_1.FrequencyArbitrary.fromOld(weightedArbs, frequencyConstraints, 'fc.option');\n}\n\nexports.option = option;","map":null,"metadata":{},"sourceType":"script"}