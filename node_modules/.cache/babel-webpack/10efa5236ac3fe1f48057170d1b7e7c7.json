{"ast":null,"code":"const debug = require(\"debug\")(\"contract-sources\");\n\nconst path = require(\"path\");\n\nconst glob = require(\"glob\");\n\nconst {\n  promisify\n} = require(\"util\");\n\nconst DEFAULT_PATTERN = \"**/*.{sol,vy,v.py,vyper.py,json,yul}\";\n\nmodule.exports = (pattern, callback) => {\n  const callbackPassed = typeof callback === \"function\"; // pattern is either a directory (contracts directory), or an absolute path\n  // with a glob expression\n\n  if (!glob.hasMagic(pattern)) {\n    pattern = path.join(pattern, DEFAULT_PATTERN);\n  }\n\n  const globOptions = {\n    follow: true,\n    // follow symlinks\n    dot: true //check hidden files and directories\n\n  };\n  return promisify(glob)(pattern, globOptions).then(files => {\n    if (callbackPassed) {\n      callback(null, files);\n    } else {\n      return files;\n    }\n  }).catch(error => {\n    if (callbackPassed) {\n      callback(error);\n    } else {\n      throw error;\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"script"}