{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pathWalk = void 0;\n\nconst Stream_1 = require(\"../../../stream/Stream\");\n\nfunction pathWalk(path, initialValues) {\n  let values = Stream_1.stream(initialValues);\n  const segments = path.split(':').map(text => +text);\n  if (segments.length === 0) return values;\n\n  if (!segments.every(v => !Number.isNaN(v))) {\n    throw new Error(`Unable to replay, got invalid path=${path}`);\n  }\n\n  values = values.drop(segments[0]);\n\n  for (const s of segments.slice(1)) {\n    const valueToShrink = values.getNthOrLast(0);\n\n    if (valueToShrink == null) {\n      throw new Error(`Unable to replay, got wrong path=${path}`);\n    }\n\n    values = valueToShrink.shrink().drop(s);\n  }\n\n  return values;\n}\n\nexports.pathWalk = pathWalk;","map":null,"metadata":{},"sourceType":"script"}