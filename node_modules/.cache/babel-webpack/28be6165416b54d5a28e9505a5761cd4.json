{"ast":null,"code":"'use strict';\n\nvar _asyncToGenerator = require(\"/Users/sydneybailey/Internship/contract-testing/node_modules/@babel/runtime/helpers/asyncToGenerator\").default;\n\nconst getIterator = require('get-iterator'); // a pair of streams where one drains from the other\n\n\nmodule.exports = function pair() {\n  let _source, onSource;\n\n  const sink = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (source) {\n      if (_source) throw new Error('already piped');\n      _source = getIterator(source);\n      if (onSource) onSource(_source);\n    });\n\n    return function sink(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const source = {\n    [Symbol.asyncIterator]() {\n      return this;\n    },\n\n    next() {\n      if (_source) return _source.next();\n      return new Promise(resolve => {\n        onSource = source => {\n          onSource = null;\n          resolve(source.next());\n        };\n      });\n    }\n\n  };\n  return {\n    sink,\n    source\n  };\n};","map":null,"metadata":{},"sourceType":"script"}