{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getENSContract = getENSContract;\nexports.getResolverContract = getResolverContract;\nexports.getEnsAddress = getEnsAddress;\nObject.defineProperty(exports, \"namehash\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.namehash;\n  }\n});\nObject.defineProperty(exports, \"labelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.labelhash;\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _addressEncoder = require(\"@ensdomains/address-encoder\");\n\nvar _ENS = require(\"@ensdomains/ens/build/contracts/ENS.json\");\n\nvar _Resolver5 = require(\"@ensdomains/resolver/build/contracts/Resolver.json\");\n\nvar _ReverseRegistrar = require(\"@ensdomains/ens/build/contracts/ReverseRegistrar.json\");\n\nvar _utils = require(\"./utils\");\n\nvar _contents = require(\"./utils/contents\");\n\nvar Provider = _ethers.ethers.providers.Provider;\nvar utils = _ethers.ethers.utils;\n\nfunction getEnsAddress(networkId) {\n  if ([1, 3, 4, 5].includes(parseInt(networkId))) {\n    return '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e';\n  }\n}\n\nfunction getResolverContract(_ref) {\n  var address = _ref.address,\n      provider = _ref.provider;\n  return new _ethers.ethers.Contract(address, _Resolver5.abi, provider);\n}\n\nfunction getENSContract(_ref2) {\n  var address = _ref2.address,\n      provider = _ref2.provider;\n  return new _ethers.ethers.Contract(address, _ENS.abi, provider);\n}\n\nfunction getReverseRegistrarContract(_ref3) {\n  var address = _ref3.address,\n      provider = _ref3.provider;\n  return new _ethers.ethers.Contract(address, _ReverseRegistrar.abi, provider);\n}\n\nfunction getAddrWithResolver(_x) {\n  return _getAddrWithResolver.apply(this, arguments);\n}\n\nfunction _getAddrWithResolver() {\n  _getAddrWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee20(_ref4) {\n    var name, key, resolverAddr, provider, nh, _Resolver2, _formatsByName$key, coinType, encoder, addr;\n\n    return _regenerator[\"default\"].wrap(function _callee20$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            name = _ref4.name, key = _ref4.key, resolverAddr = _ref4.resolverAddr, provider = _ref4.provider;\n            nh = (0, _utils.namehash)(name);\n            _context20.prev = 2;\n            _Resolver2 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            _formatsByName$key = _addressEncoder.formatsByName[key], coinType = _formatsByName$key.coinType, encoder = _formatsByName$key.encoder;\n            _context20.next = 7;\n            return _Resolver2['addr(bytes32,uint256)'](nh, coinType);\n\n          case 7:\n            addr = _context20.sent;\n\n            if (!(addr === '0x')) {\n              _context20.next = 10;\n              break;\n            }\n\n            return _context20.abrupt(\"return\", _utils.emptyAddress);\n\n          case 10:\n            return _context20.abrupt(\"return\", encoder(Buffer.from(addr.slice(2), 'hex')));\n\n          case 13:\n            _context20.prev = 13;\n            _context20.t0 = _context20[\"catch\"](2);\n            console.log(_context20.t0);\n            console.warn('Error getting addr on the resolver contract, are you sure the resolver address is a resolver contract?');\n            return _context20.abrupt(\"return\", _utils.emptyAddress);\n\n          case 18:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee20, null, [[2, 13]]);\n  }));\n  return _getAddrWithResolver.apply(this, arguments);\n}\n\nfunction setAddrWithResolver(_x2) {\n  return _setAddrWithResolver.apply(this, arguments);\n}\n\nfunction _setAddrWithResolver() {\n  _setAddrWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee21(_ref5) {\n    var name, key, address, resolverAddr, signer, nh, Resolver, _formatsByName$key2, decoder, coinType, addressAsBytes;\n\n    return _regenerator[\"default\"].wrap(function _callee21$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            name = _ref5.name, key = _ref5.key, address = _ref5.address, resolverAddr = _ref5.resolverAddr, signer = _ref5.signer;\n            nh = (0, _utils.namehash)(name);\n            Resolver = getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            });\n            _formatsByName$key2 = _addressEncoder.formatsByName[key], decoder = _formatsByName$key2.decoder, coinType = _formatsByName$key2.coinType;\n\n            if (!address || address === '') {\n              addressAsBytes = Buffer.from('');\n            } else {\n              addressAsBytes = decoder(address);\n            }\n\n            return _context21.abrupt(\"return\", Resolver['setAddr(bytes32,uint256,bytes)'](nh, coinType, addressAsBytes));\n\n          case 6:\n          case \"end\":\n            return _context21.stop();\n        }\n      }\n    }, _callee21);\n  }));\n  return _setAddrWithResolver.apply(this, arguments);\n}\n\nfunction getContentWithResolver(_x3) {\n  return _getContentWithResolver.apply(this, arguments);\n}\n\nfunction _getContentWithResolver() {\n  _getContentWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee22(_ref6) {\n    var name, resolverAddr, provider, nh, _Resolver3, contentHashSignature, isContentHashSupported, _decodeContenthash, protocolType, decoded, error, value, message;\n\n    return _regenerator[\"default\"].wrap(function _callee22$(_context22) {\n      while (1) {\n        switch (_context22.prev = _context22.next) {\n          case 0:\n            name = _ref6.name, resolverAddr = _ref6.resolverAddr, provider = _ref6.provider;\n            nh = (0, _utils.namehash)(name);\n\n            if (!(parseInt(resolverAddr, 16) === 0)) {\n              _context22.next = 4;\n              break;\n            }\n\n            return _context22.abrupt(\"return\", _utils.emptyAddress);\n\n          case 4:\n            _context22.prev = 4;\n            _Resolver3 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            contentHashSignature = utils.solidityKeccak256(['string'], ['contenthash(bytes32)']).slice(0, 10);\n            _context22.next = 9;\n            return _Resolver3.supportsInterface(contentHashSignature);\n\n          case 9:\n            isContentHashSupported = _context22.sent;\n\n            if (!isContentHashSupported) {\n              _context22.next = 25;\n              break;\n            }\n\n            _context22.t0 = _contents.decodeContenthash;\n            _context22.next = 14;\n            return _Resolver3.contenthash(nh);\n\n          case 14:\n            _context22.t1 = _context22.sent;\n            _decodeContenthash = (0, _context22.t0)(_context22.t1);\n            protocolType = _decodeContenthash.protocolType;\n            decoded = _decodeContenthash.decoded;\n            error = _decodeContenthash.error;\n\n            if (!error) {\n              _context22.next = 22;\n              break;\n            }\n\n            console.log('error decoding', error);\n            return _context22.abrupt(\"return\", {\n              value: _utils.emptyAddress,\n              contentType: 'contenthash'\n            });\n\n          case 22:\n            return _context22.abrupt(\"return\", {\n              value: \"\".concat(protocolType, \"://\").concat(decoded),\n              contentType: 'contenthash'\n            });\n\n          case 25:\n            _context22.next = 27;\n            return _Resolver3.content(nh);\n\n          case 27:\n            value = _context22.sent;\n            return _context22.abrupt(\"return\", {\n              value: value,\n              contentType: 'oldcontent'\n            });\n\n          case 29:\n            _context22.next = 36;\n            break;\n\n          case 31:\n            _context22.prev = 31;\n            _context22.t2 = _context22[\"catch\"](4);\n            message = 'Error getting content on the resolver contract, are you sure the resolver address is a resolver contract?';\n            console.warn(message, _context22.t2);\n            return _context22.abrupt(\"return\", {\n              value: message,\n              contentType: 'error'\n            });\n\n          case 36:\n          case \"end\":\n            return _context22.stop();\n        }\n      }\n    }, _callee22, null, [[4, 31]]);\n  }));\n  return _getContentWithResolver.apply(this, arguments);\n}\n\nfunction setContenthashWithResolver(_x4) {\n  return _setContenthashWithResolver.apply(this, arguments);\n}\n\nfunction _setContenthashWithResolver() {\n  _setContenthashWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee23(_ref7) {\n    var name, content, resolverAddr, signer, encodedContenthash, Resolver;\n    return _regenerator[\"default\"].wrap(function _callee23$(_context23) {\n      while (1) {\n        switch (_context23.prev = _context23.next) {\n          case 0:\n            name = _ref7.name, content = _ref7.content, resolverAddr = _ref7.resolverAddr, signer = _ref7.signer;\n            encodedContenthash = content;\n\n            if (parseInt(content, 16) !== 0) {\n              encodedContenthash = (0, _contents.encodeContenthash)(content);\n            }\n\n            Resolver = getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            });\n            return _context23.abrupt(\"return\", Resolver.setContenthash((0, _utils.namehash)(name), encodedContenthash));\n\n          case 5:\n          case \"end\":\n            return _context23.stop();\n        }\n      }\n    }, _callee23);\n  }));\n  return _setContenthashWithResolver.apply(this, arguments);\n}\n\nfunction getTextWithResolver(_x5) {\n  return _getTextWithResolver.apply(this, arguments);\n}\n\nfunction _getTextWithResolver() {\n  _getTextWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee24(_ref8) {\n    var name, key, resolverAddr, provider, nh, _Resolver4, addr;\n\n    return _regenerator[\"default\"].wrap(function _callee24$(_context24) {\n      while (1) {\n        switch (_context24.prev = _context24.next) {\n          case 0:\n            name = _ref8.name, key = _ref8.key, resolverAddr = _ref8.resolverAddr, provider = _ref8.provider;\n            nh = (0, _utils.namehash)(name);\n\n            if (!(parseInt(resolverAddr, 16) === 0)) {\n              _context24.next = 4;\n              break;\n            }\n\n            return _context24.abrupt(\"return\", '');\n\n          case 4:\n            _context24.prev = 4;\n            _Resolver4 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            _context24.next = 8;\n            return _Resolver4.text(nh, key);\n\n          case 8:\n            addr = _context24.sent;\n            return _context24.abrupt(\"return\", addr);\n\n          case 12:\n            _context24.prev = 12;\n            _context24.t0 = _context24[\"catch\"](4);\n            console.warn('Error getting text record on the resolver contract, are you sure the resolver address is a resolver contract?');\n            return _context24.abrupt(\"return\", '');\n\n          case 16:\n          case \"end\":\n            return _context24.stop();\n        }\n      }\n    }, _callee24, null, [[4, 12]]);\n  }));\n  return _getTextWithResolver.apply(this, arguments);\n}\n\nfunction setTextWithResolver(_x6) {\n  return _setTextWithResolver.apply(this, arguments);\n}\n\nfunction _setTextWithResolver() {\n  _setTextWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee25(_ref9) {\n    var name, key, recordValue, resolverAddr, signer, nh;\n    return _regenerator[\"default\"].wrap(function _callee25$(_context25) {\n      while (1) {\n        switch (_context25.prev = _context25.next) {\n          case 0:\n            name = _ref9.name, key = _ref9.key, recordValue = _ref9.recordValue, resolverAddr = _ref9.resolverAddr, signer = _ref9.signer;\n            nh = (0, _utils.namehash)(name);\n            return _context25.abrupt(\"return\", getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            }).setText(nh, key, recordValue));\n\n          case 3:\n          case \"end\":\n            return _context25.stop();\n        }\n      }\n    }, _callee25);\n  }));\n  return _setTextWithResolver.apply(this, arguments);\n}\n\nvar Resolver = /*#__PURE__*/function () {\n  //TODO\n  function Resolver(_ref10) {\n    var address = _ref10.address,\n        ens = _ref10.ens;\n    (0, _classCallCheck2[\"default\"])(this, Resolver);\n    this.address = address;\n    this.ens = ens;\n  }\n\n  (0, _createClass2[\"default\"])(Resolver, [{\n    key: \"name\",\n    value: function name(_name) {\n      return new Name({\n        name: _name,\n        ens: this.ens,\n        provider: this.provider,\n        signer: this.signer,\n        resolver: this.address\n      });\n    }\n  }]);\n  return Resolver;\n}();\n\nvar Name = /*#__PURE__*/function () {\n  function Name(options) {\n    (0, _classCallCheck2[\"default\"])(this, Name);\n    var name = options.name,\n        ens = options.ens,\n        provider = options.provider,\n        signer = options.signer,\n        nh = options.namehash,\n        resolver = options.resolver;\n\n    if (options.namehash) {\n      this.namehash = nh;\n    }\n\n    this.ens = ens;\n    this.ensWithSigner = this.ens.connect(signer);\n    this.name = name;\n    this.namehash = (0, _utils.namehash)(name);\n    this.provider = provider;\n    this.signer = signer;\n    this.resolver = resolver;\n  }\n\n  (0, _createClass2[\"default\"])(Name, [{\n    key: \"getOwner\",\n    value: function () {\n      var _getOwner = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.ens.owner(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getOwner() {\n        return _getOwner.apply(this, arguments);\n      }\n\n      return getOwner;\n    }()\n  }, {\n    key: \"setOwner\",\n    value: function () {\n      var _setOwner = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(address) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (address) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new Error('No newOwner address provided!');\n\n              case 2:\n                return _context2.abrupt(\"return\", this.ensWithSigner.setOwner(this.namehash, address));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setOwner(_x7) {\n        return _setOwner.apply(this, arguments);\n      }\n\n      return setOwner;\n    }()\n  }, {\n    key: \"getResolver\",\n    value: function () {\n      var _getResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this.ens.resolver(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getResolver() {\n        return _getResolver.apply(this, arguments);\n      }\n\n      return getResolver;\n    }()\n  }, {\n    key: \"setResolver\",\n    value: function () {\n      var _setResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(address) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (address) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw new Error('No resolver address provided!');\n\n              case 2:\n                return _context4.abrupt(\"return\", this.ensWithSigner.setResolver(this.namehash, address));\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function setResolver(_x8) {\n        return _setResolver.apply(this, arguments);\n      }\n\n      return setResolver;\n    }()\n  }, {\n    key: \"getTTL\",\n    value: function () {\n      var _getTTL = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this.ens.ttl(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTTL() {\n        return _getTTL.apply(this, arguments);\n      }\n\n      return getTTL;\n    }()\n  }, {\n    key: \"getResolverAddr\",\n    value: function () {\n      var _getResolverAddr = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6() {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!this.resolver) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", this.resolver);\n\n              case 4:\n                return _context6.abrupt(\"return\", this.getResolver());\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getResolverAddr() {\n        return _getResolverAddr.apply(this, arguments);\n      }\n\n      return getResolverAddr;\n    }()\n  }, {\n    key: \"getAddress\",\n    value: function () {\n      var _getAddress = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(coinId) {\n        var resolverAddr, Resolver;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context7.sent;\n\n                if (!(parseInt(resolverAddr, 16) === 0)) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", _utils.emptyAddress);\n\n              case 5:\n                Resolver = getResolverContract({\n                  address: resolverAddr,\n                  provider: this.provider\n                });\n\n                if (coinId) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", Resolver['addr(bytes32)'](this.namehash));\n\n              case 8:\n                return _context7.abrupt(\"return\", getAddrWithResolver({\n                  name: this.name,\n                  key: coinId,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getAddress(_x9) {\n        return _getAddress.apply(this, arguments);\n      }\n\n      return getAddress;\n    }()\n  }, {\n    key: \"setAddress\",\n    value: function () {\n      var _setAddress = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(key, address) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (key) {\n                  _context8.next = 2;\n                  break;\n                }\n\n                throw new Error('No coinId provided');\n\n              case 2:\n                if (address) {\n                  _context8.next = 4;\n                  break;\n                }\n\n                throw new Error('No address provided');\n\n              case 4:\n                _context8.next = 6;\n                return this.getResolverAddr();\n\n              case 6:\n                resolverAddr = _context8.sent;\n                return _context8.abrupt(\"return\", setAddrWithResolver({\n                  name: this.name,\n                  key: key,\n                  address: address,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function setAddress(_x10, _x11) {\n        return _setAddress.apply(this, arguments);\n      }\n\n      return setAddress;\n    }()\n  }, {\n    key: \"getContent\",\n    value: function () {\n      var _getContent = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9() {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context9.sent;\n                return _context9.abrupt(\"return\", getContentWithResolver({\n                  name: this.name,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getContent() {\n        return _getContent.apply(this, arguments);\n      }\n\n      return getContent;\n    }()\n  }, {\n    key: \"setContenthash\",\n    value: function () {\n      var _setContenthash = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(content) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context10.sent;\n                console.log(content);\n                return _context10.abrupt(\"return\", setContenthashWithResolver({\n                  name: this.name,\n                  content: content,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function setContenthash(_x12) {\n        return _setContenthash.apply(this, arguments);\n      }\n\n      return setContenthash;\n    }()\n  }, {\n    key: \"getText\",\n    value: function () {\n      var _getText = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(key) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context11.sent;\n                return _context11.abrupt(\"return\", getTextWithResolver({\n                  name: this.name,\n                  key: key,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 4:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function getText(_x13) {\n        return _getText.apply(this, arguments);\n      }\n\n      return getText;\n    }()\n  }, {\n    key: \"setText\",\n    value: function () {\n      var _setText = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(key, recordValue) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context12.sent;\n                return _context12.abrupt(\"return\", setTextWithResolver({\n                  name: this.name,\n                  key: key,\n                  recordValue: recordValue,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 4:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function setText(_x14, _x15) {\n        return _setText.apply(this, arguments);\n      }\n\n      return setText;\n    }()\n  }, {\n    key: \"setSubnodeOwner\",\n    value: function () {\n      var _setSubnodeOwner = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13(label, newOwner) {\n        var lh;\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                lh = (0, _utils.labelhash)(label);\n                return _context13.abrupt(\"return\", this.ensWithSigner.setSubnodeOwner(this.namehash, lh, newOwner));\n\n              case 2:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function setSubnodeOwner(_x16, _x17) {\n        return _setSubnodeOwner.apply(this, arguments);\n      }\n\n      return setSubnodeOwner;\n    }()\n  }, {\n    key: \"setSubnodeRecord\",\n    value: function () {\n      var _setSubnodeRecord = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14(label, newOwner, resolver) {\n        var ttl,\n            lh,\n            _args14 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                ttl = _args14.length > 3 && _args14[3] !== undefined ? _args14[3] : 0;\n                lh = (0, _utils.labelhash)(label);\n                return _context14.abrupt(\"return\", this.ensWithSigner.setSubnodeRecord(this.namehash, lh, newOwner, resolver, ttl));\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function setSubnodeRecord(_x18, _x19, _x20) {\n        return _setSubnodeRecord.apply(this, arguments);\n      }\n\n      return setSubnodeRecord;\n    }()\n  }, {\n    key: \"createSubdomain\",\n    value: function () {\n      var _createSubdomain = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15(label) {\n        var resolverPromise, ownerPromise, _ref11, _ref12, resolver, owner;\n\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                resolverPromise = this.getResolver();\n                ownerPromise = this.getOwner();\n                _context15.next = 4;\n                return Promise.all([resolverPromise, ownerPromise]);\n\n              case 4:\n                _ref11 = _context15.sent;\n                _ref12 = (0, _slicedToArray2[\"default\"])(_ref11, 2);\n                resolver = _ref12[0];\n                owner = _ref12[1];\n                return _context15.abrupt(\"return\", this.setSubnodeRecord(label, owner, resolver));\n\n              case 9:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function createSubdomain(_x21) {\n        return _createSubdomain.apply(this, arguments);\n      }\n\n      return createSubdomain;\n    }()\n  }, {\n    key: \"deleteSubdomain\",\n    value: function () {\n      var _deleteSubdomain = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16(label) {\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt(\"return\", this.setSubnodeRecord(label, _utils.emptyAddress, _utils.emptyAddress));\n\n              case 1:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function deleteSubdomain(_x22) {\n        return _deleteSubdomain.apply(this, arguments);\n      }\n\n      return deleteSubdomain;\n    }()\n  }]);\n  return Name;\n}();\n\nvar ENS = /*#__PURE__*/function () {\n  function ENS(options) {\n    (0, _classCallCheck2[\"default\"])(this, ENS);\n    var networkId = options.networkId,\n        provider = options.provider,\n        ensAddress = options.ensAddress;\n    var ethersProvider;\n\n    if (Provider.isProvider(provider)) {\n      //detect ethersProvider\n      ethersProvider = provider;\n    } else {\n      ethersProvider = new _ethers.ethers.providers.Web3Provider(provider);\n    }\n\n    this.provider = ethersProvider;\n    this.signer = ethersProvider.getSigner();\n    this.ens = getENSContract({\n      address: ensAddress ? ensAddress : registries[networkId],\n      provider: ethersProvider\n    });\n  }\n\n  (0, _createClass2[\"default\"])(ENS, [{\n    key: \"name\",\n    value: function name(_name2) {\n      return new Name({\n        name: _name2,\n        ens: this.ens,\n        provider: this.provider,\n        signer: this.signer\n      });\n    }\n  }, {\n    key: \"resolver\",\n    value: function resolver(address) {\n      return new Resolver({\n        ens: this.ens,\n        provider: this.provider,\n        address: address\n      });\n    }\n  }, {\n    key: \"getName\",\n    value: function () {\n      var _getName = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee17(address) {\n        var reverseNode, resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                reverseNode = \"\".concat(address.slice(2), \".addr.reverse\");\n                _context17.next = 3;\n                return this.ens.resolver((0, _utils.namehash)(reverseNode));\n\n              case 3:\n                resolverAddr = _context17.sent;\n                return _context17.abrupt(\"return\", this.getNameWithResolver(address, resolverAddr));\n\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function getName(_x23) {\n        return _getName.apply(this, arguments);\n      }\n\n      return getName;\n    }()\n  }, {\n    key: \"getNameWithResolver\",\n    value: function () {\n      var _getNameWithResolver = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee18(address, resolverAddr) {\n        var reverseNode, reverseNamehash, _Resolver, name;\n\n        return _regenerator[\"default\"].wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reverseNode = \"\".concat(address.slice(2), \".addr.reverse\");\n                reverseNamehash = (0, _utils.namehash)(reverseNode);\n\n                if (!(parseInt(resolverAddr, 16) === 0)) {\n                  _context18.next = 4;\n                  break;\n                }\n\n                return _context18.abrupt(\"return\", {\n                  name: null\n                });\n\n              case 4:\n                _context18.prev = 4;\n                _Resolver = getResolverContract({\n                  address: resolverAddr,\n                  provider: this.provider\n                });\n                _context18.next = 8;\n                return _Resolver.name(reverseNamehash);\n\n              case 8:\n                name = _context18.sent;\n                return _context18.abrupt(\"return\", {\n                  name: name\n                });\n\n              case 12:\n                _context18.prev = 12;\n                _context18.t0 = _context18[\"catch\"](4);\n                console.log(\"Error getting name for reverse record of \".concat(address), _context18.t0);\n\n              case 15:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this, [[4, 12]]);\n      }));\n\n      function getNameWithResolver(_x24, _x25) {\n        return _getNameWithResolver.apply(this, arguments);\n      }\n\n      return getNameWithResolver;\n    }()\n  }, {\n    key: \"setReverseRecord\",\n    value: function () {\n      var _setReverseRecord = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee19(name, overrides) {\n        var reverseRegistrarAddr, reverseRegistrar;\n        return _regenerator[\"default\"].wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.next = 2;\n                return this.name('addr.reverse').getOwner('addr.reverse');\n\n              case 2:\n                reverseRegistrarAddr = _context19.sent;\n                reverseRegistrar = getReverseRegistrarContract({\n                  address: reverseRegistrarAddr,\n                  provider: this.signer\n                });\n                return _context19.abrupt(\"return\", reverseRegistrar.setName(name));\n\n              case 5:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function setReverseRecord(_x26, _x27) {\n        return _setReverseRecord.apply(this, arguments);\n      }\n\n      return setReverseRecord;\n    }()\n  }]);\n  return ENS;\n}();\n\nexports[\"default\"] = ENS;","map":{"version":3,"sources":["/Users/sydneybailey/Internship/Demo/node_modules/@ensdomains/ensjs/dist/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","getENSContract","getResolverContract","getEnsAddress","enumerable","get","_utils","namehash","labelhash","_slicedToArray2","_regenerator","_classCallCheck2","_createClass2","_asyncToGenerator2","_ethers","_addressEncoder","_ENS","_Resolver5","_ReverseRegistrar","_contents","Provider","ethers","providers","utils","networkId","includes","parseInt","_ref","address","provider","Contract","abi","_ref2","getReverseRegistrarContract","_ref3","getAddrWithResolver","_x","_getAddrWithResolver","apply","arguments","mark","_callee20","_ref4","name","key","resolverAddr","nh","_Resolver2","_formatsByName$key","coinType","encoder","addr","wrap","_callee20$","_context20","prev","next","formatsByName","sent","abrupt","emptyAddress","Buffer","from","slice","t0","console","log","warn","stop","setAddrWithResolver","_x2","_setAddrWithResolver","_callee21","_ref5","signer","Resolver","_formatsByName$key2","decoder","addressAsBytes","_callee21$","_context21","getContentWithResolver","_x3","_getContentWithResolver","_callee22","_ref6","_Resolver3","contentHashSignature","isContentHashSupported","_decodeContenthash","protocolType","decoded","error","message","_callee22$","_context22","solidityKeccak256","supportsInterface","decodeContenthash","contenthash","t1","contentType","concat","content","t2","setContenthashWithResolver","_x4","_setContenthashWithResolver","_callee23","_ref7","encodedContenthash","_callee23$","_context23","encodeContenthash","setContenthash","getTextWithResolver","_x5","_getTextWithResolver","_callee24","_ref8","_Resolver4","_callee24$","_context24","text","setTextWithResolver","_x6","_setTextWithResolver","_callee25","_ref9","recordValue","_callee25$","_context25","setText","_ref10","ens","_name","Name","resolver","options","ensWithSigner","connect","_getOwner","_callee","_callee$","_context","owner","getOwner","_setOwner","_callee2","_callee2$","_context2","Error","setOwner","_x7","_getResolver","_callee3","_callee3$","_context3","getResolver","_setResolver","_callee4","_callee4$","_context4","setResolver","_x8","_getTTL","_callee5","_callee5$","_context5","ttl","getTTL","_getResolverAddr","_callee6","_callee6$","_context6","getResolverAddr","_getAddress","_callee7","coinId","_callee7$","_context7","getAddress","_x9","_setAddress","_callee8","_callee8$","_context8","setAddress","_x10","_x11","_getContent","_callee9","_callee9$","_context9","getContent","_setContenthash","_callee10","_callee10$","_context10","_x12","_getText","_callee11","_callee11$","_context11","getText","_x13","_setText","_callee12","_callee12$","_context12","_x14","_x15","_setSubnodeOwner","_callee13","label","newOwner","lh","_callee13$","_context13","setSubnodeOwner","_x16","_x17","_setSubnodeRecord","_callee14","_args14","_callee14$","_context14","length","undefined","setSubnodeRecord","_x18","_x19","_x20","_createSubdomain","_callee15","resolverPromise","ownerPromise","_ref11","_ref12","_callee15$","_context15","Promise","all","createSubdomain","_x21","_deleteSubdomain","_callee16","_callee16$","_context16","deleteSubdomain","_x22","ENS","ensAddress","ethersProvider","isProvider","Web3Provider","getSigner","registries","_name2","_getName","_callee17","reverseNode","_callee17$","_context17","getNameWithResolver","getName","_x23","_getNameWithResolver","_callee18","reverseNamehash","_Resolver","_callee18$","_context18","_x24","_x25","_setReverseRecord","_callee19","overrides","reverseRegistrarAddr","reverseRegistrar","_callee19$","_context19","setName","setReverseRecord","_x26","_x27"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getENSContract = getENSContract;\nexports.getResolverContract = getResolverContract;\nexports.getEnsAddress = getEnsAddress;\nObject.defineProperty(exports, \"namehash\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.namehash;\n  }\n});\nObject.defineProperty(exports, \"labelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.labelhash;\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _addressEncoder = require(\"@ensdomains/address-encoder\");\n\nvar _ENS = require(\"@ensdomains/ens/build/contracts/ENS.json\");\n\nvar _Resolver5 = require(\"@ensdomains/resolver/build/contracts/Resolver.json\");\n\nvar _ReverseRegistrar = require(\"@ensdomains/ens/build/contracts/ReverseRegistrar.json\");\n\nvar _utils = require(\"./utils\");\n\nvar _contents = require(\"./utils/contents\");\n\nvar Provider = _ethers.ethers.providers.Provider;\nvar utils = _ethers.ethers.utils;\n\nfunction getEnsAddress(networkId) {\n  if ([1, 3, 4, 5].includes(parseInt(networkId))) {\n    return '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e';\n  }\n}\n\nfunction getResolverContract(_ref) {\n  var address = _ref.address,\n      provider = _ref.provider;\n  return new _ethers.ethers.Contract(address, _Resolver5.abi, provider);\n}\n\nfunction getENSContract(_ref2) {\n  var address = _ref2.address,\n      provider = _ref2.provider;\n  return new _ethers.ethers.Contract(address, _ENS.abi, provider);\n}\n\nfunction getReverseRegistrarContract(_ref3) {\n  var address = _ref3.address,\n      provider = _ref3.provider;\n  return new _ethers.ethers.Contract(address, _ReverseRegistrar.abi, provider);\n}\n\nfunction getAddrWithResolver(_x) {\n  return _getAddrWithResolver.apply(this, arguments);\n}\n\nfunction _getAddrWithResolver() {\n  _getAddrWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee20(_ref4) {\n    var name, key, resolverAddr, provider, nh, _Resolver2, _formatsByName$key, coinType, encoder, addr;\n\n    return _regenerator[\"default\"].wrap(function _callee20$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            name = _ref4.name, key = _ref4.key, resolverAddr = _ref4.resolverAddr, provider = _ref4.provider;\n            nh = (0, _utils.namehash)(name);\n            _context20.prev = 2;\n            _Resolver2 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            _formatsByName$key = _addressEncoder.formatsByName[key], coinType = _formatsByName$key.coinType, encoder = _formatsByName$key.encoder;\n            _context20.next = 7;\n            return _Resolver2['addr(bytes32,uint256)'](nh, coinType);\n\n          case 7:\n            addr = _context20.sent;\n\n            if (!(addr === '0x')) {\n              _context20.next = 10;\n              break;\n            }\n\n            return _context20.abrupt(\"return\", _utils.emptyAddress);\n\n          case 10:\n            return _context20.abrupt(\"return\", encoder(Buffer.from(addr.slice(2), 'hex')));\n\n          case 13:\n            _context20.prev = 13;\n            _context20.t0 = _context20[\"catch\"](2);\n            console.log(_context20.t0);\n            console.warn('Error getting addr on the resolver contract, are you sure the resolver address is a resolver contract?');\n            return _context20.abrupt(\"return\", _utils.emptyAddress);\n\n          case 18:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee20, null, [[2, 13]]);\n  }));\n  return _getAddrWithResolver.apply(this, arguments);\n}\n\nfunction setAddrWithResolver(_x2) {\n  return _setAddrWithResolver.apply(this, arguments);\n}\n\nfunction _setAddrWithResolver() {\n  _setAddrWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee21(_ref5) {\n    var name, key, address, resolverAddr, signer, nh, Resolver, _formatsByName$key2, decoder, coinType, addressAsBytes;\n\n    return _regenerator[\"default\"].wrap(function _callee21$(_context21) {\n      while (1) {\n        switch (_context21.prev = _context21.next) {\n          case 0:\n            name = _ref5.name, key = _ref5.key, address = _ref5.address, resolverAddr = _ref5.resolverAddr, signer = _ref5.signer;\n            nh = (0, _utils.namehash)(name);\n            Resolver = getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            });\n            _formatsByName$key2 = _addressEncoder.formatsByName[key], decoder = _formatsByName$key2.decoder, coinType = _formatsByName$key2.coinType;\n\n            if (!address || address === '') {\n              addressAsBytes = Buffer.from('');\n            } else {\n              addressAsBytes = decoder(address);\n            }\n\n            return _context21.abrupt(\"return\", Resolver['setAddr(bytes32,uint256,bytes)'](nh, coinType, addressAsBytes));\n\n          case 6:\n          case \"end\":\n            return _context21.stop();\n        }\n      }\n    }, _callee21);\n  }));\n  return _setAddrWithResolver.apply(this, arguments);\n}\n\nfunction getContentWithResolver(_x3) {\n  return _getContentWithResolver.apply(this, arguments);\n}\n\nfunction _getContentWithResolver() {\n  _getContentWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee22(_ref6) {\n    var name, resolverAddr, provider, nh, _Resolver3, contentHashSignature, isContentHashSupported, _decodeContenthash, protocolType, decoded, error, value, message;\n\n    return _regenerator[\"default\"].wrap(function _callee22$(_context22) {\n      while (1) {\n        switch (_context22.prev = _context22.next) {\n          case 0:\n            name = _ref6.name, resolverAddr = _ref6.resolverAddr, provider = _ref6.provider;\n            nh = (0, _utils.namehash)(name);\n\n            if (!(parseInt(resolverAddr, 16) === 0)) {\n              _context22.next = 4;\n              break;\n            }\n\n            return _context22.abrupt(\"return\", _utils.emptyAddress);\n\n          case 4:\n            _context22.prev = 4;\n            _Resolver3 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            contentHashSignature = utils.solidityKeccak256(['string'], ['contenthash(bytes32)']).slice(0, 10);\n            _context22.next = 9;\n            return _Resolver3.supportsInterface(contentHashSignature);\n\n          case 9:\n            isContentHashSupported = _context22.sent;\n\n            if (!isContentHashSupported) {\n              _context22.next = 25;\n              break;\n            }\n\n            _context22.t0 = _contents.decodeContenthash;\n            _context22.next = 14;\n            return _Resolver3.contenthash(nh);\n\n          case 14:\n            _context22.t1 = _context22.sent;\n            _decodeContenthash = (0, _context22.t0)(_context22.t1);\n            protocolType = _decodeContenthash.protocolType;\n            decoded = _decodeContenthash.decoded;\n            error = _decodeContenthash.error;\n\n            if (!error) {\n              _context22.next = 22;\n              break;\n            }\n\n            console.log('error decoding', error);\n            return _context22.abrupt(\"return\", {\n              value: _utils.emptyAddress,\n              contentType: 'contenthash'\n            });\n\n          case 22:\n            return _context22.abrupt(\"return\", {\n              value: \"\".concat(protocolType, \"://\").concat(decoded),\n              contentType: 'contenthash'\n            });\n\n          case 25:\n            _context22.next = 27;\n            return _Resolver3.content(nh);\n\n          case 27:\n            value = _context22.sent;\n            return _context22.abrupt(\"return\", {\n              value: value,\n              contentType: 'oldcontent'\n            });\n\n          case 29:\n            _context22.next = 36;\n            break;\n\n          case 31:\n            _context22.prev = 31;\n            _context22.t2 = _context22[\"catch\"](4);\n            message = 'Error getting content on the resolver contract, are you sure the resolver address is a resolver contract?';\n            console.warn(message, _context22.t2);\n            return _context22.abrupt(\"return\", {\n              value: message,\n              contentType: 'error'\n            });\n\n          case 36:\n          case \"end\":\n            return _context22.stop();\n        }\n      }\n    }, _callee22, null, [[4, 31]]);\n  }));\n  return _getContentWithResolver.apply(this, arguments);\n}\n\nfunction setContenthashWithResolver(_x4) {\n  return _setContenthashWithResolver.apply(this, arguments);\n}\n\nfunction _setContenthashWithResolver() {\n  _setContenthashWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee23(_ref7) {\n    var name, content, resolverAddr, signer, encodedContenthash, Resolver;\n    return _regenerator[\"default\"].wrap(function _callee23$(_context23) {\n      while (1) {\n        switch (_context23.prev = _context23.next) {\n          case 0:\n            name = _ref7.name, content = _ref7.content, resolverAddr = _ref7.resolverAddr, signer = _ref7.signer;\n            encodedContenthash = content;\n\n            if (parseInt(content, 16) !== 0) {\n              encodedContenthash = (0, _contents.encodeContenthash)(content);\n            }\n\n            Resolver = getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            });\n            return _context23.abrupt(\"return\", Resolver.setContenthash((0, _utils.namehash)(name), encodedContenthash));\n\n          case 5:\n          case \"end\":\n            return _context23.stop();\n        }\n      }\n    }, _callee23);\n  }));\n  return _setContenthashWithResolver.apply(this, arguments);\n}\n\nfunction getTextWithResolver(_x5) {\n  return _getTextWithResolver.apply(this, arguments);\n}\n\nfunction _getTextWithResolver() {\n  _getTextWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee24(_ref8) {\n    var name, key, resolverAddr, provider, nh, _Resolver4, addr;\n\n    return _regenerator[\"default\"].wrap(function _callee24$(_context24) {\n      while (1) {\n        switch (_context24.prev = _context24.next) {\n          case 0:\n            name = _ref8.name, key = _ref8.key, resolverAddr = _ref8.resolverAddr, provider = _ref8.provider;\n            nh = (0, _utils.namehash)(name);\n\n            if (!(parseInt(resolverAddr, 16) === 0)) {\n              _context24.next = 4;\n              break;\n            }\n\n            return _context24.abrupt(\"return\", '');\n\n          case 4:\n            _context24.prev = 4;\n            _Resolver4 = getResolverContract({\n              address: resolverAddr,\n              provider: provider\n            });\n            _context24.next = 8;\n            return _Resolver4.text(nh, key);\n\n          case 8:\n            addr = _context24.sent;\n            return _context24.abrupt(\"return\", addr);\n\n          case 12:\n            _context24.prev = 12;\n            _context24.t0 = _context24[\"catch\"](4);\n            console.warn('Error getting text record on the resolver contract, are you sure the resolver address is a resolver contract?');\n            return _context24.abrupt(\"return\", '');\n\n          case 16:\n          case \"end\":\n            return _context24.stop();\n        }\n      }\n    }, _callee24, null, [[4, 12]]);\n  }));\n  return _getTextWithResolver.apply(this, arguments);\n}\n\nfunction setTextWithResolver(_x6) {\n  return _setTextWithResolver.apply(this, arguments);\n}\n\nfunction _setTextWithResolver() {\n  _setTextWithResolver = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee25(_ref9) {\n    var name, key, recordValue, resolverAddr, signer, nh;\n    return _regenerator[\"default\"].wrap(function _callee25$(_context25) {\n      while (1) {\n        switch (_context25.prev = _context25.next) {\n          case 0:\n            name = _ref9.name, key = _ref9.key, recordValue = _ref9.recordValue, resolverAddr = _ref9.resolverAddr, signer = _ref9.signer;\n            nh = (0, _utils.namehash)(name);\n            return _context25.abrupt(\"return\", getResolverContract({\n              address: resolverAddr,\n              provider: signer\n            }).setText(nh, key, recordValue));\n\n          case 3:\n          case \"end\":\n            return _context25.stop();\n        }\n      }\n    }, _callee25);\n  }));\n  return _setTextWithResolver.apply(this, arguments);\n}\n\nvar Resolver =\n/*#__PURE__*/\nfunction () {\n  //TODO\n  function Resolver(_ref10) {\n    var address = _ref10.address,\n        ens = _ref10.ens;\n    (0, _classCallCheck2[\"default\"])(this, Resolver);\n    this.address = address;\n    this.ens = ens;\n  }\n\n  (0, _createClass2[\"default\"])(Resolver, [{\n    key: \"name\",\n    value: function name(_name) {\n      return new Name({\n        name: _name,\n        ens: this.ens,\n        provider: this.provider,\n        signer: this.signer,\n        resolver: this.address\n      });\n    }\n  }]);\n  return Resolver;\n}();\n\nvar Name =\n/*#__PURE__*/\nfunction () {\n  function Name(options) {\n    (0, _classCallCheck2[\"default\"])(this, Name);\n    var name = options.name,\n        ens = options.ens,\n        provider = options.provider,\n        signer = options.signer,\n        nh = options.namehash,\n        resolver = options.resolver;\n\n    if (options.namehash) {\n      this.namehash = nh;\n    }\n\n    this.ens = ens;\n    this.ensWithSigner = this.ens.connect(signer);\n    this.name = name;\n    this.namehash = (0, _utils.namehash)(name);\n    this.provider = provider;\n    this.signer = signer;\n    this.resolver = resolver;\n  }\n\n  (0, _createClass2[\"default\"])(Name, [{\n    key: \"getOwner\",\n    value: function () {\n      var _getOwner = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.ens.owner(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getOwner() {\n        return _getOwner.apply(this, arguments);\n      }\n\n      return getOwner;\n    }()\n  }, {\n    key: \"setOwner\",\n    value: function () {\n      var _setOwner = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee2(address) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (address) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new Error('No newOwner address provided!');\n\n              case 2:\n                return _context2.abrupt(\"return\", this.ensWithSigner.setOwner(this.namehash, address));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setOwner(_x7) {\n        return _setOwner.apply(this, arguments);\n      }\n\n      return setOwner;\n    }()\n  }, {\n    key: \"getResolver\",\n    value: function () {\n      var _getResolver = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this.ens.resolver(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getResolver() {\n        return _getResolver.apply(this, arguments);\n      }\n\n      return getResolver;\n    }()\n  }, {\n    key: \"setResolver\",\n    value: function () {\n      var _setResolver = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee4(address) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (address) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw new Error('No resolver address provided!');\n\n              case 2:\n                return _context4.abrupt(\"return\", this.ensWithSigner.setResolver(this.namehash, address));\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function setResolver(_x8) {\n        return _setResolver.apply(this, arguments);\n      }\n\n      return setResolver;\n    }()\n  }, {\n    key: \"getTTL\",\n    value: function () {\n      var _getTTL = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee5() {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this.ens.ttl(this.namehash));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getTTL() {\n        return _getTTL.apply(this, arguments);\n      }\n\n      return getTTL;\n    }()\n  }, {\n    key: \"getResolverAddr\",\n    value: function () {\n      var _getResolverAddr = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee6() {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!this.resolver) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", this.resolver);\n\n              case 4:\n                return _context6.abrupt(\"return\", this.getResolver());\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getResolverAddr() {\n        return _getResolverAddr.apply(this, arguments);\n      }\n\n      return getResolverAddr;\n    }()\n  }, {\n    key: \"getAddress\",\n    value: function () {\n      var _getAddress = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee7(coinId) {\n        var resolverAddr, Resolver;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context7.sent;\n\n                if (!(parseInt(resolverAddr, 16) === 0)) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", _utils.emptyAddress);\n\n              case 5:\n                Resolver = getResolverContract({\n                  address: resolverAddr,\n                  provider: this.provider\n                });\n\n                if (coinId) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", Resolver['addr(bytes32)'](this.namehash));\n\n              case 8:\n                return _context7.abrupt(\"return\", getAddrWithResolver({\n                  name: this.name,\n                  key: coinId,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getAddress(_x9) {\n        return _getAddress.apply(this, arguments);\n      }\n\n      return getAddress;\n    }()\n  }, {\n    key: \"setAddress\",\n    value: function () {\n      var _setAddress = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee8(key, address) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (key) {\n                  _context8.next = 2;\n                  break;\n                }\n\n                throw new Error('No coinId provided');\n\n              case 2:\n                if (address) {\n                  _context8.next = 4;\n                  break;\n                }\n\n                throw new Error('No address provided');\n\n              case 4:\n                _context8.next = 6;\n                return this.getResolverAddr();\n\n              case 6:\n                resolverAddr = _context8.sent;\n                return _context8.abrupt(\"return\", setAddrWithResolver({\n                  name: this.name,\n                  key: key,\n                  address: address,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function setAddress(_x10, _x11) {\n        return _setAddress.apply(this, arguments);\n      }\n\n      return setAddress;\n    }()\n  }, {\n    key: \"getContent\",\n    value: function () {\n      var _getContent = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee9() {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context9.sent;\n                return _context9.abrupt(\"return\", getContentWithResolver({\n                  name: this.name,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getContent() {\n        return _getContent.apply(this, arguments);\n      }\n\n      return getContent;\n    }()\n  }, {\n    key: \"setContenthash\",\n    value: function () {\n      var _setContenthash = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee10(content) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context10.sent;\n                console.log(content);\n                return _context10.abrupt(\"return\", setContenthashWithResolver({\n                  name: this.name,\n                  content: content,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function setContenthash(_x12) {\n        return _setContenthash.apply(this, arguments);\n      }\n\n      return setContenthash;\n    }()\n  }, {\n    key: \"getText\",\n    value: function () {\n      var _getText = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee11(key) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context11.sent;\n                return _context11.abrupt(\"return\", getTextWithResolver({\n                  name: this.name,\n                  key: key,\n                  resolverAddr: resolverAddr,\n                  provider: this.provider\n                }));\n\n              case 4:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function getText(_x13) {\n        return _getText.apply(this, arguments);\n      }\n\n      return getText;\n    }()\n  }, {\n    key: \"setText\",\n    value: function () {\n      var _setText = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee12(key, recordValue) {\n        var resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.getResolverAddr();\n\n              case 2:\n                resolverAddr = _context12.sent;\n                return _context12.abrupt(\"return\", setTextWithResolver({\n                  name: this.name,\n                  key: key,\n                  recordValue: recordValue,\n                  resolverAddr: resolverAddr,\n                  signer: this.signer\n                }));\n\n              case 4:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function setText(_x14, _x15) {\n        return _setText.apply(this, arguments);\n      }\n\n      return setText;\n    }()\n  }, {\n    key: \"setSubnodeOwner\",\n    value: function () {\n      var _setSubnodeOwner = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee13(label, newOwner) {\n        var lh;\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                lh = (0, _utils.labelhash)(label);\n                return _context13.abrupt(\"return\", this.ensWithSigner.setSubnodeOwner(this.namehash, lh, newOwner));\n\n              case 2:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function setSubnodeOwner(_x16, _x17) {\n        return _setSubnodeOwner.apply(this, arguments);\n      }\n\n      return setSubnodeOwner;\n    }()\n  }, {\n    key: \"setSubnodeRecord\",\n    value: function () {\n      var _setSubnodeRecord = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee14(label, newOwner, resolver) {\n        var ttl,\n            lh,\n            _args14 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                ttl = _args14.length > 3 && _args14[3] !== undefined ? _args14[3] : 0;\n                lh = (0, _utils.labelhash)(label);\n                return _context14.abrupt(\"return\", this.ensWithSigner.setSubnodeRecord(this.namehash, lh, newOwner, resolver, ttl));\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function setSubnodeRecord(_x18, _x19, _x20) {\n        return _setSubnodeRecord.apply(this, arguments);\n      }\n\n      return setSubnodeRecord;\n    }()\n  }, {\n    key: \"createSubdomain\",\n    value: function () {\n      var _createSubdomain = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee15(label) {\n        var resolverPromise, ownerPromise, _ref11, _ref12, resolver, owner;\n\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                resolverPromise = this.getResolver();\n                ownerPromise = this.getOwner();\n                _context15.next = 4;\n                return Promise.all([resolverPromise, ownerPromise]);\n\n              case 4:\n                _ref11 = _context15.sent;\n                _ref12 = (0, _slicedToArray2[\"default\"])(_ref11, 2);\n                resolver = _ref12[0];\n                owner = _ref12[1];\n                return _context15.abrupt(\"return\", this.setSubnodeRecord(label, owner, resolver));\n\n              case 9:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function createSubdomain(_x21) {\n        return _createSubdomain.apply(this, arguments);\n      }\n\n      return createSubdomain;\n    }()\n  }, {\n    key: \"deleteSubdomain\",\n    value: function () {\n      var _deleteSubdomain = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee16(label) {\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt(\"return\", this.setSubnodeRecord(label, _utils.emptyAddress, _utils.emptyAddress));\n\n              case 1:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function deleteSubdomain(_x22) {\n        return _deleteSubdomain.apply(this, arguments);\n      }\n\n      return deleteSubdomain;\n    }()\n  }]);\n  return Name;\n}();\n\nvar ENS =\n/*#__PURE__*/\nfunction () {\n  function ENS(options) {\n    (0, _classCallCheck2[\"default\"])(this, ENS);\n    var networkId = options.networkId,\n        provider = options.provider,\n        ensAddress = options.ensAddress;\n    var ethersProvider;\n\n    if (Provider.isProvider(provider)) {\n      //detect ethersProvider\n      ethersProvider = provider;\n    } else {\n      ethersProvider = new _ethers.ethers.providers.Web3Provider(provider);\n    }\n\n    this.provider = ethersProvider;\n    this.signer = ethersProvider.getSigner();\n    this.ens = getENSContract({\n      address: ensAddress ? ensAddress : registries[networkId],\n      provider: ethersProvider\n    });\n  }\n\n  (0, _createClass2[\"default\"])(ENS, [{\n    key: \"name\",\n    value: function name(_name2) {\n      return new Name({\n        name: _name2,\n        ens: this.ens,\n        provider: this.provider,\n        signer: this.signer\n      });\n    }\n  }, {\n    key: \"resolver\",\n    value: function resolver(address) {\n      return new Resolver({\n        ens: this.ens,\n        provider: this.provider,\n        address: address\n      });\n    }\n  }, {\n    key: \"getName\",\n    value: function () {\n      var _getName = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee17(address) {\n        var reverseNode, resolverAddr;\n        return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                reverseNode = \"\".concat(address.slice(2), \".addr.reverse\");\n                _context17.next = 3;\n                return this.ens.resolver((0, _utils.namehash)(reverseNode));\n\n              case 3:\n                resolverAddr = _context17.sent;\n                return _context17.abrupt(\"return\", this.getNameWithResolver(address, resolverAddr));\n\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function getName(_x23) {\n        return _getName.apply(this, arguments);\n      }\n\n      return getName;\n    }()\n  }, {\n    key: \"getNameWithResolver\",\n    value: function () {\n      var _getNameWithResolver = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee18(address, resolverAddr) {\n        var reverseNode, reverseNamehash, _Resolver, name;\n\n        return _regenerator[\"default\"].wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                reverseNode = \"\".concat(address.slice(2), \".addr.reverse\");\n                reverseNamehash = (0, _utils.namehash)(reverseNode);\n\n                if (!(parseInt(resolverAddr, 16) === 0)) {\n                  _context18.next = 4;\n                  break;\n                }\n\n                return _context18.abrupt(\"return\", {\n                  name: null\n                });\n\n              case 4:\n                _context18.prev = 4;\n                _Resolver = getResolverContract({\n                  address: resolverAddr,\n                  provider: this.provider\n                });\n                _context18.next = 8;\n                return _Resolver.name(reverseNamehash);\n\n              case 8:\n                name = _context18.sent;\n                return _context18.abrupt(\"return\", {\n                  name: name\n                });\n\n              case 12:\n                _context18.prev = 12;\n                _context18.t0 = _context18[\"catch\"](4);\n                console.log(\"Error getting name for reverse record of \".concat(address), _context18.t0);\n\n              case 15:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this, [[4, 12]]);\n      }));\n\n      function getNameWithResolver(_x24, _x25) {\n        return _getNameWithResolver.apply(this, arguments);\n      }\n\n      return getNameWithResolver;\n    }()\n  }, {\n    key: \"setReverseRecord\",\n    value: function () {\n      var _setReverseRecord = (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee19(name, overrides) {\n        var reverseRegistrarAddr, reverseRegistrar;\n        return _regenerator[\"default\"].wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.next = 2;\n                return this.name('addr.reverse').getOwner('addr.reverse');\n\n              case 2:\n                reverseRegistrarAddr = _context19.sent;\n                reverseRegistrar = getReverseRegistrarContract({\n                  address: reverseRegistrarAddr,\n                  provider: this.signer\n                });\n                return _context19.abrupt(\"return\", reverseRegistrar.setName(name));\n\n              case 5:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function setReverseRecord(_x26, _x27) {\n        return _setReverseRecord.apply(this, arguments);\n      }\n\n      return setReverseRecord;\n    }()\n  }]);\n  return ENS;\n}();\n\nexports[\"default\"] = ENS;"]},"metadata":{},"sourceType":"script"}