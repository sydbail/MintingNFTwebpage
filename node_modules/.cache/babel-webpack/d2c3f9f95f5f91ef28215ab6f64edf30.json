{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildSchedulerFor = void 0;\n\nconst SchedulerImplem_1 = require(\"../implementations/SchedulerImplem\");\n\nfunction buildNextTaskIndex(ordering) {\n  let numTasks = 0;\n  return {\n    clone: () => buildNextTaskIndex(ordering),\n    nextTaskIndex: scheduledTasks => {\n      if (ordering.length <= numTasks) {\n        throw new Error(`Invalid schedulerFor defined: too many tasks have been scheduled`);\n      }\n\n      const taskIndex = scheduledTasks.findIndex(t => t.taskId === ordering[numTasks]);\n\n      if (taskIndex === -1) {\n        throw new Error(`Invalid schedulerFor defined: unable to find next task`);\n      }\n\n      ++numTasks;\n      return taskIndex;\n    }\n  };\n}\n\nfunction buildSchedulerFor(act, ordering) {\n  return new SchedulerImplem_1.SchedulerImplem(act, buildNextTaskIndex(ordering));\n}\n\nexports.buildSchedulerFor = buildSchedulerFor;","map":null,"metadata":{},"sourceType":"script"}