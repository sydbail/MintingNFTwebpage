{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shrinkInteger = void 0;\n\nconst NextValue_1 = require(\"../../../check/arbitrary/definition/NextValue\");\n\nconst Stream_1 = require(\"../../../stream/Stream\");\n\nfunction halvePosInteger(n) {\n  return Math.floor(n / 2);\n}\n\nfunction halveNegInteger(n) {\n  return Math.ceil(n / 2);\n}\n\nfunction shrinkInteger(current, target, tryTargetAsap) {\n  const realGap = current - target;\n\n  function* shrinkDecr() {\n    let previous = tryTargetAsap ? undefined : target;\n    const gap = tryTargetAsap ? realGap : halvePosInteger(realGap);\n\n    for (let toremove = gap; toremove > 0; toremove = halvePosInteger(toremove)) {\n      const next = toremove === realGap ? target : current - toremove;\n      yield new NextValue_1.NextValue(next, previous);\n      previous = next;\n    }\n  }\n\n  function* shrinkIncr() {\n    let previous = tryTargetAsap ? undefined : target;\n    const gap = tryTargetAsap ? realGap : halveNegInteger(realGap);\n\n    for (let toremove = gap; toremove < 0; toremove = halveNegInteger(toremove)) {\n      const next = toremove === realGap ? target : current - toremove;\n      yield new NextValue_1.NextValue(next, previous);\n      previous = next;\n    }\n  }\n\n  return realGap > 0 ? Stream_1.stream(shrinkDecr()) : Stream_1.stream(shrinkIncr());\n}\n\nexports.shrinkInteger = shrinkInteger;","map":null,"metadata":{},"sourceType":"script"}