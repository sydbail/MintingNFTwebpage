{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.base64String = void 0;\n\nconst Converters_1 = require(\"../check/arbitrary/definition/Converters\");\n\nconst array_1 = require(\"./array\");\n\nconst base64_1 = require(\"./base64\");\n\nconst MaxLengthFromMinLength_1 = require(\"./_internals/helpers/MaxLengthFromMinLength\");\n\nconst StringConstraintsExtractor_1 = require(\"./_internals/helpers/StringConstraintsExtractor\");\n\nconst CodePointsToString_1 = require(\"./_internals/mappers/CodePointsToString\");\n\nconst StringToBase64_1 = require(\"./_internals/mappers/StringToBase64\");\n\nfunction extractMinMaxConstraints(args) {\n  const constraints = StringConstraintsExtractor_1.extractStringConstraints(args);\n  const minLength = constraints.minLength !== undefined ? constraints.minLength : 0;\n  const maxLength = constraints.maxLength !== undefined ? constraints.maxLength : MaxLengthFromMinLength_1.maxLengthFromMinLength(minLength);\n  return {\n    minLength,\n    maxLength\n  };\n}\n\nfunction base64String(...args) {\n  const constraints = extractMinMaxConstraints(args);\n  const unscaledMinLength = constraints.minLength;\n  const unscaledMaxLength = constraints.maxLength;\n  const minLength = unscaledMinLength + 3 - (unscaledMinLength + 3) % 4;\n  const maxLength = unscaledMaxLength - unscaledMaxLength % 4;\n  if (minLength > maxLength) throw new Error('Minimal length should be inferior or equal to maximal length');\n  if (minLength % 4 !== 0) throw new Error('Minimal length of base64 strings must be a multiple of 4');\n  if (maxLength % 4 !== 0) throw new Error('Maximal length of base64 strings must be a multiple of 4');\n  return Converters_1.convertFromNext(Converters_1.convertToNext(array_1.array(base64_1.base64(), {\n    minLength,\n    maxLength\n  })).map(CodePointsToString_1.codePointsToStringMapper, CodePointsToString_1.codePointsToStringUnmapper).map(StringToBase64_1.stringToBase64Mapper, StringToBase64_1.stringToBase64Unmapper));\n}\n\nexports.base64String = base64String;","map":null,"metadata":{},"sourceType":"script"}