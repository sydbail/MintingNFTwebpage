{"ast":null,"code":"'use strict';\n\nconst Buffer = require('buffer').Buffer; // Returns either a Uint8Array or Buffer (doesn't matter to\n// IndexedDB, because Buffer is a subclass of Uint8Array)\n\n\nconst str2bin = function () {\n  if (global.TextEncoder) {\n    const encoder = new TextEncoder('utf-8');\n    return encoder.encode.bind(encoder);\n  } else {\n    return Buffer.from;\n  }\n}();\n\nmodule.exports = function (data, asBuffer) {\n  if (asBuffer) {\n    return Buffer.isBuffer(data) ? data : str2bin(String(data));\n  } else {\n    return String(data);\n  }\n};","map":null,"metadata":{},"sourceType":"script"}