{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/Users/sydneybailey/Internship/contract-testing/node_modules/@babel/runtime/helpers/asyncToGenerator\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimeoutProperty = void 0;\n\nconst timeoutAfter = timeMs => {\n  let timeoutHandle = null;\n  const promise = new Promise(resolve => {\n    timeoutHandle = setTimeout(() => {\n      resolve(`Property timeout: exceeded limit of ${timeMs} milliseconds`);\n    }, timeMs);\n  });\n  return {\n    clear: () => clearTimeout(timeoutHandle),\n    promise\n  };\n};\n\nclass TimeoutProperty {\n  constructor(property, timeMs) {\n    this.property = property;\n    this.timeMs = timeMs;\n\n    this.isAsync = () => true;\n  }\n\n  generate(mrng, runId) {\n    return this.property.generate(mrng, runId);\n  }\n\n  run(v) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const t = timeoutAfter(_this.timeMs);\n      const propRun = Promise.race([_this.property.run(v), t.promise]);\n      propRun.then(t.clear, t.clear);\n      return propRun;\n    })();\n  }\n\n}\n\nexports.TimeoutProperty = TimeoutProperty;","map":{"version":3,"sources":["/Users/sydneybailey/Internship/contract-testing/node_modules/fast-check/lib/check/property/TimeoutProperty.js"],"names":["Object","defineProperty","exports","value","TimeoutProperty","timeoutAfter","timeMs","timeoutHandle","promise","Promise","resolve","setTimeout","clear","clearTimeout","constructor","property","isAsync","generate","mrng","runId","run","v","t","propRun","race","then"],"mappings":"AAAA;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,MAAMC,YAAY,GAAIC,MAAD,IAAY;AAC7B,MAAIC,aAAa,GAAG,IAApB;AACA,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AACrCH,IAAAA,aAAa,GAAGI,UAAU,CAAC,MAAM;AAC7BD,MAAAA,OAAO,CAAE,uCAAsCJ,MAAO,eAA/C,CAAP;AACH,KAFyB,EAEvBA,MAFuB,CAA1B;AAGH,GAJe,CAAhB;AAKA,SAAO;AACHM,IAAAA,KAAK,EAAE,MAAMC,YAAY,CAACN,aAAD,CADtB;AAEHC,IAAAA;AAFG,GAAP;AAIH,CAXD;;AAYA,MAAMJ,eAAN,CAAsB;AAClBU,EAAAA,WAAW,CAACC,QAAD,EAAWT,MAAX,EAAmB;AAC1B,SAAKS,QAAL,GAAgBA,QAAhB;AACA,SAAKT,MAAL,GAAcA,MAAd;;AACA,SAAKU,OAAL,GAAe,MAAM,IAArB;AACH;;AACDC,EAAAA,QAAQ,CAACC,IAAD,EAAOC,KAAP,EAAc;AAClB,WAAO,KAAKJ,QAAL,CAAcE,QAAd,CAAuBC,IAAvB,EAA6BC,KAA7B,CAAP;AACH;;AACKC,EAAAA,GAAG,CAACC,CAAD,EAAI;AAAA;;AAAA;AACT,YAAMC,CAAC,GAAGjB,YAAY,CAAC,KAAI,CAACC,MAAN,CAAtB;AACA,YAAMiB,OAAO,GAAGd,OAAO,CAACe,IAAR,CAAa,CAAC,KAAI,CAACT,QAAL,CAAcK,GAAd,CAAkBC,CAAlB,CAAD,EAAuBC,CAAC,CAACd,OAAzB,CAAb,CAAhB;AACAe,MAAAA,OAAO,CAACE,IAAR,CAAaH,CAAC,CAACV,KAAf,EAAsBU,CAAC,CAACV,KAAxB;AACA,aAAOW,OAAP;AAJS;AAKZ;;AAdiB;;AAgBtBrB,OAAO,CAACE,eAAR,GAA0BA,eAA1B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeoutProperty = void 0;\nconst timeoutAfter = (timeMs) => {\n    let timeoutHandle = null;\n    const promise = new Promise((resolve) => {\n        timeoutHandle = setTimeout(() => {\n            resolve(`Property timeout: exceeded limit of ${timeMs} milliseconds`);\n        }, timeMs);\n    });\n    return {\n        clear: () => clearTimeout(timeoutHandle),\n        promise,\n    };\n};\nclass TimeoutProperty {\n    constructor(property, timeMs) {\n        this.property = property;\n        this.timeMs = timeMs;\n        this.isAsync = () => true;\n    }\n    generate(mrng, runId) {\n        return this.property.generate(mrng, runId);\n    }\n    async run(v) {\n        const t = timeoutAfter(this.timeMs);\n        const propRun = Promise.race([this.property.run(v), t.promise]);\n        propRun.then(t.clear, t.clear);\n        return propRun;\n    }\n}\nexports.TimeoutProperty = TimeoutProperty;\n"]},"metadata":{},"sourceType":"script"}