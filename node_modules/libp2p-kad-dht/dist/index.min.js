(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pKadDht = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pKadDht=(()=>{var kh=Object.defineProperty;var d8=t=>kh(t,"__esModule",{value:!0});var Te=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),He=(t,e)=>{d8(t);for(var r in e)kh(t,r,{get:e[r],enumerable:!0})};var Fa=I((fC,f0)=>{"use strict";var Ii=typeof Reflect=="object"?Reflect:null,Lh=Ii&&typeof Ii.apply=="function"?Ii.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Oa;Ii&&typeof Ii.ownKeys=="function"?Oa=Ii.ownKeys:Object.getOwnPropertySymbols?Oa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Oa=function(e){return Object.getOwnPropertyNames(e)};function p8(t){console&&console.warn&&console.warn(t)}var Nh=Number.isNaN||function(e){return e!==e};function qe(){qe.init.call(this)}f0.exports=qe;f0.exports.once=g8;qe.EventEmitter=qe;qe.prototype._events=void 0;qe.prototype._eventsCount=0;qe.prototype._maxListeners=void 0;var Dh=10;function Ka(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(qe,"defaultMaxListeners",{enumerable:!0,get:function(){return Dh},set:function(t){if(typeof t!="number"||t<0||Nh(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Dh=t}});qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};qe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nh(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Oh(t){return t._maxListeners===void 0?qe.defaultMaxListeners:t._maxListeners}qe.prototype.getMaxListeners=function(){return Oh(this)};qe.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")Lh(f,this,r);else for(var u=f.length,c=Vh(f,u),n=0;n<u;++n)Lh(c[n],this,r);return!0};function Kh(t,e,r,n){var i,s,a;if(Ka(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=Oh(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,p8(o)}return t}qe.prototype.addListener=function(e,r){return Kh(this,e,r,!1)};qe.prototype.on=qe.prototype.addListener;qe.prototype.prependListener=function(e,r){return Kh(this,e,r,!0)};function y8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Fh(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=y8.bind(n);return i.listener=r,n.wrapFn=i,i}qe.prototype.once=function(e,r){return Ka(r),this.on(e,Fh(this,e,r)),this};qe.prototype.prependOnceListener=function(e,r){return Ka(r),this.prependListener(e,Fh(this,e,r)),this};qe.prototype.removeListener=function(e,r){var n,i,s,a,o;if(Ka(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():b8(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};qe.prototype.off=qe.prototype.removeListener;qe.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Uh(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?v8(i):Vh(i,i.length)}qe.prototype.listeners=function(e){return Uh(this,e,!0)};qe.prototype.rawListeners=function(e){return Uh(this,e,!1)};qe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):zh.call(t,e)};qe.prototype.listenerCount=zh;function zh(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}qe.prototype.eventNames=function(){return this._eventsCount>0?Oa(this._events):[]};function Vh(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b8(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function v8(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function g8(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Hh(t,e,s,{once:!0}),e!=="error"&&m8(t,i,{once:!0})})}function m8(t,e,r){typeof t.on=="function"&&Hh(t,"error",e,r)}function Hh(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ke=I((uC,$h)=>{"use strict";function jh(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function x8(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return jh(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),jh(new i,r)}}$h.exports=x8});var Yh=I((cC,Gh)=>{"use strict";Gh.exports=w8;function w8(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,f){r[n]=function(c){if(s)if(s=!1,c)f(c);else{for(var l=new Array(arguments.length-1),y=0;y<l.length;)l[y++]=arguments[y];o.apply(null,l)}};try{t.apply(e||null,r)}catch(u){s&&(s=!1,f(u))}})}});var Zh=I(Jh=>{"use strict";var Ua=Jh;Ua.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Ci=new Array(64),Wh=new Array(123);for(gr=0;gr<64;)Wh[Ci[gr]=gr<26?gr+65:gr<52?gr+71:gr<62?gr-4:gr-59|43]=gr++;var gr;Ua.encode=function(e,r,n){for(var i=null,s=[],a=0,o=0,f;r<n;){var u=e[r++];switch(o){case 0:s[a++]=Ci[u>>2],f=(u&3)<<4,o=1;break;case 1:s[a++]=Ci[f|u>>4],f=(u&15)<<2,o=2;break;case 2:s[a++]=Ci[f|u>>6],s[a++]=Ci[u&63],o=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return o&&(s[a++]=Ci[f],s[a++]=61,o===1&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var Qh="invalid encoding";Ua.decode=function(e,r,n){for(var i=n,s=0,a,o=0;o<e.length;){var f=e.charCodeAt(o++);if(f===61&&s>1)break;if((f=Wh[f])===void 0)throw Error(Qh);switch(s){case 0:a=f,s=1;break;case 1:r[n++]=a<<2|(f&48)>>4,a=f,s=2;break;case 2:r[n++]=(a&15)<<4|(f&60)>>2,a=f,s=3;break;case 3:r[n++]=(a&3)<<6|f,s=0;break}}if(s===1)throw Error(Qh);return n-i};Ua.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var el=I((lC,Xh)=>{"use strict";Xh.exports=za;function za(){this._listeners={}}za.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};za.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};za.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var ol=I((dC,al)=>{"use strict";al.exports=tl(tl);function tl(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3]}function s(f,u,c){e[0]=f,u[c]=r[3],u[c+1]=r[2],u[c+2]=r[1],u[c+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function a(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],e[0]}function o(f,u){return r[3]=f[u],r[2]=f[u+1],r[1]=f[u+2],r[0]=f[u+3],e[0]}t.readFloatLE=n?a:o,t.readFloatBE=n?o:a}():function(){function e(n,i,s,a){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,s,a);else if(isNaN(i))n(2143289344,s,a);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,s,a);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,s,a);else{var f=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((o<<31|f+127<<23|u)>>>0,s,a)}}t.writeFloatLE=e.bind(null,rl),t.writeFloatBE=e.bind(null,nl);function r(n,i,s){var a=n(i,s),o=(a>>31)*2+1,f=a>>>23&255,u=a&8388607;return f===255?u?NaN:o*(1/0):f===0?o*1401298464324817e-60*u:o*Math.pow(2,f-150)*(u+8388608)}t.readFloatLE=r.bind(null,il),t.readFloatBE=r.bind(null,sl)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3],u[c+4]=r[4],u[c+5]=r[5],u[c+6]=r[6],u[c+7]=r[7]}function s(f,u,c){e[0]=f,u[c]=r[7],u[c+1]=r[6],u[c+2]=r[5],u[c+3]=r[4],u[c+4]=r[3],u[c+5]=r[2],u[c+6]=r[1],u[c+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function a(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],r[4]=f[u+4],r[5]=f[u+5],r[6]=f[u+6],r[7]=f[u+7],e[0]}function o(f,u){return r[7]=f[u],r[6]=f[u+1],r[5]=f[u+2],r[4]=f[u+3],r[3]=f[u+4],r[2]=f[u+5],r[1]=f[u+6],r[0]=f[u+7],e[0]}t.readDoubleLE=n?a:o,t.readDoubleBE=n?o:a}():function(){function e(n,i,s,a,o,f){var u=a<0?1:0;if(u&&(a=-a),a===0)n(0,o,f+i),n(1/a>0?0:2147483648,o,f+s);else if(isNaN(a))n(0,o,f+i),n(2146959360,o,f+s);else if(a>17976931348623157e292)n(0,o,f+i),n((u<<31|2146435072)>>>0,o,f+s);else{var c;if(a<22250738585072014e-324)c=a/5e-324,n(c>>>0,o,f+i),n((u<<31|c/4294967296)>>>0,o,f+s);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),c=a*Math.pow(2,-l),n(c*4503599627370496>>>0,o,f+i),n((u<<31|l+1023<<20|c*1048576&1048575)>>>0,o,f+s)}}}t.writeDoubleLE=e.bind(null,rl,0,4),t.writeDoubleBE=e.bind(null,nl,4,0);function r(n,i,s,a,o){var f=n(a,o+i),u=n(a,o+s),c=(u>>31)*2+1,l=u>>>20&2047,y=4294967296*(u&1048575)+f;return l===2047?y?NaN:c*(1/0):l===0?c*5e-324*y:c*Math.pow(2,l-1075)*(y+4503599627370496)}t.readDoubleLE=r.bind(null,il,0,4),t.readDoubleBE=r.bind(null,sl,4,0)}(),t}function rl(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function nl(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function il(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function sl(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var fl=I((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var cl=I(ul=>{"use strict";var u0=ul;u0.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};u0.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,a=[],o=0,f;r<n;)f=e[r++],f<128?a[o++]=f:f>191&&f<224?a[o++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[o++]=55296+(f>>10),a[o++]=56320+(f&1023)):a[o++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};u0.write=function(e,r,n){for(var i=n,s,a,o=0;o<e.length;++o)s=e.charCodeAt(o),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((a=e.charCodeAt(o+1))&64512)==56320?(s=65536+((s&1023)<<10)+(a&1023),++o,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var ll=I((yC,hl)=>{"use strict";hl.exports=E8;function E8(t,e,r){var n=r||8192,i=n>>>1,s=null,a=n;return function(f){if(f<1||f>i)return t(f);a+f>n&&(s=t(n),a=0);var u=e.call(s,a,a+=f);return a&7&&(a=(a|7)+1),u}}});var pl=I((bC,dl)=>{"use strict";dl.exports=Bt;var ks=_n();function Bt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Jn=Bt.zero=new Bt(0,0);Jn.toNumber=function(){return 0};Jn.zzEncode=Jn.zzDecode=function(){return this};Jn.length=function(){return 1};var S8=Bt.zeroHash="\0\0\0\0\0\0\0\0";Bt.fromNumber=function(e){if(e===0)return Jn;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Bt(n,i)};Bt.from=function(e){if(typeof e=="number")return Bt.fromNumber(e);if(ks.isString(e))if(ks.Long)e=ks.Long.fromString(e);else return Bt.fromNumber(parseInt(e,10));return e.low||e.high?new Bt(e.low>>>0,e.high>>>0):Jn};Bt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Bt.prototype.toLong=function(e){return ks.Long?new ks.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Sn=String.prototype.charCodeAt;Bt.fromHash=function(e){return e===S8?Jn:new Bt((Sn.call(e,0)|Sn.call(e,1)<<8|Sn.call(e,2)<<16|Sn.call(e,3)<<24)>>>0,(Sn.call(e,4)|Sn.call(e,5)<<8|Sn.call(e,6)<<16|Sn.call(e,7)<<24)>>>0)};Bt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Bt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Bt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Bt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var _n=I(c0=>{"use strict";var re=c0;re.asPromise=Yh();re.base64=Zh();re.EventEmitter=el();re.float=ol();re.inquire=fl();re.utf8=cl();re.pool=ll();re.LongBits=pl();re.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);re.global=re.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||c0;re.emptyArray=Object.freeze?Object.freeze([]):[];re.emptyObject=Object.freeze?Object.freeze({}):{};re.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};re.isString=function(e){return typeof e=="string"||e instanceof String};re.isObject=function(e){return e&&typeof e=="object"};re.isset=re.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};re.Buffer=function(){try{var t=re.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();re._Buffer_from=null;re._Buffer_allocUnsafe=null;re.newBuffer=function(e){return typeof e=="number"?re.Buffer?re._Buffer_allocUnsafe(e):new re.Array(e):re.Buffer?re._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};re.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;re.Long=re.global.dcodeIO&&re.global.dcodeIO.Long||re.global.Long||re.inquire("long");re.key2Re=/^true|false|0|1$/;re.key32Re=/^-?(?:0|[1-9][0-9]*)$/;re.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;re.longToHash=function(e){return e?re.LongBits.from(e).toHash():re.LongBits.zeroHash};re.longFromHash=function(e,r){var n=re.LongBits.fromHash(e);return re.Long?re.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function yl(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}re.merge=yl;re.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function bl(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&yl(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}re.newError=bl;re.ProtocolError=bl("ProtocolError");re.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};re.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};re.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};re._configure=function(){var t=re.Buffer;if(!t){re._Buffer_from=re._Buffer_allocUnsafe=null;return}re._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},re._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var v0=I((gC,xl)=>{"use strict";xl.exports=_e;var ir=_n(),h0,Va=ir.LongBits,vl=ir.base64,gl=ir.utf8;function Ls(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function l0(){}function _8(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function _e(){this.len=0,this.head=new Ls(l0,0,0),this.tail=this.head,this.states=null}var ml=function(){return ir.Buffer?function(){return(_e.create=function(){return new h0})()}:function(){return new _e}};_e.create=ml();_e.alloc=function(e){return new ir.Array(e)};ir.Array!==Array&&(_e.alloc=ir.pool(_e.alloc,ir.Array.prototype.subarray));_e.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Ls(e,r,n),this.len+=r,this};function d0(t,e,r){e[r]=t&255}function A8(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function p0(t,e){this.len=t,this.next=void 0,this.val=e}p0.prototype=Object.create(Ls.prototype);p0.prototype.fn=A8;_e.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p0((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_e.prototype.int32=function(e){return e<0?this._push(y0,10,Va.fromNumber(e)):this.uint32(e)};_e.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function y0(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}_e.prototype.uint64=function(e){var r=Va.from(e);return this._push(y0,r.length(),r)};_e.prototype.int64=_e.prototype.uint64;_e.prototype.sint64=function(e){var r=Va.from(e).zzEncode();return this._push(y0,r.length(),r)};_e.prototype.bool=function(e){return this._push(d0,1,e?1:0)};function b0(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}_e.prototype.fixed32=function(e){return this._push(b0,4,e>>>0)};_e.prototype.sfixed32=_e.prototype.fixed32;_e.prototype.fixed64=function(e){var r=Va.from(e);return this._push(b0,4,r.lo)._push(b0,4,r.hi)};_e.prototype.sfixed64=_e.prototype.fixed64;_e.prototype.float=function(e){return this._push(ir.float.writeFloatLE,4,e)};_e.prototype.double=function(e){return this._push(ir.float.writeDoubleLE,8,e)};var B8=ir.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};_e.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(d0,1,0);if(ir.isString(e)){var n=_e.alloc(r=vl.length(e));vl.decode(e,n,0),e=n}return this.uint32(r)._push(B8,r,e)};_e.prototype.string=function(e){var r=gl.length(e);return r?this.uint32(r)._push(gl.write,r,e):this._push(d0,1,0)};_e.prototype.fork=function(){return this.states=new _8(this),this.head=this.tail=new Ls(l0,0,0),this.len=0,this};_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ls(l0,0,0),this.len=0),this};_e.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};_e.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};_e._configure=function(t){h0=t,_e.create=ml(),h0._configure()}});var Sl=I((mC,El)=>{"use strict";El.exports=Rr;var wl=v0();(Rr.prototype=Object.create(wl.prototype)).constructor=Rr;var An=_n();function Rr(){wl.call(this)}Rr._configure=function(){Rr.alloc=An._Buffer_allocUnsafe,Rr.writeBytesBuffer=An.Buffer&&An.Buffer.prototype instanceof Uint8Array&&An.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Rr.prototype.bytes=function(e){An.isString(e)&&(e=An._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Rr.writeBytesBuffer,r,e),this};function I8(t,e,r){t.length<40?An.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Rr.prototype.string=function(e){var r=An.Buffer.byteLength(e);return this.uint32(r),r&&this._push(I8,r,e),this};Rr._configure()});var x0=I((xC,Cl)=>{"use strict";Cl.exports=Xe;var qr=_n(),g0,_l=qr.LongBits,C8=qr.utf8;function mr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Xe(t){this.buf=t,this.pos=0,this.len=t.length}var Al=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Xe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Xe(e);throw Error("illegal buffer")},Bl=function(){return qr.Buffer?function(r){return(Xe.create=function(i){return qr.Buffer.isBuffer(i)?new g0(i):Al(i)})(r)}:Al};Xe.create=Bl();Xe.prototype._slice=qr.Array.prototype.subarray||qr.Array.prototype.slice;Xe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,mr(this,10);return e}}();Xe.prototype.int32=function(){return this.uint32()|0};Xe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function m0(){var t=new _l(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw mr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw mr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Xe.prototype.bool=function(){return this.uint32()!==0};function Ha(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Xe.prototype.fixed32=function(){if(this.pos+4>this.len)throw mr(this,4);return Ha(this.buf,this.pos+=4)};Xe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw mr(this,4);return Ha(this.buf,this.pos+=4)|0};function Il(){if(this.pos+8>this.len)throw mr(this,8);return new _l(Ha(this.buf,this.pos+=4),Ha(this.buf,this.pos+=4))}Xe.prototype.float=function(){if(this.pos+4>this.len)throw mr(this,4);var e=qr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Xe.prototype.double=function(){if(this.pos+8>this.len)throw mr(this,4);var e=qr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Xe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw mr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Xe.prototype.string=function(){var e=this.bytes();return C8.read(e,0,e.length)};Xe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw mr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw mr(this);while(this.buf[this.pos++]&128);return this};Xe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Xe._configure=function(t){g0=t,Xe.create=Bl(),g0._configure();var e=qr.Long?"toLong":"toNumber";qr.merge(Xe.prototype,{int64:function(){return m0.call(this)[e](!1)},uint64:function(){return m0.call(this)[e](!0)},sint64:function(){return m0.call(this).zzDecode()[e](!1)},fixed64:function(){return Il.call(this)[e](!0)},sfixed64:function(){return Il.call(this)[e](!1)}})}});var Rl=I((wC,Ml)=>{"use strict";Ml.exports=Zn;var Tl=x0();(Zn.prototype=Object.create(Tl.prototype)).constructor=Zn;var Pl=_n();function Zn(t){Tl.call(this,t)}Zn._configure=function(){Pl.Buffer&&(Zn.prototype._slice=Pl.Buffer.prototype.slice)};Zn.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Zn._configure()});var kl=I((EC,ql)=>{"use strict";ql.exports=Ns;var w0=_n();(Ns.prototype=Object.create(w0.EventEmitter.prototype)).constructor=Ns;function Ns(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");w0.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}Ns.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return w0.asPromise(t,a,e,r,n,i);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(f,u){if(f)return a.emit("error",f,e),s(f);if(u===null){a.end(!0);return}if(!(u instanceof n))try{u=n[a.responseDelimited?"decodeDelimited":"decode"](u)}catch(c){return a.emit("error",c,e),s(c)}return a.emit("data",u,e),s(null,u)})}catch(o){a.emit("error",o,e),setTimeout(function(){s(o)},0);return}};Ns.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Nl=I(Ll=>{"use strict";var T8=Ll;T8.Service=kl()});var Ol=I((_C,Dl)=>{"use strict";Dl.exports={}});var Ul=I(Fl=>{"use strict";var Yt=Fl;Yt.build="minimal";Yt.Writer=v0();Yt.BufferWriter=Sl();Yt.Reader=x0();Yt.BufferReader=Rl();Yt.util=_n();Yt.rpc=Nl();Yt.roots=Ol();Yt.configure=Kl;function Kl(){Yt.util._configure(),Yt.Writer._configure(Yt.BufferWriter),Yt.Reader._configure(Yt.BufferReader)}Kl()});var Ds=I((BC,zl)=>{"use strict";zl.exports=Ul()});var jl=I((IC,Hl)=>{"use strict";var Ti=Ds(),Vl=Ti.Reader,P8=Ti.Writer,sr=Ti.util,Os=Ti.roots["libp2p-record"]||(Ti.roots["libp2p-record"]={});Os.Record=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.key=sr.newBuffer([]),t.prototype.value=sr.newBuffer([]),t.prototype.timeReceived="",t.encode=function(r,n){return n||(n=P8.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&n.uint32(10).bytes(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&n.uint32(18).bytes(r.value),r.timeReceived!=null&&Object.hasOwnProperty.call(r,"timeReceived")&&n.uint32(42).string(r.timeReceived),n},t.decode=function(r,n){r instanceof Vl||(r=Vl.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new Os.Record;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.key=r.bytes();break;case 2:s.value=r.bytes();break;case 5:s.timeReceived=r.string();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof Os.Record)return r;var n=new Os.Record;return r.key!=null&&(typeof r.key=="string"?sr.base64.decode(r.key,n.key=sr.newBuffer(sr.base64.length(r.key)),0):r.key.length&&(n.key=r.key)),r.value!=null&&(typeof r.value=="string"?sr.base64.decode(r.value,n.value=sr.newBuffer(sr.base64.length(r.value)),0):r.value.length&&(n.value=r.value)),r.timeReceived!=null&&(n.timeReceived=String(r.timeReceived)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.key="":(i.key=[],n.bytes!==Array&&(i.key=sr.newBuffer(i.key))),n.bytes===String?i.value="":(i.value=[],n.bytes!==Array&&(i.value=sr.newBuffer(i.value))),i.timeReceived=""),r.key!=null&&r.hasOwnProperty("key")&&(i.key=n.bytes===String?sr.base64.encode(r.key,0,r.key.length):n.bytes===Array?Array.prototype.slice.call(r.key):r.key),r.value!=null&&r.hasOwnProperty("value")&&(i.value=n.bytes===String?sr.base64.encode(r.value,0,r.value.length):n.bytes===Array?Array.prototype.slice.call(r.value):r.value),r.timeReceived!=null&&r.hasOwnProperty("timeReceived")&&(i.timeReceived=r.timeReceived),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ti.util.toJSONOptions)},t}();Hl.exports=Os});var $l=I((CC,E0)=>{"use strict";E0.exports.toRFC3339=t=>{let e=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),n=String(t.getUTCDate()).padStart(2,"0"),i=String(t.getUTCHours()).padStart(2,"0"),s=String(t.getUTCMinutes()).padStart(2,"0"),a=String(t.getUTCSeconds()).padStart(2,"0"),f=t.getUTCMilliseconds()*1e3*1e3;return`${e}-${r}-${n}T${i}:${s}:${a}.${f}Z`};E0.exports.parseRFC3339=t=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(t).trim().match(e);if(!r)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,s=parseInt(r[3],10),a=parseInt(r[4],10),o=parseInt(r[5],10),f=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,s,a,o,f,u))}});var Wl=I((TC,Yl)=>{"use strict";var{Record:S0}=jl(),Gl=$l(),Ks=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=r,this.timeReceived=n}serialize(){return S0.encode(this.prepareSerialize()).finish()}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&Gl.toRFC3339(this.timeReceived)}}static deserialize(e){let r=S0.decode(e);return Ks.fromDeserialized(S0.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}))}static fromDeserialized(e){let r;return e.timeReceived&&(r=Gl.parseRFC3339(e.timeReceived)),new Ks(e.key,e.value,r)}};Yl.exports=Ks});function M8(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,f=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var b=0,_=0,A=0,M=v.length;A!==M&&v[A]===0;)A++,b++;for(var q=(M-A)*c+1>>>0,z=new Uint8Array(q);A!==M;){for(var O=v[A],U=0,G=q-1;(O!==0||U<_)&&G!==-1;G--,U++)O+=256*z[G]>>>0,z[G]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");_=U,A++}for(var H=q-_;H!==q&&z[H]===0;)H++;for(var X=f.repeat(b);H<q;++H)X+=t.charAt(z[H]);return X}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var b=0;if(v[b]!==" "){for(var _=0,A=0;v[b]===f;)_++,b++;for(var M=(v.length-b)*u+1>>>0,q=new Uint8Array(M);v[b];){var z=r[v.charCodeAt(b)];if(z===255)return;for(var O=0,U=M-1;(z!==0||O<A)&&U!==-1;U--,O++)z+=o*q[U]>>>0,q[U]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");A=O,b++}if(v[b]!==" "){for(var G=M-A;G!==M&&q[G]===0;)G++;for(var H=new Uint8Array(_+(M-G)),X=_;G!==M;)H[X++]=q[G++];return H}}}function x(v){var b=y(v);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:y,decode:x}}var R8,q8,Ql,Jl=Te(()=>{R8=M8,q8=R8,Ql=q8});var ja={};He(ja,{coerce:()=>xr,empty:()=>Zl,equals:()=>_0,fromHex:()=>L8,fromString:()=>A0,isBinary:()=>N8,toHex:()=>k8,toString:()=>B0});var Zl,k8,L8,_0,xr,N8,A0,B0,Bn=Te(()=>{Zl=new Uint8Array(0),k8=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),L8=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Zl},_0=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},xr=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},N8=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),A0=t=>new TextEncoder().encode(t),B0=t=>new TextDecoder().decode(t)});var Xl,ed,$a,td,Ga,In,D8,O8,We,kr=Te(()=>{Jl();Bn();Xl=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ed=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new $a(r)}},$a=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new $a({...this.decoders,...r})}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},td=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Xl(e,r,n),this.decoder=new ed(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ga=({name:t,prefix:e,encode:r,decode:n})=>new td(t,e,r,n),In=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Ql(r,e);return Ga({prefix:t,name:e,encode:n,decode:s=>xr(i(s))})},D8=(t,e,r,n)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let s=t.length;for(;t[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),o=0,f=0,u=0;for(let c=0;c<s;++c){let l=i[t[c]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|l,o+=r,o>=8&&(o-=8,a[u++]=255&f>>o)}if(o>=r||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return a},O8=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",a=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},We=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ga({prefix:e,name:t,encode(i){return O8(i,n,r)},decode(i){return D8(i,n,r,t)}})});var I0={};He(I0,{identity:()=>K8});var K8,rd=Te(()=>{kr();Bn();K8=Ga({prefix:"\0",name:"identity",encode:t=>B0(t),decode:t=>A0(t)})});var C0={};He(C0,{base2:()=>F8});var F8,nd=Te(()=>{kr();F8=We({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var T0={};He(T0,{base8:()=>U8});var U8,id=Te(()=>{kr();U8=We({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var P0={};He(P0,{base10:()=>z8});var z8,sd=Te(()=>{kr();z8=In({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ya={};He(Ya,{base16:()=>V8,base16upper:()=>H8});var V8,H8,M0=Te(()=>{kr();V8=We({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),H8=We({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Mi={};He(Mi,{base32:()=>Pi,base32hex:()=>Y8,base32hexpad:()=>Q8,base32hexpadupper:()=>J8,base32hexupper:()=>W8,base32pad:()=>$8,base32padupper:()=>G8,base32upper:()=>j8,base32z:()=>Z8});var Pi,j8,$8,G8,Y8,W8,Q8,J8,Z8,Ri=Te(()=>{kr();Pi=We({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j8=We({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$8=We({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G8=We({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y8=We({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W8=We({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Q8=We({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),J8=We({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z8=We({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Wa={};He(Wa,{base36:()=>X8,base36upper:()=>em});var X8,em,R0=Te(()=>{kr();X8=In({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),em=In({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Nr={};He(Nr,{base58btc:()=>Lr,base58flickr:()=>tm});var Lr,tm,Dr=Te(()=>{kr();Lr=In({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tm=In({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var qi={};He(qi,{base64:()=>rm,base64pad:()=>nm,base64url:()=>im,base64urlpad:()=>sm});var rm,nm,im,sm,Fs=Te(()=>{kr();rm=We({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nm=We({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),im=We({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sm=We({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function od(t,e,r){e=e||[],r=r||0;for(var n=r;t>=um;)e[r++]=t&255|ad,t/=128;for(;t&fm;)e[r++]=t&255|ad,t>>>=7;return e[r]=t|0,od.bytes=r-n+1,e}function q0(t,e){var r=0,e=e||0,n=0,i=e,s,a=t.length;do{if(i>=a)throw q0.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&fd)<<n:(s&fd)*Math.pow(2,n),n+=7}while(s>=hm);return q0.bytes=i-e,r}var am,ad,om,fm,um,cm,hm,fd,lm,dm,pm,ym,bm,vm,gm,mm,xm,wm,Em,Sm,Us,ud=Te(()=>{am=od,ad=128,om=127,fm=~om,um=Math.pow(2,31);cm=q0,hm=128,fd=127;lm=Math.pow(2,7),dm=Math.pow(2,14),pm=Math.pow(2,21),ym=Math.pow(2,28),bm=Math.pow(2,35),vm=Math.pow(2,42),gm=Math.pow(2,49),mm=Math.pow(2,56),xm=Math.pow(2,63),wm=function(t){return t<lm?1:t<dm?2:t<pm?3:t<ym?4:t<bm?5:t<vm?6:t<gm?7:t<mm?8:t<xm?9:10},Em={encode:am,decode:cm,encodingLength:wm},Sm=Em,Us=Sm});var Qa={};He(Qa,{decode:()=>ki,encodeTo:()=>Xn,encodingLength:()=>ei});var ki,Xn,ei,Ja=Te(()=>{ud();ki=t=>[Us.decode(t),Us.decode.bytes],Xn=(t,e,r=0)=>(Us.encode(t,e,r),e),ei=t=>Us.encodingLength(t)});var Ni={};He(Ni,{Digest:()=>Li,create:()=>zs,decode:()=>k0,equals:()=>L0});var zs,k0,L0,Li,Di=Te(()=>{Bn();Ja();zs=(t,e)=>{let r=e.byteLength,n=ei(t),i=n+ei(r),s=new Uint8Array(i+r);return Xn(t,s,0),Xn(r,s,n),s.set(e,i),new Li(t,r,e,s)},k0=t=>{let e=xr(t),[r,n]=ki(e),[i,s]=ki(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==i)throw new Error("Incorrect length");return new Li(r,i,a,e)},L0=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&_0(t.bytes,e.bytes),Li=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var Za={};He(Za,{Hasher:()=>N0,from:()=>Oi});var Oi,N0,Xa=Te(()=>{Di();Oi=({name:t,code:e,encode:r})=>new N0(t,e,r),N0=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return zs(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var Or={};He(Or,{sha256:()=>_m,sha512:()=>Am});var cd,_m,Am,un=Te(()=>{Xa();cd=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_m=Oi({name:"sha2-256",code:18,encode:cd("SHA-256")}),Am=Oi({name:"sha2-512",code:19,encode:cd("SHA-512")})});var Vs={};He(Vs,{identity:()=>Bm});var Bm,eo=Te(()=>{Xa();Bn();Bm=Oi({name:"identity",code:0,encode:t=>xr(t)})});var D0={};He(D0,{code:()=>Cm,decode:()=>Pm,encode:()=>Tm,name:()=>Im});var hd,Im,Cm,Tm,Pm,ld=Te(()=>{Bn();hd=t=>xr(t),{name:Im,code:Cm,encode:Tm,decode:Pm}={name:"raw",code:85,decode:hd,encode:hd}});var O0={};He(O0,{code:()=>Rm,decode:()=>km,encode:()=>qm,name:()=>Mm});var Mm,Rm,qm,km,dd=Te(()=>{({name:Mm,code:Rm,encode:qm,decode:km}={name:"json",code:512,encode:t=>new TextEncoder().encode(JSON.stringify(t)),decode:t=>JSON.parse(new TextDecoder().decode(t))})});var Ki={};He(Ki,{CID:()=>St});var St,Lm,Nm,Dm,Hs,Om,pd,yd,to,ro,Km,Fm,Um,ti=Te(()=>{Ja();Di();Dr();Ri();Bn();St=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ro,byteLength:ro,code:to,version:to,multihash:to,bytes:to,_baseCache:ro,asCID:ro})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Hs)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Om)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return St.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=zs(e,r);return St.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&L0(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return Nm(r,i,e||Lr.encoder);default:return Dm(r,i,e||Pi.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Fm(/^0\.0/,Um),!!(e&&(e[yd]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof St)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new St(r,n,i,s||pd(r,n,i.bytes))}else if(e!=null&&e[yd]===!0){let{version:r,multihash:n,code:i}=e,s=k0(n);return St.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Hs)throw new Error(`Version 0 CID must use dag-pb (code: ${Hs}) block encoding`);return new St(e,r,n,n.bytes)}case 1:{let i=pd(e,r,n.bytes);return new St(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return St.create(0,Hs,e)}static createV1(e,r){return St.create(1,e,r)}static decode(e){let[r,n]=St.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=St.inspectBytes(e),n=r.size-r.multihashSize,i=xr(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),a=new Li(r.multihashCode,r.digestSize,s,i);return[r.version===0?St.createV0(a):St.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,y]=ki(e.subarray(r));return r+=y,l},i=n(),s=Hs;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,o=n(),f=n(),u=r+f,c=u-a;return{version:i,codec:s,multihashCode:o,digestSize:f,multihashSize:c,size:u}}static parse(e,r){let[n,i]=Lm(e,r),s=St.decode(i);return s._baseCache.set(n,e),s}},Lm=(t,e)=>{switch(t[0]){case"Q":{let r=e||Lr;return[Lr.prefix,r.decode(`${Lr.prefix}${t}`)]}case Lr.prefix:{let r=e||Lr;return[Lr.prefix,r.decode(t)]}case Pi.prefix:{let r=e||Pi;return[Pi.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Nm=(t,e,r)=>{let{prefix:n}=r;if(n!==Lr.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},Dm=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Hs=112,Om=18,pd=(t,e,r)=>{let n=ei(t),i=n+ei(e),s=new Uint8Array(i+r.byteLength);return Xn(t,s,0),Xn(e,s,n),s.set(r,i),s},yd=Symbol.for("@ipld/js-cid/CID"),to={writable:!1,configurable:!1,enumerable:!0},ro={writable:!1,enumerable:!1,configurable:!1},Km="0.0.0-dev",Fm=(t,e)=>{if(t.test(Km))console.warn(e);else throw new Error(e)},Um=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var bd=Te(()=>{ti();Ja();Bn();Xa();Di()});var Fi={};He(Fi,{CID:()=>St,bases:()=>no,bytes:()=>ja,codecs:()=>Vm,digest:()=>Ni,hasher:()=>Za,hashes:()=>zm,varint:()=>Qa});var no,zm,Vm,ri=Te(()=>{rd();nd();id();sd();M0();Ri();R0();Dr();Fs();un();eo();ld();dd();bd();no={...I0,...C0,...T0,...P0,...Ya,...Mi,...Wa,...Nr,...qi},zm={...Or,...Vs},Vm={raw:D0,json:O0}});var wd=I((oT,xd)=>{"use strict";var{bases:vd}=(ri(),Fi);function gd(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var md=gd("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),K0=gd("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Hm={utf8:md,"utf-8":md,hex:vd.base16,latin1:K0,ascii:K0,binary:K0,...vd};xd.exports=Hm});var io=I((fT,Ed)=>{"use strict";var jm=wd();function $m(t,e="utf8"){let r=jm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}Ed.exports=$m});var _d=I((uT,Sd)=>{"use strict";function Gm(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Sd.exports=Gm});var Bd=I((cT,Ad)=>{"use strict";var{sha256:Ym}=(un(),Or),so=ke(),Wm=io(),Qm=_d(),Jm=async(t,e)=>{if(!(t instanceof Uint8Array))throw so(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(t.byteLength<5)throw so(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(Wm(t.subarray(0,4))!=="/pk/")throw so(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");let n=t.slice(4),i=await Ym.digest(e);if(!Qm(n,i.bytes))throw so(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};Ad.exports={func:Jm,sign:!1}});var Cd=I((hT,Id)=>{"use strict";Id.exports={pk:Bd()}});var Pd=I((lT,Td)=>{"use strict";var Zm=ke(),Xm=io(),e5=(t,e)=>{let r=e.key,i=Xm(r).split("/");if(i.length<3)return;let s=t[i[1].toString()];if(!s){let a="Invalid record keytype";throw Zm(new Error(a),"ERR_INVALID_RECORD_KEY_TYPE")}return s.func(r,e.value)};Td.exports={verifyRecord:e5,validators:Cd()}});var Rd=I((dT,Md)=>{"use strict";var t5=(t,e)=>0;Md.exports=t5});var kd=I((pT,qd)=>{"use strict";qd.exports={pk:Rd()}});var Nd=I((yT,Ld)=>{"use strict";var F0=ke(),r5=io(),n5=(t,e,r)=>{if(r.length===0){let a="No records given";throw F0(new Error(a),"ERR_NO_RECORDS_RECEIVED")}let i=r5(e).split("/");if(i.length<3){let a="Record key does not have a selector function";throw F0(new Error(a),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}let s=t[i[1].toString()];if(!s){let a=`Unrecognized key prefix: ${i[1]}`;throw F0(new Error(a),"ERR_UNRECOGNIZED_KEY_PREFIX")}return s(e,r)};Ld.exports={bestRecord:n5,selectors:kd()}});var Ui=I((bT,Dd)=>{"use strict";Dd.exports={Record:Wl(),validator:Pd(),selection:Nd()}});var Od,Kd=Te(()=>{Od="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"});var U0={};He(U0,{customAlphabet:()=>i5,customRandom:()=>Ud,nanoid:()=>s5,random:()=>Fd,urlAlphabet:()=>Od});var Fd,Ud,i5,s5,z0=Te(()=>{Kd();Fd=t=>crypto.getRandomValues(new Uint8Array(t)),Ud=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return()=>{let s="";for(;;){let a=r(i),o=i;for(;o--;)if(s+=t[a[o]&n]||"",s.length===e)return s}}},i5=(t,e)=>Ud(t,e,Fd),s5=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e}});var H0=I((mT,jd)=>{"use strict";var{bases:zd}=(ri(),Fi);function Vd(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Hd=Vd("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),V0=Vd("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),a5={utf8:Hd,"utf-8":Hd,hex:zd.base16,latin1:V0,ascii:V0,binary:V0,...zd};jd.exports=a5});var Gd=I((xT,$d)=>{"use strict";var o5=H0();function f5(t,e="utf8"){let r=o5[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}$d.exports=f5});var Wd=I((wT,Yd)=>{"use strict";var u5=H0();function c5(t,e="utf8"){let r=u5[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}Yd.exports=c5});var j0=I((ET,Jd)=>{"use strict";var{nanoid:h5}=(z0(),U0),l5=Gd(),d5=Wd(),cn="/",Qd=new TextEncoder().encode(cn),ao=Qd[0],ar=class{constructor(e,r){if(typeof e=="string")this._buf=d5(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==ao)throw new Error("Invalid key")}toString(e="utf8"){return l5(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new ar(e.join(cn))}static random(){return new ar(h5().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=Qd),this._buf[0]!==ao){let e=new Uint8Array(this._buf.byteLength+1);e.fill(ao,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===ao;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let s=r[i],a=n[i];if(s<a)return!0;if(s>a)return!1}return r.length<n.length}reverse(){return ar.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(cn).slice(1)}type(){return p5(this.baseNamespace())}name(){return y5(this.baseNamespace())}instance(e){return new ar(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(cn)||(e+=cn),e+=this.type(),new ar(e)}parent(){let e=this.list();return e.length===1?new ar(cn):new ar(e.slice(0,-1).join(cn))}child(e){return this.toString()===cn?e:e.toString()===cn?this:new ar(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return ar.withNamespaces([...this.namespaces(),...b5(e.map(r=>r.namespaces()))])}};function p5(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function y5(t){let e=t.split(":");return e[e.length-1]}function b5(t){return[].concat(...t)}Jd.exports=ar});var Xd=I((ST,Zd)=>{"use strict";var{nanoid:v5}=(z0(),U0),g5=(t=e=>e)=>t(v5());Zd.exports=g5});var tp=I((_T,ep)=>{"use strict";var m5=async t=>{let e=[];for await(let r of t)e.push(r);return e};ep.exports=m5});var $0=I((AT,rp)=>{"use strict";var x5=Xd(),w5=tp(),E5=(t,e)=>async function*(){yield*(await w5(t)).sort(e)}(),S5=(t,e)=>{let r=new RegExp("^"+e);return t.replace(r,"")};rp.exports={sortAll:E5,tmpdir:x5,replaceStartWith:S5}});var ip=I((BT,np)=>{"use strict";var _5=async t=>{for await(let e of t);};np.exports=_5});var ap=I((IT,sp)=>{"use strict";var A5=async function*(t,e){for await(let r of t)await e(r)&&(yield r)};sp.exports=A5});var fp=I((CT,op)=>{"use strict";var B5=async function*(t,e){let r=0;if(!(e<1)){for await(let n of t)if(yield n,r++,r===e)return}};op.exports=B5});var G0=I((TT,dp)=>{"use strict";var{sortAll:up}=$0(),cp=ip(),zi=ap(),hp=fp(),lp=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(let{key:n,value:i}of e)await this.put(n,i,r),yield{key:n,value:i}}async*getMany(e,r={}){for await(let n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(let n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,i){e.push({key:n,value:i})},delete(n){r.push(n)},commit:async n=>{await cp(this.putMany(e,n)),e=[],await cp(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=zi(n,i=>i.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,s)=>zi(i,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,s)=>up(i,s),n)),e.offset!=null){let i=0;n=zi(n,()=>i++>=e.offset)}return e.limit!=null&&(n=hp(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=zi(n,i=>i.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,s)=>zi(i,s),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,s)=>up(i,s),n)),e.offset!=null){let i=0;n=zi(n,()=>i++>=e.offset)}return e.limit!=null&&(n=hp(n,e.limit)),n}};dp.exports=lp});var Y0=I((PT,pp)=>{"use strict";var js=ke();function I5(t){return t=t||new Error("Cannot open database"),js(t,"ERR_DB_OPEN_FAILED")}function C5(t){return t=t||new Error("Delete failed"),js(t,"ERR_DB_DELETE_FAILED")}function T5(t){return t=t||new Error("Write failed"),js(t,"ERR_DB_WRITE_FAILED")}function P5(t){return t=t||new Error("Not Found"),js(t,"ERR_NOT_FOUND")}function M5(t){return t=t||new Error("Aborted"),js(t,"ERR_ABORTED")}pp.exports={dbOpenFailedError:I5,dbDeleteFailedError:C5,dbWriteFailedError:T5,notFoundError:P5,abortedError:M5}});var gp=I((MT,vp)=>{"use strict";var yp=j0(),R5=G0(),q5=Y0(),bp=class extends R5{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,r){this.data[e.toString()]=r}async get(e){if(!await this.has(e))throw q5.notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,r])=>({key:new yp(e),value:r}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new yp(e))}};vp.exports=bp});var oo=I((RT,mp)=>{"use strict";var k5=j0(),L5=gp(),N5=$0(),D5=Y0(),O5=G0();mp.exports={Key:k5,MemoryDatastore:L5,utils:N5,Errors:D5,Adapter:O5}});var $s={};He($s,{equals:()=>K5});function K5(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Gs=Te(()=>{});function xp(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var wp,W0,F5,fo,Q0=Te(()=>{ri();wp=xp("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),W0=xp("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),F5={utf8:wp,"utf-8":wp,hex:no.base16,latin1:W0,ascii:W0,binary:W0,...no},fo=F5});var Ys={};He(Ys,{toString:()=>U5});function U5(t,e="utf8"){let r=fo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var Ws=Te(()=>{Q0()});var _p=I(uo=>{"use strict";uo.byteLength=V5;uo.toByteArray=j5;uo.fromByteArray=Y5;var Kr=[],or=[],z5=typeof Uint8Array!="undefined"?Uint8Array:Array,J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ni=0,Ep=J0.length;ni<Ep;++ni)Kr[ni]=J0[ni],or[J0.charCodeAt(ni)]=ni;var ni,Ep;or["-".charCodeAt(0)]=62;or["_".charCodeAt(0)]=63;function Sp(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function V5(t){var e=Sp(t),r=e[0],n=e[1];return(r+n)*3/4-n}function H5(t,e,r){return(e+r)*3/4-r}function j5(t){var e,r=Sp(t),n=r[0],i=r[1],s=new z5(H5(t,n,i)),a=0,o=i>0?n-4:n,f;for(f=0;f<o;f+=4)e=or[t.charCodeAt(f)]<<18|or[t.charCodeAt(f+1)]<<12|or[t.charCodeAt(f+2)]<<6|or[t.charCodeAt(f+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=or[t.charCodeAt(f)]<<2|or[t.charCodeAt(f+1)]>>4,s[a++]=e&255),i===1&&(e=or[t.charCodeAt(f)]<<10|or[t.charCodeAt(f+1)]<<4|or[t.charCodeAt(f+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function $5(t){return Kr[t>>18&63]+Kr[t>>12&63]+Kr[t>>6&63]+Kr[t&63]}function G5(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push($5(n));return i.join("")}function Y5(t){for(var e,r=t.length,n=r%3,i=[],s=16383,a=0,o=r-n;a<o;a+=s)i.push(G5(t,a,a+s>o?o:a+s));return n===1?(e=t[r-1],i.push(Kr[e>>2]+Kr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Kr[e>>10]+Kr[e>>4&63]+Kr[e<<2&63]+"=")),i.join("")}});var Ap=I(Z0=>{Z0.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,f=(1<<o)-1,u=f>>1,c=-7,l=r?i-1:0,y=r?-1:1,x=t[e+l];for(l+=y,s=x&(1<<-c)-1,x>>=-c,c+=o;c>0;s=s*256+t[e+l],l+=y,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=a*256+t[e+l],l+=y,c-=8);if(s===0)s=1-u;else{if(s===f)return a?NaN:(x?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(x?-1:1)*a*Math.pow(2,s-n)};Z0.write=function(t,e,r,n,i,s){var a,o,f,u=s*8-i-1,c=(1<<u)-1,l=c>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:s-1,v=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+l>=1?e+=y/f:e+=y*Math.pow(2,1-l),e*f>=2&&(a++,f/=2),a+l>=c?(o=0,a=c):a+l>=1?(o=(e*f-1)*Math.pow(2,i),a=a+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+x]=o&255,x+=v,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+x]=a&255,x+=v,a/=256,u-=8);t[r+x-v]|=b*128}});var Tn=I($i=>{"use strict";var X0=_p(),Vi=Ap(),Bp=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$i.Buffer=K;$i.SlowBuffer=ex;$i.INSPECT_MAX_BYTES=50;var co=2147483647;$i.kMaxLength=co;K.TYPED_ARRAY_SUPPORT=W5();!K.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function W5(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(K.prototype,"parent",{enumerable:!0,get:function(){if(!!K.isBuffer(this))return this.buffer}});Object.defineProperty(K.prototype,"offset",{enumerable:!0,get:function(){if(!!K.isBuffer(this))return this.byteOffset}});function hn(t){if(t>co)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,K.prototype),e}function K(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return eu(t)}return Ip(t,e,r)}K.poolSize=8192;function Ip(t,e,r){if(typeof t=="string")return J5(t,e);if(ArrayBuffer.isView(t))return Z5(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Fr(t,ArrayBuffer)||t&&Fr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Fr(t,SharedArrayBuffer)||t&&Fr(t.buffer,SharedArrayBuffer)))return ru(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return K.from(n,e,r);let i=X5(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return K.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}K.from=function(t,e,r){return Ip(t,e,r)};Object.setPrototypeOf(K.prototype,Uint8Array.prototype);Object.setPrototypeOf(K,Uint8Array);function Cp(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Q5(t,e,r){return Cp(t),t<=0?hn(t):e!==void 0?typeof r=="string"?hn(t).fill(e,r):hn(t).fill(e):hn(t)}K.alloc=function(t,e,r){return Q5(t,e,r)};function eu(t){return Cp(t),hn(t<0?0:nu(t)|0)}K.allocUnsafe=function(t){return eu(t)};K.allocUnsafeSlow=function(t){return eu(t)};function J5(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!K.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Tp(t,e)|0,n=hn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function tu(t){let e=t.length<0?0:nu(t.length)|0,r=hn(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Z5(t){if(Fr(t,Uint8Array)){let e=new Uint8Array(t);return ru(e.buffer,e.byteOffset,e.byteLength)}return tu(t)}function ru(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,K.prototype),n}function X5(t){if(K.isBuffer(t)){let e=nu(t.length)|0,r=hn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||au(t.length)?hn(0):tu(t);if(t.type==="Buffer"&&Array.isArray(t.data))return tu(t.data)}function nu(t){if(t>=co)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+co.toString(16)+" bytes");return t|0}function ex(t){return+t!=t&&(t=0),K.alloc(+t)}K.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==K.prototype};K.compare=function(e,r){if(Fr(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),Fr(r,Uint8Array)&&(r=K.from(r,r.offset,r.byteLength)),!K.isBuffer(e)||!K.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};K.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};K.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return K.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=K.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let a=e[n];if(Fr(a,Uint8Array))s+a.length>i.length?(K.isBuffer(a)||(a=K.from(a)),a.copy(i,s)):Uint8Array.prototype.set.call(i,a,s);else if(K.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function Tp(t,e){if(K.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Fr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return su(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Up(t).length;default:if(i)return n?-1:su(t).length;e=(""+e).toLowerCase(),i=!0}}K.byteLength=Tp;function tx(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return hx(this,e,r);case"utf8":case"utf-8":return Rp(this,e,r);case"ascii":return ux(this,e,r);case"latin1":case"binary":return cx(this,e,r);case"base64":return ox(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lx(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}K.prototype._isBuffer=!0;function ii(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}K.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ii(this,r,r+1);return this};K.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ii(this,r,r+3),ii(this,r+1,r+2);return this};K.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ii(this,r,r+7),ii(this,r+1,r+6),ii(this,r+2,r+5),ii(this,r+3,r+4);return this};K.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Rp(this,0,e):tx.apply(this,arguments)};K.prototype.toLocaleString=K.prototype.toString;K.prototype.equals=function(e){if(!K.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:K.compare(this,e)===0};K.prototype.inspect=function(){let e="",r=$i.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Bp&&(K.prototype[Bp]=K.prototype.inspect);K.prototype.compare=function(e,r,n,i,s){if(Fr(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),!K.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let a=s-i,o=n-r,f=Math.min(a,o),u=this.slice(i,s),c=e.slice(r,n);for(let l=0;l<f;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0};function Pp(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,au(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=K.from(e,n)),K.isBuffer(e))return e.length===0?-1:Mp(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Mp(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Mp(t,e,r,n,i){let s=1,a=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,r/=2}function f(c,l){return s===1?c[l]:c.readUInt16BE(l*s)}let u;if(i){let c=-1;for(u=r;u<a;u++)if(f(t,u)===f(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===o)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(r+o>a&&(r=a-o),u=r;u>=0;u--){let c=!0;for(let l=0;l<o;l++)if(f(t,u+l)!==f(e,l)){c=!1;break}if(c)return u}return-1}K.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};K.prototype.indexOf=function(e,r,n){return Pp(this,e,r,n,!0)};K.prototype.lastIndexOf=function(e,r,n){return Pp(this,e,r,n,!1)};function rx(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){let o=parseInt(e.substr(a*2,2),16);if(au(o))return a;t[r+a]=o}return a}function nx(t,e,r,n){return ho(su(e,t.length-r),t,r,n)}function ix(t,e,r,n){return ho(bx(e),t,r,n)}function sx(t,e,r,n){return ho(Up(e),t,r,n)}function ax(t,e,r,n){return ho(vx(e,t.length-r),t,r,n)}K.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return rx(this,e,r,n);case"utf8":case"utf-8":return nx(this,e,r,n);case"ascii":case"latin1":case"binary":return ix(this,e,r,n);case"base64":return sx(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ax(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};K.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ox(t,e,r){return e===0&&r===t.length?X0.fromByteArray(t):X0.fromByteArray(t.slice(e,r))}function Rp(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){let f,u,c,l;switch(o){case 1:s<128&&(a=s);break;case 2:f=t[i+1],(f&192)==128&&(l=(s&31)<<6|f&63,l>127&&(a=l));break;case 3:f=t[i+1],u=t[i+2],(f&192)==128&&(u&192)==128&&(l=(s&15)<<12|(f&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:f=t[i+1],u=t[i+2],c=t[i+3],(f&192)==128&&(u&192)==128&&(c&192)==128&&(l=(s&15)<<18|(f&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(a=l))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=o}return fx(n)}var qp=4096;function fx(t){let e=t.length;if(e<=qp)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=qp));return r}function ux(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function cx(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function hx(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=gx[t[s]];return i}function lx(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}K.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,K.prototype),i};function It(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}K.prototype.readUintLE=K.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||It(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return i};K.prototype.readUintBE=K.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||It(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};K.prototype.readUint8=K.prototype.readUInt8=function(e,r){return e=e>>>0,r||It(e,1,this.length),this[e]};K.prototype.readUint16LE=K.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||It(e,2,this.length),this[e]|this[e+1]<<8};K.prototype.readUint16BE=K.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||It(e,2,this.length),this[e]<<8|this[e+1]};K.prototype.readUint32LE=K.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||It(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};K.prototype.readUint32BE=K.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||It(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};K.prototype.readBigUInt64LE=Cn(function(e){e=e>>>0,ji(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Qs(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});K.prototype.readBigUInt64BE=Cn(function(e){e=e>>>0,ji(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Qs(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});K.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||It(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};K.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||It(e,r,this.length);let i=r,s=1,a=this[e+--i];for(;i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};K.prototype.readInt8=function(e,r){return e=e>>>0,r||It(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};K.prototype.readInt16LE=function(e,r){e=e>>>0,r||It(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};K.prototype.readInt16BE=function(e,r){e=e>>>0,r||It(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};K.prototype.readInt32LE=function(e,r){return e=e>>>0,r||It(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};K.prototype.readInt32BE=function(e,r){return e=e>>>0,r||It(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};K.prototype.readBigInt64LE=Cn(function(e){e=e>>>0,ji(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Qs(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});K.prototype.readBigInt64BE=Cn(function(e){e=e>>>0,ji(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Qs(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});K.prototype.readFloatLE=function(e,r){return e=e>>>0,r||It(e,4,this.length),Vi.read(this,e,!0,23,4)};K.prototype.readFloatBE=function(e,r){return e=e>>>0,r||It(e,4,this.length),Vi.read(this,e,!1,23,4)};K.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||It(e,8,this.length),Vi.read(this,e,!0,52,8)};K.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||It(e,8,this.length),Vi.read(this,e,!1,52,8)};function Wt(t,e,r,n,i,s){if(!K.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}K.prototype.writeUintLE=K.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Wt(this,e,r,n,o,0)}let s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n};K.prototype.writeUintBE=K.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Wt(this,e,r,n,o,0)}let s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n};K.prototype.writeUint8=K.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,1,255,0),this[r]=e&255,r+1};K.prototype.writeUint16LE=K.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeUint16BE=K.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeUint32LE=K.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};K.prototype.writeUint32BE=K.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function kp(t,e,r,n,i){Fp(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Lp(t,e,r,n,i){Fp(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}K.prototype.writeBigUInt64LE=Cn(function(e,r=0){return kp(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeBigUInt64BE=Cn(function(e,r=0){return Lp(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Wt(this,e,r,n,f-1,-f)}let s=0,a=1,o=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&o===0&&this[r+s-1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+n};K.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Wt(this,e,r,n,f-1,-f)}let s=n-1,a=1,o=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&o===0&&this[r+s+1]!==0&&(o=1),this[r+s]=(e/a>>0)-o&255;return r+n};K.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};K.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};K.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};K.prototype.writeBigInt64LE=Cn(function(e,r=0){return kp(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});K.prototype.writeBigInt64BE=Cn(function(e,r=0){return Lp(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Np(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Dp(t,e,r,n,i){return e=+e,r=r>>>0,i||Np(t,e,r,4,34028234663852886e22,-34028234663852886e22),Vi.write(t,e,r,n,23,4),r+4}K.prototype.writeFloatLE=function(e,r,n){return Dp(this,e,r,!0,n)};K.prototype.writeFloatBE=function(e,r,n){return Dp(this,e,r,!1,n)};function Op(t,e,r,n,i){return e=+e,r=r>>>0,i||Np(t,e,r,8,17976931348623157e292,-17976931348623157e292),Vi.write(t,e,r,n,52,8),r+8}K.prototype.writeDoubleLE=function(e,r,n){return Op(this,e,r,!0,n)};K.prototype.writeDoubleBE=function(e,r,n){return Op(this,e,r,!1,n)};K.prototype.copy=function(e,r,n,i){if(!K.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};K.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!K.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let a=K.isBuffer(e)?e:K.from(e,i),o=a.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%o]}return this};var Hi={};function iu(t,e,r){Hi[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}iu("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);iu("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);iu("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Kp(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Kp(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Kp(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function dx(t,e,r){ji(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Qs(e,t.length-(r+1))}function Fp(t,e,r,n,i,s){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",o;throw s>3?e===0||e===BigInt(0)?o=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:o=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:o=`>= ${e}${a} and <= ${r}${a}`,new Hi.ERR_OUT_OF_RANGE("value",o,t)}dx(n,i,s)}function ji(t,e){if(typeof t!="number")throw new Hi.ERR_INVALID_ARG_TYPE(e,"number",t)}function Qs(t,e,r){throw Math.floor(t)!==t?(ji(t,r),new Hi.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Hi.ERR_BUFFER_OUT_OF_BOUNDS:new Hi.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var px=/[^+/0-9A-Za-z-_]/g;function yx(t){if(t=t.split("=")[0],t=t.trim().replace(px,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function su(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function bx(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function vx(t,e){let r,n,i,s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Up(t){return X0.toByteArray(yx(t))}function ho(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Fr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function au(t){return t!==t}var gx=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Cn(t){return typeof BigInt=="undefined"?mx:t}function mx(){throw new Error("BigInt not supported")}});var Hp=I((ou,Vp)=>{var lo=Tn(),ln=lo.Buffer;function zp(t,e){for(var r in t)e[r]=t[r]}ln.from&&ln.alloc&&ln.allocUnsafe&&ln.allocUnsafeSlow?Vp.exports=lo:(zp(lo,ou),ou.Buffer=Gi);function Gi(t,e,r){return ln(t,e,r)}zp(ln,Gi);Gi.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ln(t,e,r)};Gi.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ln(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Gi.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ln(t)};Gi.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return lo.SlowBuffer(t)}});var jp=I((FT,uu)=>{"use strict";var fu=65536,xx=4294967295;function wx(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Ex=Hp().Buffer,po=globalThis.crypto||globalThis.msCrypto;po&&po.getRandomValues?uu.exports=Sx:uu.exports=wx;function Sx(t,e){if(t>xx)throw new RangeError("requested too many random bytes");var r=Ex.allocUnsafe(t);if(t>0)if(t>fu)for(var n=0;n<t;n+=fu)po.getRandomValues(r.slice(n,n+fu));else po.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var Yp=I((UT,Gp)=>{"use strict";var _x=jp(),{EventEmitter:Ax}=Fa();function $p(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0}function cu(){return{contacts:[],dontSplit:!1,left:null,right:null}}function Js(t,e){if(!(e instanceof Uint8Array))throw new TypeError(t+" is not a Uint8Array")}var Zs=class extends Ax{constructor(e={}){super();this.localNodeId=e.localNodeId||_x(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||Zs.distance,this.arbiter=e.arbiter||Zs.arbiter,this.metadata=Object.assign({},e.metadata),Js("option.localNodeId as parameter 1",this.localNodeId),this.root=cu()}static arbiter(e,r){return e.vectorClock>r.vectorClock?e:r}static distance(e,r){let n=0,i=0,s=Math.min(e.length,r.length),a=Math.max(e.length,r.length);for(;i<s;++i)n=n*256+(e[i]^r[i]);for(;i<a;++i)n=n*256+255;return n}add(e){Js("contact.id",(e||{}).id);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e.id,r++);let i=this._indexOf(n,e.id);return i>=0?(this._update(n,i,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,r),this.add(e))}closest(e,r=1/0){if(Js("id",e),!Number.isInteger(r)&&r!==1/0||r<=0)throw new TypeError("n is not positive number");let n=[];for(let i=[this.root],s=0;i.length>0&&n.length<r;){let a=i.pop();if(a.contacts===null){let o=this._determineNode(a,e,s++);i.push(a.left===o?a.right:a.left),i.push(o)}else n=n.concat(a.contacts)}return n.map(i=>[this.distance(i.id,e),i]).sort((i,s)=>i[0]-s[0]).slice(0,r).map(i=>i[1])}count(){let e=0;for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,r,n){let i=n>>3,s=n%8;return r.length<=i&&s!==0?e.left:r[i]&1<<7-s?e.right:e.left}get(e){Js("id",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);return i>=0?n.contacts[i]:null}_indexOf(e,r){for(let n=0;n<e.contacts.length;++n)if($p(e.contacts[n].id,r))return n;return-1}remove(e){Js("the id as parameter 1",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);if(i>=0){let s=n.contacts.splice(i,1)[0];this.emit("removed",s)}return this}_split(e,r){e.left=cu(),e.right=cu();for(let s of e.contacts)this._determineNode(e,s.id,r).contacts.push(s);e.contacts=null;let n=this._determineNode(e,this.localNodeId,r),i=e.left===n?e.right:e.left;i.dontSplit=!0}toArray(){let e=[];for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e=e.concat(n.contacts)}return e}*toIterable(){for(let e=[this.root];e.length>0;){let r=e.pop();r.contacts===null?e.push(r.right,r.left):yield*r.contacts}}_update(e,r,n){if(!$p(e.contacts[r].id,n.id))throw new Error("wrong index for _update");let i=e.contacts[r],s=this.arbiter(i,n);s===i&&i!==n||(e.contacts.splice(r,1),e.contacts.push(s),this.emit("updated",i,s))}};Gp.exports=Zs});var Qp=I((zT,Wp)=>{var Yi=1e3,Wi=Yi*60,Qi=Wi*60,si=Qi*24,Bx=si*7,Ix=si*365.25;Wp.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Cx(t);if(r==="number"&&isFinite(t))return e.long?Px(t):Tx(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Cx(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ix;case"weeks":case"week":case"w":return r*Bx;case"days":case"day":case"d":return r*si;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qi;case"minutes":case"minute":case"mins":case"min":case"m":return r*Wi;case"seconds":case"second":case"secs":case"sec":case"s":return r*Yi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Tx(t){var e=Math.abs(t);return e>=si?Math.round(t/si)+"d":e>=Qi?Math.round(t/Qi)+"h":e>=Wi?Math.round(t/Wi)+"m":e>=Yi?Math.round(t/Yi)+"s":t+"ms"}function Px(t){var e=Math.abs(t);return e>=si?yo(t,e,si,"day"):e>=Qi?yo(t,e,Qi,"hour"):e>=Wi?yo(t,e,Wi,"minute"):e>=Yi?yo(t,e,Yi,"second"):t+" ms"}function yo(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Zp=I((VT,Jp)=>{function Mx(t){r.debug=r,r.default=r,r.coerce=f,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Qp(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let l=0;for(let y=0;y<c.length;y++)l=(l<<5)-l+c.charCodeAt(y),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(c){let l,y=null,x,v;function b(..._){if(!b.enabled)return;let A=b,M=Number(new Date),q=M-(l||M);A.diff=q,A.prev=l,A.curr=M,l=M,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let z=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(U,G)=>{if(U==="%%")return"%";z++;let H=r.formatters[G];if(typeof H=="function"){let X=_[z];U=H.call(A,X),_.splice(z,1),z--}return U}),r.formatArgs.call(A,_),(A.log||r.log).apply(A,_)}return b.namespace=c,b.useColors=r.useColors(),b.color=r.selectColor(c),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(x!==r.namespaces&&(x=r.namespaces,v=r.enabled(c)),v),set:_=>{y=_}}),typeof r.init=="function"&&r.init(b),b}function n(c,l){let y=r(this.namespace+(typeof l=="undefined"?":":l)+c);return y.log=this.log,y}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let l,y=(typeof c=="string"?c:"").split(/[\s,]+/),x=y.length;for(l=0;l<x;l++)!y[l]||(c=y[l].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function s(){let c=[...r.names.map(o),...r.skips.map(o).map(l=>"-"+l)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let l,y;for(l=0,y=r.skips.length;l<y;l++)if(r.skips[l].test(c))return!1;for(l=0,y=r.names.length;l<y;l++)if(r.names[l].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Jp.exports=Mx});var hu=I((tr,bo)=>{tr.formatArgs=qx;tr.save=kx;tr.load=Lx;tr.useColors=Rx;tr.storage=Nx();tr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();tr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Rx(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function qx(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+bo.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}tr.log=console.debug||console.log||(()=>{});function kx(t){try{t?tr.storage.setItem("debug",t):tr.storage.removeItem("debug")}catch(e){}}function Lx(){let t;try{t=tr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Nx(){try{return localStorage}catch(t){}}bo.exports=Zp()(tr);var{formatters:Dx}=bo.exports;Dx.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var vo=I((HT,Xp)=>{Xp.exports=Pn;function Pn(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");for(var r=Buffer.allocUnsafe(t.length),n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}Pn.compare=function(e,r){if(e.length!==r.length)throw new Error("Inputs should have the same length");for(var n=0;n<e.length;n++)if(e[n]!==r[n])return e[n]<r[n]?-1:1;return 0};Pn.gt=function(e,r){return Pn.compare(e,r)===1};Pn.lt=function(e,r){return Pn.compare(e,r)===-1};Pn.eq=function(e,r){return Pn.compare(e,r)===0}});var t1=I((jT,e1)=>{"use strict";e1.exports=(t,e=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof t!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(e===0)return t;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(n,r.indent.repeat(e))}});var r1=I(()=>{});var a1=I((YT,s1)=>{"use strict";var n1=r1(),i1=/\s+at.*(?:\(|\s)(.*)\)?/,Ox=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,Kx=typeof n1.homedir=="undefined"?"":n1.homedir();s1.exports=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(i1);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!Ox.test(i)}).filter(r=>r.trim()!=="").map(r=>e.pretty?r.replace(i1,(n,i)=>n.replace(i,i.replace(Kx,"~"))):r).join(`
`))});var u1=I((WT,f1)=>{"use strict";var Fx=t1(),Ux=a1(),zx=t=>t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),o1=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=e.map(n=>typeof n.stack=="string"?zx(Ux(n.stack)):String(n)).join(`
`);r=`
`+Fx(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}};f1.exports=o1});var go=I((QT,c1)=>{"use strict";var Vx=u1();c1.exports=async(t,e,{concurrency:r=1/0,stopOnError:n=!0}={})=>new Promise((i,s)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===1/0)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let a=[],o=[],f=t[Symbol.iterator](),u=!1,c=!1,l=0,y=0,x=()=>{if(u)return;let v=f.next(),b=y;if(y++,v.done){c=!0,l===0&&(!n&&o.length!==0?s(new Vx(o)):i(a));return}l++,(async()=>{try{let _=await v.value;a[b]=await e(_,b),l--,x()}catch(_){n?(u=!0,s(_)):(o.push(_),l--,x())}})()};for(let v=0;v<r&&(x(),!c);v++);})});var xo=I((JT,l1)=>{"use strict";var ai=Ds(),mo=ai.Reader,h1=ai.Writer,Ot=ai.util,fr=ai.roots["libp2p-crypto-keys"]||(ai.roots["libp2p-crypto-keys"]={});fr.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();fr.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ot.newBuffer([]),t.encode=function(r,n){return n||(n=h1.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof mo||(r=mo.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new fr.PublicKey;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Ot.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Ot.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof fr.PublicKey)return r;var n=new fr.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ot.base64.decode(r.Data,n.Data=Ot.newBuffer(Ot.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ot.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?fr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ot.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,ai.util.toJSONOptions)},t}();fr.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ot.newBuffer([]),t.encode=function(r,n){return n||(n=h1.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof mo||(r=mo.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new fr.PrivateKey;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Ot.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Ot.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof fr.PrivateKey)return r;var n=new fr.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ot.base64.decode(r.Data,n.Data=Ot.newBuffer(Ot.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ot.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?fr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ot.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,ai.util.toJSONOptions)},t}();l1.exports=fr});var Be=I((ZT,d1)=>{d1.exports={options:{usePureJavaScript:!1}}});var b1=I((XT,y1)=>{var lu={};y1.exports=lu;var p1={};lu.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Hx(t,e);else{var i=0,s=e.length,a=e.charAt(0),o=[0];for(i=0;i<t.length;++i){for(var f=0,u=t[i];f<o.length;++f)u+=o[f]<<8,o[f]=u%s,u=u/s|0;for(;u>0;)o.push(u%s),u=u/s|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=e[o[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};lu.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=p1[e];if(!r){r=p1[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,s=e.charAt(0),a=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var f=0,u=o;f<a.length;++f)u+=a[f]*i,a[f]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var c=0;t[c]===s&&c<t.length-1;++c)a.push(0);return typeof Buffer!="undefined"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Hx(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,o=t.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=s.length-1;r>=0;--r)f+=e[s[r]];return f}});var Qe=I((eP,x1)=>{var v1=Be(),g1=b1(),P=x1.exports=v1.util=v1.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){P.nextTick=process.nextTick,typeof setImmediate=="function"?P.setImmediate=setImmediate:P.setImmediate=P.nextTick;return}if(typeof setImmediate=="function"){P.setImmediate=function(){return setImmediate.apply(void 0,arguments)},P.nextTick=function(o){return setImmediate(o)};return}if(P.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(c){c()})}};var a=o,t="forge.setImmediate",e=[];P.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=P.setImmediate;P.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),s(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}P.nextTick=P.setImmediate})();P.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;P.globalScope=function(){return P.isNodejs?globalThis:typeof self=="undefined"?window:self}();P.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};P.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};P.isArrayBufferView=function(t){return t&&P.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Xs(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}P.ByteBuffer=du;function du(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(P.isArrayBuffer(t)||P.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof du||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}P.ByteStringBuffer=du;var jx=4096;P.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>jx&&(this.data.substr(0,1),this._constructedStringLength=0)};P.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};P.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};P.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};P.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};P.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};P.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(P.encodeUtf8(t))};P.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};P.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};P.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};P.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};P.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};P.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};P.ByteStringBuffer.prototype.putInt=function(t,e){Xs(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};P.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};P.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};P.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};P.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};P.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};P.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};P.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};P.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};P.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};P.ByteStringBuffer.prototype.getInt=function(t){Xs(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};P.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};P.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};P.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};P.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};P.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};P.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};P.ByteStringBuffer.prototype.copy=function(){var t=P.createBuffer(this.data);return t.read=this.read,t};P.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};P.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};P.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};P.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};P.ByteStringBuffer.prototype.toString=function(){return P.decodeUtf8(this.bytes())};function $x(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=P.isArrayBuffer(t),n=P.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}P.DataBuffer=$x;P.DataBuffer.prototype.length=function(){return this.write-this.read};P.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};P.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};P.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};P.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};P.DataBuffer.prototype.putBytes=function(t,e){if(P.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(P.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof P.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&P.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof P.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=P.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=P.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=P.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=P.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=P.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};P.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};P.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};P.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};P.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};P.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};P.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};P.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};P.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};P.DataBuffer.prototype.putInt=function(t,e){Xs(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};P.DataBuffer.prototype.putSignedInt=function(t,e){return Xs(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};P.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};P.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};P.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};P.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};P.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};P.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};P.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};P.DataBuffer.prototype.getInt=function(t){Xs(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};P.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};P.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};P.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};P.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};P.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};P.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};P.DataBuffer.prototype.copy=function(){return new P.DataBuffer(this)};P.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};P.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};P.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};P.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};P.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return P.binary.raw.encode(e);if(t==="hex")return P.binary.hex.encode(e);if(t==="base64")return P.binary.base64.encode(e);if(t==="utf8")return P.text.utf8.decode(e);if(t==="utf16")return P.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};P.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=P.encodeUtf8(t)),new P.ByteBuffer(t)};P.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};P.xorBytes=function(t,e,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s,n};P.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};P.bytesToHex=function(t){return P.createBuffer(t).toHex()};P.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Rn=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],m1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";P.encode64=function(t,e){for(var r="",n="",i,s,a,o=0;o<t.length;)i=t.charCodeAt(o++),s=t.charCodeAt(o++),a=t.charCodeAt(o++),r+=Mn.charAt(i>>2),r+=Mn.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Mn.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Mn.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};P.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,s,a=0;a<t.length;)r=Rn[t.charCodeAt(a++)-43],n=Rn[t.charCodeAt(a++)-43],i=Rn[t.charCodeAt(a++)-43],s=Rn[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(e+=String.fromCharCode((i&3)<<6|s)));return e};P.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};P.decodeUtf8=function(t){return decodeURIComponent(escape(t))};P.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:g1.encode,decode:g1.decode}};P.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};P.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};P.binary.hex.encode=P.bytesToHex;P.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,s=r;for(t.length&1&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n};P.binary.base64.encode=function(t,e){for(var r="",n="",i,s,a,o=0;o<t.byteLength;)i=t[o++],s=t[o++],a=t[o++],r+=Mn.charAt(i>>2),r+=Mn.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Mn.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Mn.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};P.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,o,f=0,u=r;f<t.length;)i=Rn[t.charCodeAt(f++)-43],s=Rn[t.charCodeAt(f++)-43],a=Rn[t.charCodeAt(f++)-43],o=Rn[t.charCodeAt(f++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,o!==64&&(n[u++]=(a&3)<<6|o));return e?u-r:n.subarray(0,u)};P.binary.base58.encode=function(t,e){return P.binary.baseN.encode(t,m1,e)};P.binary.base58.decode=function(t,e){return P.binary.baseN.decode(t,m1,e)};P.text={utf8:{},utf16:{}};P.text.utf8.encode=function(t,e,r){t=P.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n};P.text.utf8.decode=function(t){return P.decodeUtf8(String.fromCharCode.apply(null,t))};P.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,o=0;o<t.length;++o)i[a++]=t.charCodeAt(o),s+=2;return e?s-r:n};P.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};P.deflate=function(t,e,r){if(e=P.decode64(t.deflate(P.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};P.inflate=function(t,e,r){var n=t.inflate(P.encode64(e)).rval;return n===null?null:P.decode64(n)};var pu=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=P.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},yu=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(P.decode64(r))),r},Gx=function(t,e,r,n){var i=yu(t,e);i===null&&(i={}),i[r]=n,pu(t,e,i)},Yx=function(t,e,r){var n=yu(t,e);return n!==null&&(n=r in n?n[r]:null),n},Wx=function(t,e,r){var n=yu(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),pu(t,e,n)}},Qx=function(t,e){pu(t,e,null)},wo=function(t,e,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,s=!1,a=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),s=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(f){a=f}if(s)break}if(!s)throw a;return n};P.setItem=function(t,e,r,n,i){wo(Gx,arguments,i)};P.getItem=function(t,e,r,n){return wo(Yx,arguments,n)};P.removeItem=function(t,e,r,n){wo(Wx,arguments,n)};P.clearItems=function(t,e,r){wo(Qx,arguments,r)};P.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var Eo=null;P.getQueryVariables=function(t){var e=function(n){for(var i={},s=n.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("="),f,u;o>0?(f=s[a].substring(0,o),u=s[a].substring(o+1)):(f=s[a],u=null),f in i||(i[f]=[]),!(f in Object.prototype)&&u!==null&&i[f].push(unescape(u))}return i},r;return typeof t=="undefined"?(Eo===null&&(typeof window!="undefined"&&window.location&&window.location.search?Eo=e(window.location.search.substring(1)):Eo={}),r=Eo):r=e(t),r};P.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&i[0]===""&&i.shift();var s=r===""?{}:P.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:s}};P.makeRequest=function(t){var e=P.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(n){return typeof n=="undefined"?e.path:e.path[n]},getQuery:function(n,i){var s;return typeof n=="undefined"?s=e.query:(s=e.query[n],s&&typeof i!="undefined"&&(s=s[i])),s},getQueryLast:function(n,i){var s,a=r.getQuery(n);return a?s=a[a.length-1]:s=i,s}};return r};P.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};P.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};P.format=function(t){for(var e=/%./g,r,n,i=0,s=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&s.push(n),a=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(t.substring(a)),s.join("")};P.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,o=n===void 0?".":n,f=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",c=u.length>3?u.length%3:0;return f+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};P.formatSize=function(t){return t>=1073741824?t=P.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=P.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=P.formatNumber(t/1024,0)+" KiB":t=P.formatNumber(t,0)+" bytes",t};P.bytesFromIP=function(t){return t.indexOf(".")!==-1?P.bytesFromIPv4(t):t.indexOf(":")!==-1?P.bytesFromIPv6(t):null};P.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=P.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};P.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=P.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=P.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};P.bytesToIP=function(t){return t.length===4?P.bytesToIPv4(t):t.length===16?P.bytesToIPv6(t):null};P.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};P.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=P.bytesToHex(t[i]+t[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],o=e.length;!a||o!==a.end+1?r.push({start:o,end:o}):(a.end=o,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(s)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};P.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in P&&!t.update)return e(null,P.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return P.cores=navigator.hardwareConcurrency,e(null,P.cores);if(typeof Worker=="undefined")return P.cores=1,e(null,P.cores);if(typeof Blob=="undefined")return P.cores=2,e(null,P.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var o=Date.now(),f=o+4;Date.now()<f;);self.postMessage({st:o,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,o,f){if(o===0){var u=Math.floor(a.reduce(function(c,l){return c+l},0)/a.length);return P.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,P.cores)}i(f,function(c,l){a.push(s(f,l)),n(a,o-1,f)})}function i(a,o){for(var f=[],u=[],c=0;c<a;++c){var l=new Worker(r);l.addEventListener("message",function(y){if(u.push(y.data),u.length===a){for(var x=0;x<a;++x)f[x].terminate();o(null,u)}}),f.push(l)}for(var c=0;c<a;++c)f[c].postMessage(c)}function s(a,o){for(var f=[],u=0;u<a;++u)for(var c=o[u],l=f[u]=[],y=0;y<a;++y)if(u!==y){var x=o[y];(c.st>x.st&&c.st<x.et||x.st>c.st&&x.st<c.et)&&l.push(y)}return f.reduce(function(v,b){return Math.max(v,b.length)},0)}}});var So=I((tP,w1)=>{var ea=Be();ea.pki=ea.pki||{};var bu=w1.exports=ea.pki.oids=ea.oids=ea.oids||{};function j(t,e){bu[t]=e,bu[e]=t}function Pe(t,e){bu[t]=e}j("1.2.840.113549.1.1.1","rsaEncryption");j("1.2.840.113549.1.1.4","md5WithRSAEncryption");j("1.2.840.113549.1.1.5","sha1WithRSAEncryption");j("1.2.840.113549.1.1.7","RSAES-OAEP");j("1.2.840.113549.1.1.8","mgf1");j("1.2.840.113549.1.1.9","pSpecified");j("1.2.840.113549.1.1.10","RSASSA-PSS");j("1.2.840.113549.1.1.11","sha256WithRSAEncryption");j("1.2.840.113549.1.1.12","sha384WithRSAEncryption");j("1.2.840.113549.1.1.13","sha512WithRSAEncryption");j("1.3.101.112","EdDSA25519");j("1.2.840.10040.4.3","dsa-with-sha1");j("1.3.14.3.2.7","desCBC");j("1.3.14.3.2.26","sha1");j("2.16.840.1.101.3.4.2.1","sha256");j("2.16.840.1.101.3.4.2.2","sha384");j("2.16.840.1.101.3.4.2.3","sha512");j("1.2.840.113549.2.5","md5");j("1.2.840.113549.1.7.1","data");j("1.2.840.113549.1.7.2","signedData");j("1.2.840.113549.1.7.3","envelopedData");j("1.2.840.113549.1.7.4","signedAndEnvelopedData");j("1.2.840.113549.1.7.5","digestedData");j("1.2.840.113549.1.7.6","encryptedData");j("1.2.840.113549.1.9.1","emailAddress");j("1.2.840.113549.1.9.2","unstructuredName");j("1.2.840.113549.1.9.3","contentType");j("1.2.840.113549.1.9.4","messageDigest");j("1.2.840.113549.1.9.5","signingTime");j("1.2.840.113549.1.9.6","counterSignature");j("1.2.840.113549.1.9.7","challengePassword");j("1.2.840.113549.1.9.8","unstructuredAddress");j("1.2.840.113549.1.9.14","extensionRequest");j("1.2.840.113549.1.9.20","friendlyName");j("1.2.840.113549.1.9.21","localKeyId");j("1.2.840.113549.1.9.22.1","x509Certificate");j("1.2.840.113549.1.12.10.1.1","keyBag");j("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");j("1.2.840.113549.1.12.10.1.3","certBag");j("1.2.840.113549.1.12.10.1.4","crlBag");j("1.2.840.113549.1.12.10.1.5","secretBag");j("1.2.840.113549.1.12.10.1.6","safeContentsBag");j("1.2.840.113549.1.5.13","pkcs5PBES2");j("1.2.840.113549.1.5.12","pkcs5PBKDF2");j("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");j("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");j("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");j("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");j("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");j("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");j("1.2.840.113549.2.7","hmacWithSHA1");j("1.2.840.113549.2.8","hmacWithSHA224");j("1.2.840.113549.2.9","hmacWithSHA256");j("1.2.840.113549.2.10","hmacWithSHA384");j("1.2.840.113549.2.11","hmacWithSHA512");j("1.2.840.113549.3.7","des-EDE3-CBC");j("2.16.840.1.101.3.4.1.2","aes128-CBC");j("2.16.840.1.101.3.4.1.22","aes192-CBC");j("2.16.840.1.101.3.4.1.42","aes256-CBC");j("2.5.4.3","commonName");j("2.5.4.5","serialName");j("2.5.4.6","countryName");j("2.5.4.7","localityName");j("2.5.4.8","stateOrProvinceName");j("2.5.4.9","streetAddress");j("2.5.4.10","organizationName");j("2.5.4.11","organizationalUnitName");j("2.5.4.13","description");j("2.5.4.15","businessCategory");j("2.5.4.17","postalCode");j("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");j("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");j("2.16.840.1.113730.1.1","nsCertType");j("2.16.840.1.113730.1.13","nsComment");Pe("2.5.29.1","authorityKeyIdentifier");Pe("2.5.29.2","keyAttributes");Pe("2.5.29.3","certificatePolicies");Pe("2.5.29.4","keyUsageRestriction");Pe("2.5.29.5","policyMapping");Pe("2.5.29.6","subtreesConstraint");Pe("2.5.29.7","subjectAltName");Pe("2.5.29.8","issuerAltName");Pe("2.5.29.9","subjectDirectoryAttributes");Pe("2.5.29.10","basicConstraints");Pe("2.5.29.11","nameConstraints");Pe("2.5.29.12","policyConstraints");Pe("2.5.29.13","basicConstraints");j("2.5.29.14","subjectKeyIdentifier");j("2.5.29.15","keyUsage");Pe("2.5.29.16","privateKeyUsagePeriod");j("2.5.29.17","subjectAltName");j("2.5.29.18","issuerAltName");j("2.5.29.19","basicConstraints");Pe("2.5.29.20","cRLNumber");Pe("2.5.29.21","cRLReason");Pe("2.5.29.22","expirationDate");Pe("2.5.29.23","instructionCode");Pe("2.5.29.24","invalidityDate");Pe("2.5.29.25","cRLDistributionPoints");Pe("2.5.29.26","issuingDistributionPoint");Pe("2.5.29.27","deltaCRLIndicator");Pe("2.5.29.28","issuingDistributionPoint");Pe("2.5.29.29","certificateIssuer");Pe("2.5.29.30","nameConstraints");j("2.5.29.31","cRLDistributionPoints");j("2.5.29.32","certificatePolicies");Pe("2.5.29.33","policyMappings");Pe("2.5.29.34","policyConstraints");j("2.5.29.35","authorityKeyIdentifier");Pe("2.5.29.36","policyConstraints");j("2.5.29.37","extKeyUsage");Pe("2.5.29.46","freshestCRL");Pe("2.5.29.54","inhibitAnyPolicy");j("1.3.6.1.4.1.11129.2.4.2","timestampList");j("1.3.6.1.5.5.7.1.1","authorityInfoAccess");j("1.3.6.1.5.5.7.3.1","serverAuth");j("1.3.6.1.5.5.7.3.2","clientAuth");j("1.3.6.1.5.5.7.3.3","codeSigning");j("1.3.6.1.5.5.7.3.4","emailProtection");j("1.3.6.1.5.5.7.3.8","timeStamping")});var Ji=I((rP,S1)=>{var je=Be();Qe();So();var Q=S1.exports=je.asn1=je.asn1||{};Q.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Q.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Q.create=function(t,e,r,n,i){if(je.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var o={tagClass:t,type:e,constructed:r,composed:r||je.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=Q.copy(o)),o};Q.copy=function(t,e){var r;if(je.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(Q.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:Q.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};Q.equals=function(t,e,r){if(je.util.isArray(t)){if(!je.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Q.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&Q.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};Q.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function ta(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var Jx=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;ta(t,e,s),n=t.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Q.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=je.util.createBuffer(t)),_o(t,t.length(),0,e)};function _o(t,e,r,n){var i;ta(t,e,2);var s=t.getByte();e--;var a=s&192,o=s&31;i=t.length();var f=Jx(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=f,u}f=e}var c,l,y=(s&32)==32;if(y)if(c=[],f===void 0)for(;;){if(ta(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),c.push(_o(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),c.push(_o(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(c===void 0&&a===Q.Class.UNIVERSAL&&o===Q.Type.BITSTRING&&(l=t.bytes(f)),c===void 0&&n.decodeBitStrings&&a===Q.Class.UNIVERSAL&&o===Q.Type.BITSTRING&&f>1){var x=t.read,v=e,b=0;if(o===Q.Type.BITSTRING&&(ta(t,e,1),b=t.getByte(),e--),b===0)try{i=t.length();var _={verbose:n.verbose,strict:!0,decodeBitStrings:!0},A=_o(t,e,r+1,_),M=i-t.length();e-=M,o==Q.Type.BITSTRING&&M++;var q=A.tagClass;M===f&&(q===Q.Class.UNIVERSAL||q===Q.Class.CONTEXT_SPECIFIC)&&(c=[A])}catch(O){}c===void 0&&(t.read=x,e=v)}if(c===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(o===Q.Type.BMPSTRING)for(c="";f>0;f-=2)ta(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(f)}var z=l===void 0?null:{bitStringContents:l};return Q.create(a,o,y,c,z)}Q.toDer=function(t){var e=je.util.createBuffer(),r=t.tagClass|t.type,n=je.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=Q.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&n.putBuffer(Q.toDer(t.value[s]))}else if(t.type===Q.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)n.putInt16(t.value.charCodeAt(s));else t.type===Q.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),o="";do o+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(o.length|128);for(var s=o.length-1;s>=0;--s)e.putByte(o.charCodeAt(s))}return e.putBuffer(n),e};Q.oidToDer=function(t){var e=t.split("."),r=je.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,s,a,o=2;o<e.length;++o){n=!0,i=[],s=parseInt(e[o],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};Q.derToOid=function(t){var e;typeof t=="string"&&(t=je.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};Q.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var f=t.charAt(10),u=10;f!=="+"&&f!=="-"&&(o=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,o,0),u&&(f=t.charAt(u),f==="+"||f==="-")){var c=parseInt(t.substr(u+1,2),10),l=parseInt(t.substr(u+4,2),10),y=c*60+l;y*=6e4,f==="+"?e.setTime(+e-y):e.setTime(+e+y)}return e};Q.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),f=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var l=t.length-5,y=t.charAt(l);if(y==="+"||y==="-"){var x=parseInt(t.substr(l+1,2),10),v=parseInt(t.substr(l+4,2),10);u=x*60+v,u*=6e4,y==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,o,f),e.setTime(+e+u)):(e.setFullYear(r,n,i),e.setHours(s,a,o,f)),e};Q.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Q.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Q.integerToDer=function(t){var e=je.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};Q.derToInteger=function(t){typeof t=="string"&&(t=je.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};Q.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(i=!0,e.value&&je.util.isArray(e.value))for(var s=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[s]&&(i=Q.validate(t.value[s],e.value[a],r,n),i?++s:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var E1=/[^\\u0000-\\u00ff]/;Q.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",s=0;s<e*r;++s)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case Q.Class.UNIVERSAL:n+="Universal:";break;case Q.Class.APPLICATION:n+="Application:";break;case Q.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Q.Class.PRIVATE:n+="Private:";break}if(t.tagClass===Q.Class.UNIVERSAL)switch(n+=t.type,t.type){case Q.Type.NONE:n+=" (None)";break;case Q.Type.BOOLEAN:n+=" (Boolean)";break;case Q.Type.INTEGER:n+=" (Integer)";break;case Q.Type.BITSTRING:n+=" (Bit string)";break;case Q.Type.OCTETSTRING:n+=" (Octet string)";break;case Q.Type.NULL:n+=" (Null)";break;case Q.Type.OID:n+=" (Object Identifier)";break;case Q.Type.ODESC:n+=" (Object Descriptor)";break;case Q.Type.EXTERNAL:n+=" (External or Instance of)";break;case Q.Type.REAL:n+=" (Real)";break;case Q.Type.ENUMERATED:n+=" (Enumerated)";break;case Q.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Q.Type.UTF8:n+=" (UTF8)";break;case Q.Type.ROID:n+=" (Relative Object Identifier)";break;case Q.Type.SEQUENCE:n+=" (Sequence)";break;case Q.Type.SET:n+=" (Set)";break;case Q.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Q.Type.IA5String:n+=" (IA5String (ASCII))";break;case Q.Type.UTCTIME:n+=" (UTC time)";break;case Q.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Q.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,o="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,o+=Q.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(o+=","));n+=i+"Sub values: "+a+o}else{if(n+=i+"Value: ",t.type===Q.Type.OID){var f=Q.derToOid(t.value);n+=f,je.pki&&je.pki.oids&&f in je.pki.oids&&(n+=" ("+je.pki.oids[f]+") ")}if(t.type===Q.Type.INTEGER)try{n+=Q.derToInteger(t.value)}catch(c){n+="0x"+je.util.bytesToHex(t.value)}else if(t.type===Q.Type.BITSTRING){if(t.value.length>1?n+="0x"+je.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else t.type===Q.Type.OCTETSTRING?(E1.test(t.value)||(n+="("+t.value+") "),n+="0x"+je.util.bytesToHex(t.value)):t.type===Q.Type.UTF8?n+=je.util.decodeUtf8(t.value):t.type===Q.Type.PRINTABLESTRING||t.type===Q.Type.IA5String?n+=t.value:E1.test(t.value)?n+="0x"+je.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var gu=I((nP,_1)=>{var Ct=Be();Qe();_1.exports=Ct.cipher=Ct.cipher||{};Ct.cipher.algorithms=Ct.cipher.algorithms||{};Ct.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ct.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ct.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Ct.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ct.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ct.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Ct.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Ct.cipher.algorithms[t]=e};Ct.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Ct.cipher.algorithms?Ct.cipher.algorithms[t]:null};var vu=Ct.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};vu.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Ct.util.createBuffer(),this.output=t.output||Ct.util.createBuffer(),this.mode.start(e)};vu.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};vu.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var xu=I((iP,A1)=>{var Tt=Be();Qe();Tt.cipher=Tt.cipher||{};var me=A1.exports=Tt.cipher.modes=Tt.cipher.modes||{};me.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};me.ecb.prototype.start=function(t){};me.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};me.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};me.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};me.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};me.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};me.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Ao(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};me.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};me.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};me.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};me.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};me.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};me.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ao(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};me.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ao(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.ofb.prototype.decrypt=me.ofb.prototype.encrypt;me.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};me.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ao(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Bo(this._inBlock)};me.ctr.prototype.decrypt=me.ctr.prototype.encrypt;me.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};me.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Tt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Tt.util.createBuffer(t.additionalData):r=Tt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Tt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(mu(n*8)))}this._inBlock=this._j0.slice(0),Bo(this._inBlock),this._partialBytes=0,r=Tt.util.createBuffer(r),this._aDataLength=mu(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};me.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Bo(this._inBlock)};me.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Bo(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};me.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Tt.util.createBuffer();var n=this._aDataLength.concat(mu(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};me.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var s=t[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};me.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};me.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,s=this._m[r][i];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};me.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};me.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],f=a/n|0,u=(n-1-a%n)*e;o[f]=1<<e-1<<u,s[a]=this.generateSubHashTable(this.multiply(o,t),e)}return s};me.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],f=i[a];i[s+a]=[o[0]^f[0],o[1]^f[1],o[2]^f[2],o[3]^f[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return i};function Ao(t,e){if(typeof t=="string"&&(t=Tt.util.createBuffer(t)),Tt.util.isArray(t)&&t.length>4){var r=t;t=Tt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Tt.util.isArray(t)){for(var i=[],s=e/4,n=0;n<s;++n)i.push(t.getInt32());t=i}return t}function Bo(t){t[t.length-1]=t[t.length-1]+1&4294967295}function mu(t){return[t/4294967296|0,t&4294967295]}});var Co=I((sP,T1)=>{var Oe=Be();gu();xu();Qe();T1.exports=Oe.aes=Oe.aes||{};Oe.aes.startEncrypting=function(t,e,r,n){var i=Io({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Oe.aes.createEncryptionCipher=function(t,e){return Io({key:t,output:null,decrypt:!1,mode:e})};Oe.aes.startDecrypting=function(t,e,r,n){var i=Io({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Oe.aes.createDecryptionCipher=function(t,e){return Io({key:t,output:null,decrypt:!0,mode:e})};Oe.aes.Algorithm=function(t,e){wu||I1();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Su(r._w,n,i,!1)},decrypt:function(n,i){return Su(r._w,n,i,!0)}}}),r._init=!1};Oe.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Oe.util.createBuffer(e);else if(Oe.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Oe.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Oe.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Oe.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=C1(e,t.decrypt&&!a),this._init=!0}};Oe.aes._expandKey=function(t,e){return wu||I1(),C1(t,e)};Oe.aes._updateBlock=Su;Zi("AES-ECB",Oe.cipher.modes.ecb);Zi("AES-CBC",Oe.cipher.modes.cbc);Zi("AES-CFB",Oe.cipher.modes.cfb);Zi("AES-OFB",Oe.cipher.modes.ofb);Zi("AES-CTR",Oe.cipher.modes.ctr);Zi("AES-GCM",Oe.cipher.modes.gcm);function Zi(t,e){var r=function(){return new Oe.aes.Algorithm(t,e)};Oe.cipher.registerAlgorithm(t,r)}var wu=!1,Xi=4,Vt,Eu,B1,oi,wr;function I1(){wu=!0,B1=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Vt=new Array(256),Eu=new Array(256),oi=new Array(4),wr=new Array(4);for(var e=0;e<4;++e)oi[e]=new Array(256),wr[e]=new Array(256);for(var r=0,n=0,i,s,a,o,f,u,c,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Vt[r]=o,Eu[o]=r,f=t[o],i=t[r],s=t[i],a=t[s],u=f<<24^o<<16^o<<8^(o^f),c=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var l=0;l<4;++l)oi[l][r]=u,wr[l][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}function C1(t,e){for(var r=t.slice(0),n,i=1,s=r.length,a=s+6+1,o=Xi*a,f=s;f<o;++f)n=r[f-1],f%s==0?(n=Vt[n>>>16&255]<<24^Vt[n>>>8&255]<<16^Vt[n&255]<<8^Vt[n>>>24]^B1[i]<<24,i++):s>6&&f%s==4&&(n=Vt[n>>>24]<<24^Vt[n>>>16&255]<<16^Vt[n>>>8&255]<<8^Vt[n&255]),r[f]=r[f-s]^n;if(e){var u,c=wr[0],l=wr[1],y=wr[2],x=wr[3],v=r.slice(0);o=r.length;for(var f=0,b=o-Xi;f<o;f+=Xi,b-=Xi)if(f===0||f===o-Xi)v[f]=r[b],v[f+1]=r[b+3],v[f+2]=r[b+2],v[f+3]=r[b+1];else for(var _=0;_<Xi;++_)u=r[b+_],v[f+(3&-_)]=c[Vt[u>>>24]]^l[Vt[u>>>16&255]]^y[Vt[u>>>8&255]]^x[Vt[u&255]];r=v}return r}function Su(t,e,r,n){var i=t.length/4-1,s,a,o,f,u;n?(s=wr[0],a=wr[1],o=wr[2],f=wr[3],u=Eu):(s=oi[0],a=oi[1],o=oi[2],f=oi[3],u=Vt);var c,l,y,x,v,b,_;c=e[0]^t[0],l=e[n?3:1]^t[1],y=e[2]^t[2],x=e[n?1:3]^t[3];for(var A=3,M=1;M<i;++M)v=s[c>>>24]^a[l>>>16&255]^o[y>>>8&255]^f[x&255]^t[++A],b=s[l>>>24]^a[y>>>16&255]^o[x>>>8&255]^f[c&255]^t[++A],_=s[y>>>24]^a[x>>>16&255]^o[c>>>8&255]^f[l&255]^t[++A],x=s[x>>>24]^a[c>>>16&255]^o[l>>>8&255]^f[y&255]^t[++A],c=v,l=b,y=_;r[0]=u[c>>>24]<<24^u[l>>>16&255]<<16^u[y>>>8&255]<<8^u[x&255]^t[++A],r[n?3:1]=u[l>>>24]<<24^u[y>>>16&255]<<16^u[x>>>8&255]<<8^u[c&255]^t[++A],r[2]=u[y>>>24]<<24^u[x>>>16&255]<<16^u[c>>>8&255]<<8^u[l&255]^t[++A],r[n?1:3]=u[x>>>24]<<24^u[c>>>16&255]<<16^u[l>>>8&255]<<8^u[y&255]^t[++A]}function Io(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Oe.cipher.createDecipher(r,t.key):n=Oe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var o=null;a instanceof Oe.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,i.call(n,a)},n}});var R1=I((aP,M1)=>{var $e=Be();gu();xu();Qe();M1.exports=$e.des=$e.des||{};$e.des.startEncrypting=function(t,e,r,n){var i=To({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};$e.des.createEncryptionCipher=function(t,e){return To({key:t,output:null,decrypt:!1,mode:e})};$e.des.startDecrypting=function(t,e,r,n){var i=To({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};$e.des.createDecryptionCipher=function(t,e){return To({key:t,output:null,decrypt:!0,mode:e})};$e.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return P1(r._keys,n,i,!1)},decrypt:function(n,i){return P1(r._keys,n,i,!0)}}}),r._init=!1};$e.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=$e.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=aw(e),this._init=!0}};Ur("DES-ECB",$e.cipher.modes.ecb);Ur("DES-CBC",$e.cipher.modes.cbc);Ur("DES-CFB",$e.cipher.modes.cfb);Ur("DES-OFB",$e.cipher.modes.ofb);Ur("DES-CTR",$e.cipher.modes.ctr);Ur("3DES-ECB",$e.cipher.modes.ecb);Ur("3DES-CBC",$e.cipher.modes.cbc);Ur("3DES-CFB",$e.cipher.modes.cfb);Ur("3DES-OFB",$e.cipher.modes.ofb);Ur("3DES-CTR",$e.cipher.modes.ctr);function Ur(t,e){var r=function(){return new $e.des.Algorithm(t,e)};$e.cipher.registerAlgorithm(t,r)}var Zx=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Xx=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],ew=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],tw=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],rw=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],nw=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],iw=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],sw=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function aw(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],b=t.length()>8?3:1,_=[],A=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],M=0,q,z=0;z<b;z++){var O=t.getInt32(),U=t.getInt32();q=(O>>>4^U)&252645135,U^=q,O^=q<<4,q=(U>>>-16^O)&65535,O^=q,U^=q<<-16,q=(O>>>2^U)&858993459,U^=q,O^=q<<2,q=(U>>>-16^O)&65535,O^=q,U^=q<<-16,q=(O>>>1^U)&1431655765,U^=q,O^=q<<1,q=(U>>>8^O)&16711935,O^=q,U^=q<<8,q=(O>>>1^U)&1431655765,U^=q,O^=q<<1,q=O<<8|U>>>20&240,O=U<<24|U<<8&16711680|U>>>8&65280|U>>>24&240,U=q;for(var G=0;G<A.length;++G){A[G]?(O=O<<2|O>>>26,U=U<<2|U>>>26):(O=O<<1|O>>>27,U=U<<1|U>>>27),O&=-15,U&=-15;var H=e[O>>>28]|r[O>>>24&15]|n[O>>>20&15]|i[O>>>16&15]|s[O>>>12&15]|a[O>>>8&15]|o[O>>>4&15],X=f[U>>>28]|u[U>>>24&15]|c[U>>>20&15]|l[U>>>16&15]|y[U>>>12&15]|x[U>>>8&15]|v[U>>>4&15];q=(X>>>16^H)&65535,_[M++]=H^q,_[M++]=X^q<<16}}return _}function P1(t,e,r,n){var i=t.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=e[0],f=e[1];a=(o>>>4^f)&252645135,f^=a,o^=a<<4,a=(o>>>16^f)&65535,f^=a,o^=a<<16,a=(f>>>2^o)&858993459,o^=a,f^=a<<2,a=(f>>>8^o)&16711935,o^=a,f^=a<<8,a=(o>>>1^f)&1431655765,f^=a,o^=a<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var u=0;u<i;u+=3){for(var c=s[u+1],l=s[u+2],y=s[u];y!=c;y+=l){var x=f^t[y],v=(f>>>4|f<<28)^t[y+1];a=o,o=f,f=a^(Xx[x>>>24&63]|tw[x>>>16&63]|nw[x>>>8&63]|sw[x&63]|Zx[v>>>24&63]|ew[v>>>16&63]|rw[v>>>8&63]|iw[v&63])}a=o,o=f,f=a}o=o>>>1|o<<31,f=f>>>1|f<<31,a=(o>>>1^f)&1431655765,f^=a,o^=a<<1,a=(f>>>8^o)&16711935,o^=a,f^=a<<8,a=(f>>>2^o)&858993459,o^=a,f^=a<<2,a=(o>>>16^f)&65535,f^=a,o^=a<<16,a=(o>>>4^f)&252645135,f^=a,o^=a<<4,r[0]=o,r[1]=f}function To(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=$e.cipher.createDecipher(r,t.key):n=$e.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(s,a){var o=null;a instanceof $e.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=s,i.call(n,a)},n}});var fi=I((oP,q1)=>{var Po=Be();q1.exports=Po.md=Po.md||{};Po.md.algorithms=Po.md.algorithms||{}});var L1=I((fP,k1)=>{var dn=Be();fi();Qe();var ow=k1.exports=dn.hmac=dn.hmac||{};ow.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in dn.md.algorithms)e=dn.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=dn.util.createBuffer(a);else if(dn.util.isArray(a)){var o=a;a=dn.util.createBuffer();for(var f=0;f<o.length;++f)a.putByte(o[f])}var u=a.length();u>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=dn.util.createBuffer(),n=dn.util.createBuffer(),u=a.length();for(var f=0;f<u;++f){var o=a.at(f);r.putByte(54^o),n.putByte(92^o)}if(u<e.blockLength)for(var o=e.blockLength-u,f=0;f<o;++f)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(s){e.update(s)},i.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(n),e.update(s),e.digest()},i.digest=i.getMac,i}});var ra=I(()=>{});var _u=I((hP,N1)=>{var Ht=Be();L1();fi();Qe();var fw=Ht.pkcs5=Ht.pkcs5||{},pn;Ht.util.isNodejs&&!Ht.options.usePureJavaScript&&(pn=ra());N1.exports=Ht.pbkdf2=fw.pbkdf2=function(t,e,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),Ht.util.isNodejs&&!Ht.options.usePureJavaScript&&pn.pbkdf2&&(i===null||typeof i!="object")&&(pn.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?pn.pbkdf2Sync.length===4?pn.pbkdf2(t,e,r,n,function(q,z){if(q)return s(q);s(null,z.toString("binary"))}):pn.pbkdf2(t,e,r,n,i,function(q,z){if(q)return s(q);s(null,z.toString("binary"))}):pn.pbkdf2Sync.length===4?pn.pbkdf2Sync(t,e,r,n).toString("binary"):pn.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Ht.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Ht.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var o=new Error("Derived key is too long.");if(s)return s(o);throw o}var f=Math.ceil(n/a),u=n-(f-1)*a,c=Ht.hmac.create();c.start(i,t);var l="",y,x,v;if(!s){for(var b=1;b<=f;++b){c.start(null,null),c.update(e),c.update(Ht.util.int32ToBytes(b)),y=v=c.digest().getBytes();for(var _=2;_<=r;++_)c.start(null,null),c.update(v),x=c.digest().getBytes(),y=Ht.util.xorBytes(y,x,a),v=x;l+=b<f?y:y.substr(0,u)}return l}var b=1,_;function A(){if(b>f)return s(null,l);c.start(null,null),c.update(e),c.update(Ht.util.int32ToBytes(b)),y=v=c.digest().getBytes(),_=2,M()}function M(){if(_<=r)return c.start(null,null),c.update(v),x=c.digest().getBytes(),y=Ht.util.xorBytes(y,x,a),v=x,++_,Ht.util.setImmediate(M);l+=b<f?y:y.substr(0,u),++b,A()}A()}});var K1=I((lP,O1)=>{var Mo=Be();Qe();var D1=O1.exports=Mo.pem=Mo.pem||{};D1.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Ro(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=Ro(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=Ro(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=Ro(t.headers[i]);return t.procType&&(r+=`\r
`),r+=Mo.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};D1.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(t),!!s;){var a={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:Mo.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var o=s[2].split(i),f=0;s&&f<o.length;){for(var u=o[f].replace(/\s+$/,""),c=f+1;c<o.length;++c){var l=o[c];if(!/\s/.test(l[0]))break;u+=l,f=c}if(s=u.match(n),s){for(var y={name:s[1],values:[]},x=s[2].split(","),v=0;v<x.length;++v)y.values.push(uw(x[v]));if(a.procType)if(!a.contentDomain&&y.name==="Content-Domain")a.contentDomain=x[0]||"";else if(!a.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:x[0],parameters:x[1]||null}}else a.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:x[0],type:x[1]}}}++f}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Ro(t){for(var e=t.name+": ",r=[],n=function(f,u){return" "+u},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<e.length;++i,++s)if(s>65&&a!==-1){var o=e[a];o===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+o+e.substr(a+1),s=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}function uw(t){return t.replace(/^\s+/,"")}});var j1=I((dP,H1)=>{var zr=Be();fi();Qe();var F1=H1.exports=zr.sha256=zr.sha256||{};zr.md.sha256=zr.md.algorithms.sha256=F1;F1.create=function(){U1||cw();var t=null,e=zr.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=zr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=zr.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),V1(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=zr.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Au.substr(0,n.blockLength-a));for(var o,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};V1(l,r,i);var y=zr.util.createBuffer();return y.putInt32(l.h0),y.putInt32(l.h1),y.putInt32(l.h2),y.putInt32(l.h3),y.putInt32(l.h4),y.putInt32(l.h5),y.putInt32(l.h6),y.putInt32(l.h7),y},n};var Au=null,U1=!1,z1=null;function cw(){Au=String.fromCharCode(128),Au+=zr.util.fillString(String.fromCharCode(0),64),z1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],U1=!0}function V1(t,e,r){for(var n,i,s,a,o,f,u,c,l,y,x,v,b,_,A,M=r.length();M>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=e[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,l=t.h1,y=t.h2,x=t.h3,v=t.h4,b=t.h5,_=t.h6,A=t.h7,u=0;u<64;++u)a=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),o=_^v&(b^_),s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),f=c&l|y&(c^l),n=A+a+o+z1[u]+e[u],i=s+f,A=_,_=b,b=v,v=x+n>>>0,x=y,y=l,l=c,c=n+i>>>0;t.h0=t.h0+c|0,t.h1=t.h1+l|0,t.h2=t.h2+y|0,t.h3=t.h3+x|0,t.h4=t.h4+v|0,t.h5=t.h5+b|0,t.h6=t.h6+_|0,t.h7=t.h7+A|0,M-=64}}});var G1=I((pP,$1)=>{var Vr=Be();Qe();var qo=null;Vr.util.isNodejs&&!Vr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(qo=ra());var hw=$1.exports=Vr.prng=Vr.prng||{};hw.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var l=e.plugin.cipher,y=e.plugin.increment,x=e.plugin.formatKey,v=e.plugin.formatSeed,b=Vr.util.createBuffer();e.key=null,_();function _(A){if(A)return c(A);if(b.length()>=u)return c(null,b.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return Vr.util.nextTick(function(){s(_)});var M=l(e.key,e.seed);e.generated+=M.length,b.putBytes(M),e.key=x(l(e.key,y(e.seed))),e.seed=v(l(e.key,e.seed)),Vr.util.setImmediate(_)}},e.generateSync=function(u){var c=e.plugin.cipher,l=e.plugin.increment,y=e.plugin.formatKey,x=e.plugin.formatSeed;e.key=null;for(var v=Vr.util.createBuffer();v.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&a();var b=c(e.key,e.seed);e.generated+=b.length,v.putBytes(b),e.key=y(c(e.key,l(e.seed))),e.seed=x(c(e.key,e.seed))}return v.getBytes(u)};function s(u){if(e.pools[0].messageLength>=32)return o(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(l,y){if(l)return u(l);e.collect(y),o(),u()})}function a(){if(e.pools[0].messageLength>=32)return o();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,l=0;l<32;++l)e.reseeds%c==0&&(u.update(e.pools[l].digest().getBytes()),e.pools[l].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var y=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(y),e.generated=0}function f(u){var c=null,l=Vr.util.globalScope,y=l.crypto||l.msCrypto;y&&y.getRandomValues&&(c=function(O){return y.getRandomValues(O)});var x=Vr.util.createBuffer();if(c)for(;x.length()<u;){var v=Math.max(1,Math.min(u-x.length(),65536)/4),b=new Uint32Array(Math.floor(v));try{c(b);for(var _=0;_<b.length;++_)x.putInt32(b[_])}catch(O){if(!(typeof QuotaExceededError!="undefined"&&O instanceof QuotaExceededError))throw O}}if(x.length()<u)for(var A,M,q,z=Math.floor(Math.random()*65536);x.length()<u;){M=16807*(z&65535),A=16807*(z>>16),M+=(A&32767)<<16,M+=A>>15,M=(M&2147483647)+(M>>31),z=M&4294967295;for(var _=0;_<3;++_)q=z>>>(_<<3),q^=Math.floor(Math.random()*256),x.putByte(String.fromCharCode(q&255))}return x.getBytes(u)}return qo?(e.seedFile=function(u,c){qo.randomBytes(u,function(l,y){if(l)return c(l);c(null,y.toString())})},e.seedFileSync=function(u){return qo.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,f(u))}catch(l){c(l)}},e.seedFileSync=f),e.collect=function(u){for(var c=u.length,l=0;l<c;++l)e.pools[e.pool].update(u.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var l="",y=0;y<c;y+=8)l+=String.fromCharCode(u>>y&255);e.collect(l)},e.registerWorker=function(u){if(u===self)e.seedFile=function(l,y){function x(v){var b=v.data;b.forge&&b.forge.prng&&(self.removeEventListener("message",x),y(b.forge.prng.err,b.forge.prng.bytes))}self.addEventListener("message",x),self.postMessage({forge:{prng:{needed:l}}})};else{var c=function(l){var y=l.data;y.forge&&y.forge.prng&&e.seedFile(y.forge.prng.needed,function(x,v){u.postMessage({forge:{prng:{err:x,bytes:v}}})})};u.addEventListener("message",c)}},e}});var es=I((yP,Bu)=>{var Pt=Be();Co();j1();G1();Qe();(function(){if(Pt.random&&Pt.random.getBytes){Bu.exports=Pt.random;return}(function(t){var e={},r=new Array(4),n=Pt.util.createBuffer();e.formatKey=function(l){var y=Pt.util.createBuffer(l);return l=new Array(4),l[0]=y.getInt32(),l[1]=y.getInt32(),l[2]=y.getInt32(),l[3]=y.getInt32(),Pt.aes._expandKey(l,!1)},e.formatSeed=function(l){var y=Pt.util.createBuffer(l);return l=new Array(4),l[0]=y.getInt32(),l[1]=y.getInt32(),l[2]=y.getInt32(),l[3]=y.getInt32(),l},e.cipher=function(l,y){return Pt.aes._updateBlock(l,y,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Pt.md.sha256;function i(){var l=Pt.prng.create(e);return l.getBytes=function(y,x){return l.generate(y,x)},l.getBytesSync=function(y){return l.generate(y)},l}var s=i(),a=null,o=Pt.util.globalScope,f=o.crypto||o.msCrypto;if(f&&f.getRandomValues&&(a=function(l){return f.getRandomValues(l)}),Pt.options.usePureJavaScript||!Pt.util.isNodejs&&!a){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch(l){}s.collect(u),u=null}t&&(t().mousemove(function(l){s.collectInt(l.clientX,16),s.collectInt(l.clientY,16)}),t().keypress(function(l){s.collectInt(l.charCode,8)}))}if(!Pt.random)Pt.random=s;else for(var c in s)Pt.random[c]=s[c];Pt.random.createInstance=i,Bu.exports=Pt.random})(typeof jQuery!="undefined"?jQuery:null)})()});var J1=I((bP,Q1)=>{var Qt=Be();Qe();var Iu=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Y1=[1,2,3,5],lw=function(t,e){return t<<e&65535|(t&65535)>>16-e},dw=function(t,e){return(t&65535)>>e|t<<16-e&65535};Q1.exports=Qt.rc2=Qt.rc2||{};Qt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Qt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,s=Math.ceil(i/8),a=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(Iu[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-s,Iu[r.at(128-s)&a]),o=127-s;o>=0;o--)r.setAt(o,Iu[r.at(o+1)^r.at(o+s)]);return r};var W1=function(t,e,r){var n=!1,i=null,s=null,a=null,o,f,u,c,l=[];for(t=Qt.rc2.expandKey(t,e),u=0;u<64;u++)l.push(t.getInt16Le());r?(o=function(v){for(u=0;u<4;u++)v[u]+=l[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=lw(v[u],Y1[u]),c++},f=function(v){for(u=0;u<4;u++)v[u]+=l[v[(u+3)%4]&63]}):(o=function(v){for(u=3;u>=0;u--)v[u]=dw(v[u],Y1[u]),v[u]-=l[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),c--},f=function(v){for(u=3;u>=0;u--)v[u]-=l[v[(u+3)%4]&63]});var y=function(v){var b=[];for(u=0;u<4;u++){var _=i.getInt16Le();a!==null&&(r?_^=a.getInt16Le():a.putInt16Le(_)),b.push(_&65535)}c=r?0:63;for(var A=0;A<v.length;A++)for(var M=0;M<v[A][0];M++)v[A][1](b);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(b[u]):b[u]^=a.getInt16Le()),s.putInt16Le(b[u])},x=null;return x={start:function(v,b){v&&typeof v=="string"&&(v=Qt.util.createBuffer(v)),n=!1,i=Qt.util.createBuffer(),s=b||new Qt.util.createBuffer,a=v,x.output=s},update:function(v){for(n||i.putBuffer(v);i.length()>=8;)y([[5,o],[1,f],[6,o],[1,f],[5,o]])},finish:function(v){var b=!0;if(r)if(v)b=v(8,i,!r);else{var _=i.length()===8?8:8-i.length();i.fillWithByte(_,_)}if(b&&(n=!0,x.update()),!r&&(b=i.length()===0,b))if(v)b=v(8,s,!r);else{var A=s.length(),M=s.at(A-1);M>A?b=!1:s.truncate(M)}return b}},x};Qt.rc2.startEncrypting=function(t,e,r){var n=Qt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createEncryptionCipher=function(t,e){return W1(t,e,!0)};Qt.rc2.startDecrypting=function(t,e,r){var n=Qt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createDecryptionCipher=function(t,e){return W1(t,e,!1)}});var ia=I((vP,sy)=>{var Cu=Be();sy.exports=Cu.jsbn=Cu.jsbn||{};var yn,pw=244837814094590,Z1=(pw&16777215)==15715070;function V(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Cu.jsbn.BigInteger=V;function Ae(){return new V(null)}function yw(t,e,r,n,i,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function bw(t,e,r,n,i,s){for(var a=e&32767,o=e>>15;--s>=0;){var f=this.data[t]&32767,u=this.data[t++]>>15,c=o*f+u*a;f=a*f+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(c>>>15)+o*u+(i>>>30),r.data[n++]=f&1073741823}return i}function X1(t,e,r,n,i,s){for(var a=e&16383,o=e>>14;--s>=0;){var f=this.data[t]&16383,u=this.data[t++]>>14,c=o*f+u*a;f=a*f+((c&16383)<<14)+r.data[n]+i,i=(f>>28)+(c>>14)+o*u,r.data[n++]=f&268435455}return i}typeof navigator=="undefined"?(V.prototype.am=X1,yn=28):Z1&&navigator.appName=="Microsoft Internet Explorer"?(V.prototype.am=bw,yn=30):Z1&&navigator.appName!="Netscape"?(V.prototype.am=yw,yn=26):(V.prototype.am=X1,yn=28);V.prototype.DB=yn;V.prototype.DM=(1<<yn)-1;V.prototype.DV=1<<yn;var Tu=52;V.prototype.FV=Math.pow(2,Tu);V.prototype.F1=Tu-yn;V.prototype.F2=2*yn-Tu;var vw="0123456789abcdefghijklmnopqrstuvwxyz",ko=new Array,ts,ur;ts="0".charCodeAt(0);for(ur=0;ur<=9;++ur)ko[ts++]=ur;ts="a".charCodeAt(0);for(ur=10;ur<36;++ur)ko[ts++]=ur;ts="A".charCodeAt(0);for(ur=10;ur<36;++ur)ko[ts++]=ur;function ey(t){return vw.charAt(t)}function ty(t,e){var r=ko[t.charCodeAt(e)];return r??-1}function gw(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function mw(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function qn(t){var e=Ae();return e.fromInt(t),e}function xw(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var a=r==8?t[n]&255:ty(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&V.ZERO.subTo(this,this)}function ww(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Ew(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,s="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0)for(o<this.DB&&(n=this.data[a]>>o)>0&&(i=!0,s=ey(n));a>=0;)o<e?(n=(this.data[a]&(1<<o)-1)<<e-o,n|=this.data[--a]>>(o+=this.DB-e)):(n=this.data[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),n>0&&(i=!0),i&&(s+=ey(n));return i?s:"0"}function Sw(){var t=Ae();return V.ZERO.subTo(this,t),t}function _w(){return this.s<0?this.negate():this}function Aw(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Lo(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Bw(){return this.t<=0?0:this.DB*(this.t-1)+Lo(this.data[this.t-1]^this.s&this.DM)}function Iw(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Cw(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Tw(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+s+1]=this.data[o]>>n|a,a=(this.data[o]&i)<<r;for(o=s-1;o>=0;--o)e.data[o]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function Pw(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function Mw(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Rw(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&V.ZERO.subTo(e,e)}function qw(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function kw(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ae());var s=Ae(),a=this.s,o=t.s,f=this.DB-Lo(n.data[n.t-1]);f>0?(n.lShiftTo(f,s),i.lShiftTo(f,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,c=s.data[u-1];if(c!=0){var l=c*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),y=this.FV/l,x=(1<<this.F1)/l,v=1<<this.F2,b=r.t,_=b-u,A=e??Ae();for(s.dlShiftTo(_,A),r.compareTo(A)>=0&&(r.data[r.t++]=1,r.subTo(A,r)),V.ONE.dlShiftTo(u,A),A.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--_>=0;){var M=r.data[--b]==c?this.DM:Math.floor(r.data[b]*y+(r.data[b-1]+v)*x);if((r.data[b]+=s.am(0,M,r,_,0,u))<M)for(s.dlShiftTo(_,A),r.subTo(A,r);r.data[b]<--M;)r.subTo(A,r)}e!=null&&(r.drShiftTo(u,e),a!=o&&V.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&V.ZERO.subTo(r,r)}}}function Lw(t){var e=Ae();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(V.ZERO)>0&&t.subTo(e,e),e}function ui(t){this.m=t}function Nw(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Dw(t){return t}function Ow(t){t.divRemTo(this.m,null,t)}function Kw(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Fw(t,e){t.squareTo(e),this.reduce(e)}ui.prototype.convert=Nw;ui.prototype.revert=Dw;ui.prototype.reduce=Ow;ui.prototype.mulTo=Kw;ui.prototype.sqrTo=Fw;function Uw(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function ci(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function zw(t){var e=Ae();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(V.ZERO)>0&&this.m.subTo(e,e),e}function Vw(t){var e=Ae();return t.copyTo(e),this.reduce(e),e}function Hw(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function jw(t,e){t.squareTo(e),this.reduce(e)}function $w(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ci.prototype.convert=zw;ci.prototype.revert=Vw;ci.prototype.reduce=Hw;ci.prototype.mulTo=$w;ci.prototype.sqrTo=jw;function Gw(){return(this.t>0?this.data[0]&1:this.s)==0}function Yw(t,e){if(t>4294967295||t<1)return V.ONE;var r=Ae(),n=Ae(),i=e.convert(this),s=Lo(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}function Ww(t,e){var r;return t<256||e.isEven()?r=new ui(e):r=new ci(e),this.exp(t,r)}V.prototype.copyTo=gw;V.prototype.fromInt=mw;V.prototype.fromString=xw;V.prototype.clamp=ww;V.prototype.dlShiftTo=Iw;V.prototype.drShiftTo=Cw;V.prototype.lShiftTo=Tw;V.prototype.rShiftTo=Pw;V.prototype.subTo=Mw;V.prototype.multiplyTo=Rw;V.prototype.squareTo=qw;V.prototype.divRemTo=kw;V.prototype.invDigit=Uw;V.prototype.isEven=Gw;V.prototype.exp=Yw;V.prototype.toString=Ew;V.prototype.negate=Sw;V.prototype.abs=_w;V.prototype.compareTo=Aw;V.prototype.bitLength=Bw;V.prototype.mod=Lw;V.prototype.modPowInt=Ww;V.ZERO=qn(0);V.ONE=qn(1);function Qw(){var t=Ae();return this.copyTo(t),t}function Jw(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Zw(){return this.t==0?this.s:this.data[0]<<24>>24}function Xw(){return this.t==0?this.s:this.data[0]<<16>>16}function e7(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function t7(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function r7(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=qn(r),i=Ae(),s=Ae(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(t)+a}function n7(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,a=0,o=0;o<t.length;++o){var f=ty(t,o);if(f<0){t.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+f,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&V.ZERO.subTo(this,this)}function i7(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(V.ONE.shiftLeft(t-1),Pu,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(V.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function s7(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function a7(t){return this.compareTo(t)==0}function o7(t){return this.compareTo(t)<0?this:t}function f7(t){return this.compareTo(t)>0?this:t}function u7(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function c7(t,e){return t&e}function h7(t){var e=Ae();return this.bitwiseTo(t,c7,e),e}function Pu(t,e){return t|e}function l7(t){var e=Ae();return this.bitwiseTo(t,Pu,e),e}function ry(t,e){return t^e}function d7(t){var e=Ae();return this.bitwiseTo(t,ry,e),e}function ny(t,e){return t&~e}function p7(t){var e=Ae();return this.bitwiseTo(t,ny,e),e}function y7(){for(var t=Ae(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function b7(t){var e=Ae();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function v7(t){var e=Ae();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function g7(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function m7(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+g7(this.data[t]);return this.s<0?this.t*this.DB:-1}function x7(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function w7(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=x7(this.data[r]^e);return t}function E7(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function S7(t,e){var r=V.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function _7(t){return this.changeBit(t,Pu)}function A7(t){return this.changeBit(t,ny)}function B7(t){return this.changeBit(t,ry)}function I7(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function C7(t){var e=Ae();return this.addTo(t,e),e}function T7(t){var e=Ae();return this.subTo(t,e),e}function P7(t){var e=Ae();return this.multiplyTo(t,e),e}function M7(t){var e=Ae();return this.divRemTo(t,e,null),e}function R7(t){var e=Ae();return this.divRemTo(t,null,e),e}function q7(t){var e=Ae(),r=Ae();return this.divRemTo(t,e,r),new Array(e,r)}function k7(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function L7(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function na(){}function iy(t){return t}function N7(t,e,r){t.multiplyTo(e,r)}function D7(t,e){t.squareTo(e)}na.prototype.convert=iy;na.prototype.revert=iy;na.prototype.mulTo=N7;na.prototype.sqrTo=D7;function O7(t){return this.exp(t,new na)}function K7(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function F7(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function rs(t){this.r2=Ae(),this.q3=Ae(),V.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function U7(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Ae();return t.copyTo(e),this.reduce(e),e}function z7(t){return t}function V7(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function H7(t,e){t.squareTo(e),this.reduce(e)}function j7(t,e,r){t.multiplyTo(e,r),this.reduce(r)}rs.prototype.convert=U7;rs.prototype.revert=z7;rs.prototype.reduce=V7;rs.prototype.mulTo=j7;rs.prototype.sqrTo=H7;function $7(t,e){var r=t.bitLength(),n,i=qn(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ui(e):e.isEven()?s=new rs(e):s=new ci(e);var a=new Array,o=3,f=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var c=Ae();for(s.sqrTo(a[1],c);o<=u;)a[o]=Ae(),s.mulTo(c,a[o-2],a[o]),o+=2}var l=t.t-1,y,x=!0,v=Ae(),b;for(r=Lo(t.data[l])-1;l>=0;){for(r>=f?y=t.data[l]>>r-f&u:(y=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(y|=t.data[l-1]>>this.DB+r-f)),o=n;(y&1)==0;)y>>=1,--o;if((r-=o)<0&&(r+=this.DB,--l),x)a[y].copyTo(i),x=!1;else{for(;o>1;)s.sqrTo(i,v),s.sqrTo(v,i),o-=2;o>0?s.sqrTo(i,v):(b=i,i=v,v=b),s.mulTo(v,a[y],i)}for(;l>=0&&(t.data[l]&1<<r)==0;)s.sqrTo(i,v),b=i,i=v,v=b,--r<0&&(r=this.DB-1,--l)}return s.revert(i)}function G7(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function Y7(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function W7(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return V.ZERO;for(var r=t.clone(),n=this.clone(),i=qn(1),s=qn(0),a=qn(0),o=qn(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),s.subTo(o,s)):(n.subTo(r,n),e&&a.subTo(i,a),o.subTo(s,o))}if(n.compareTo(V.ONE)!=0)return V.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var Er=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Q7=(1<<26)/Er[Er.length-1];function J7(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Er[Er.length-1]){for(e=0;e<Er.length;++e)if(r.data[0]==Er[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Er.length;){for(var n=Er[e],i=e+1;i<Er.length&&n<Q7;)n*=Er[i++];for(n=r.modInt(n);e<i;)if(n%Er[e++]==0)return!1}return r.millerRabin(t)}function Z7(t){var e=this.subtract(V.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=X7(),s,a=0;a<t;++a){do s=new V(this.bitLength(),i);while(s.compareTo(V.ONE)<=0||s.compareTo(e)>=0);var o=s.modPow(n,this);if(o.compareTo(V.ONE)!=0&&o.compareTo(e)!=0){for(var f=1;f++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(V.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function X7(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}V.prototype.chunkSize=e7;V.prototype.toRadix=r7;V.prototype.fromRadix=n7;V.prototype.fromNumber=i7;V.prototype.bitwiseTo=u7;V.prototype.changeBit=S7;V.prototype.addTo=I7;V.prototype.dMultiply=k7;V.prototype.dAddOffset=L7;V.prototype.multiplyLowerTo=K7;V.prototype.multiplyUpperTo=F7;V.prototype.modInt=Y7;V.prototype.millerRabin=Z7;V.prototype.clone=Qw;V.prototype.intValue=Jw;V.prototype.byteValue=Zw;V.prototype.shortValue=Xw;V.prototype.signum=t7;V.prototype.toByteArray=s7;V.prototype.equals=a7;V.prototype.min=o7;V.prototype.max=f7;V.prototype.and=h7;V.prototype.or=l7;V.prototype.xor=d7;V.prototype.andNot=p7;V.prototype.not=y7;V.prototype.shiftLeft=b7;V.prototype.shiftRight=v7;V.prototype.getLowestSetBit=m7;V.prototype.bitCount=w7;V.prototype.testBit=E7;V.prototype.setBit=_7;V.prototype.clearBit=A7;V.prototype.flipBit=B7;V.prototype.add=C7;V.prototype.subtract=T7;V.prototype.multiply=P7;V.prototype.divide=M7;V.prototype.remainder=R7;V.prototype.divideAndRemainder=q7;V.prototype.modPow=$7;V.prototype.modInverse=W7;V.prototype.pow=O7;V.prototype.gcd=G7;V.prototype.isProbablePrime=J7});var cy=I((gP,uy)=>{var Hr=Be();fi();Qe();var ay=uy.exports=Hr.sha1=Hr.sha1||{};Hr.md.sha1=Hr.md.algorithms.sha1=ay;ay.create=function(){oy||e9();var t=null,e=Hr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return e=Hr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Hr.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),fy(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Hr.util.createBuffer();i.putBytes(e.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Mu.substr(0,n.blockLength-a));for(var o,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};fy(l,r,i);var y=Hr.util.createBuffer();return y.putInt32(l.h0),y.putInt32(l.h1),y.putInt32(l.h2),y.putInt32(l.h3),y.putInt32(l.h4),y},n};var Mu=null,oy=!1;function e9(){Mu=String.fromCharCode(128),Mu+=Hr.util.fillString(String.fromCharCode(0),64),oy=!0}function fy(t,e,r){for(var n,i,s,a,o,f,u,c,l=r.length();l>=64;){for(i=t.h0,s=t.h1,a=t.h2,o=t.h3,f=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,u=o^s&(a^o),n=(i<<5|i>>>27)+u+f+1518500249+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=o^s&(a^o),n=(i<<5|i>>>27)+u+f+1518500249+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=s^a^o,n=(i<<5|i>>>27)+u+f+1859775393+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=s^a^o,n=(i<<5|i>>>27)+u+f+1859775393+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=s&a|o&(s^a),n=(i<<5|i>>>27)+u+f+2400959708+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=s^a^o,n=(i<<5|i>>>27)+u+f+3395469782+n,f=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,t.h4=t.h4+f|0,l-=64}}});var dy=I((mP,ly)=>{var jr=Be();Qe();es();cy();var hy=ly.exports=jr.pkcs1=jr.pkcs1||{};hy.encode_rsa_oaep=function(t,e,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=jr.md.sha1.create(),a||(a=s);var o=Math.ceil(t.n.bitLength()/8),f=o-2*s.digestLength-2;if(e.length>f){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=f,u}n||(n=""),s.update(n,"raw");for(var c=s.digest(),l="",y=f-e.length,x=0;x<y;x++)l+="\0";var v=c.getBytes()+l+""+e;if(!i)i=jr.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var b=No(i,o-s.digestLength-1,a),_=jr.util.xorBytes(v,b,v.length),A=No(_,s.digestLength,a),M=jr.util.xorBytes(i,A,i.length);return"\0"+M+_};hy.decode_rsa_oaep=function(t,e,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=e.length,_.expectedLength=a,_}if(i===void 0?i=jr.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),f=e.charAt(0),u=e.substring(1,i.digestLength+1),c=e.substring(1+i.digestLength),l=No(c,i.digestLength,s),y=jr.util.xorBytes(u,l,u.length),x=No(y,a-i.digestLength-1,s),v=jr.util.xorBytes(c,x,c.length),b=v.substring(0,i.digestLength),_=f!=="\0",A=0;A<i.digestLength;++A)_|=o.charAt(A)!==b.charAt(A);for(var M=1,q=i.digestLength,z=i.digestLength;z<v.length;z++){var O=v.charCodeAt(z),U=O&1^1,G=M?65534:0;_|=O&G,M=M&U,q+=M}if(_||v.charCodeAt(q)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(q+1)};function No(t,e,r){r||(r=jr.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}});var py=I((xP,Ru)=>{var kn=Be();Qe();ia();es();(function(){if(kn.prime){Ru.exports=kn.prime;return}var t=Ru.exports=kn.prime=kn.prime||{},e=kn.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,y){return l|y};t.generateProbablePrime=function(l,y,x){typeof y=="function"&&(x=y,y={}),y=y||{};var v=y.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var b=y.prng||kn.random,_={nextBytes:function(A){for(var M=b.getBytesSync(A.length),q=0;q<A.length;++q)A[q]=M.charCodeAt(q)}};if(v.name==="PRIMEINC")return s(l,_,v.options,x);throw new Error("Invalid prime generation algorithm: "+v.name)};function s(l,y,x,v){return"workers"in x?f(l,y,x,v):a(l,y,x,v)}function a(l,y,x,v){var b=u(l,y),_=0,A=c(b.bitLength());"millerRabinTests"in x&&(A=x.millerRabinTests);var M=10;"maxBlockTime"in x&&(M=x.maxBlockTime),o(b,l,y,_,A,M,v)}function o(l,y,x,v,b,_,A){var M=+new Date;do{if(l.bitLength()>y&&(l=u(y,x)),l.isProbablePrime(b))return A(null,l);l.dAddOffset(r[v++%8],0)}while(_<0||+new Date-M<_);kn.util.setImmediate(function(){o(l,y,x,v,b,_,A)})}function f(l,y,x,v){if(typeof Worker=="undefined")return a(l,y,x,v);var b=u(l,y),_=x.workers,A=x.workLoad||100,M=A*30/8,q=x.workerScript||"forge/prime.worker.js";if(_===-1)return kn.util.estimateCores(function(O,U){O&&(U=2),_=U-1,z()});z();function z(){_=Math.max(1,_);for(var O=[],U=0;U<_;++U)O[U]=new Worker(q);for(var G=_,U=0;U<_;++U)O[U].addEventListener("message",X);var H=!1;function X(B){if(!H){--G;var h=B.data;if(h.found){for(var p=0;p<O.length;++p)O[p].terminate();return H=!0,v(null,new e(h.prime,16))}b.bitLength()>l&&(b=u(l,y));var g=b.toString(16);B.target.postMessage({hex:g,workLoad:A}),b.dAddOffset(M,0)}}}}function u(l,y){var x=new e(l,y),v=l-1;return x.testBit(v)||x.bitwiseTo(e.ONE.shiftLeft(v),i,x),x.dAddOffset(31-x.mod(n).byteValue(),0),x}function c(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var Oo=I((wP,wy)=>{var pe=Be();Ji();ia();So();dy();py();es();Qe();typeof Ee=="undefined"&&(Ee=pe.jsbn.BigInteger);var Ee,qu=pe.util.isNodejs?ra():null,k=pe.asn1,cr=pe.util;pe.pki=pe.pki||{};wy.exports=pe.pki.rsa=pe.rsa=pe.rsa||{};var ye=pe.pki,t9=[6,4,2,4,2,4,6,2],r9={name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},n9={name:"RSAPrivateKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},i9={name:"RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},s9=pe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},a9=function(t){var e;if(t.algorithm in ye.oids)e=ye.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=k.oidToDer(e).getBytes(),i=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),s=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);s.value.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,n)),s.value.push(k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,""));var a=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(a),k.toDer(i).getBytes()},yy=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Ee.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Ee.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Ee(pe.util.bytesToHex(pe.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Ee.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var a=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};ye.rsa.encrypt=function(t,e,r){var n=r,i,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=by(t,e,r)):(i=pe.util.createBuffer(),i.putBytes(t));for(var a=new Ee(i.toHex(),16),o=yy(a,e,n),f=o.toString(16),u=pe.util.createBuffer(),c=s-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(pe.util.hexToBytes(f)),u.getBytes()};ye.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=i,s}var a=new Ee(pe.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=yy(a,e,r),f=o.toString(16),u=pe.util.createBuffer(),c=i-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(pe.util.hexToBytes(f)),n!==!1?Do(u.getBytes(),e,r):u.getBytes()};ye.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||pe.random,i={nextBytes:function(o){for(var f=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=f.charCodeAt(u)}},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:i,eInt:e||65537,e:new Ee(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};ye.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Ee(null);r.fromInt(30);for(var n=0,i=function(l,y){return l|y},s=+new Date,a,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,u=f-1;t.pqState===0?(t.num=new Ee(f,t.rng),t.num.testBit(u)||t.num.bitwiseTo(Ee.ONE.shiftLeft(u),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(f9(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(t9[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Ee.ONE),t.q1=t.q.subtract(Ee.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Ee.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:ye.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:ye.rsa.setPublicKey(t.n,t.e)}}a=+new Date,o+=a-s,s=a}return t.keys!==null};ye.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!pe.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(vy("generateKeyPair"))return qu.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,f,u){if(o)return n(o);n(null,{privateKey:ye.privateKeyFromPem(u),publicKey:ye.publicKeyFromPem(f)})});if(gy("generateKey")&&gy("exportKey"))return cr.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:xy(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return cr.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var f=ye.privateKeyFromAsn1(k.fromDer(pe.util.createBuffer(o)));n(null,{privateKey:f,publicKey:ye.setRsaPublicKey(f.n,f.e)})}});if(my("generateKey")&&my("exportKey")){var i=cr.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:xy(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var f=o.target.result,u=cr.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);u.oncomplete=function(c){var l=c.target.result,y=ye.privateKeyFromAsn1(k.fromDer(pe.util.createBuffer(l)));n(null,{privateKey:y,publicKey:ye.setRsaPublicKey(y.n,y.e)})},u.onerror=function(c){n(c)}},i.onerror=function(o){n(o)};return}}else if(vy("generateKeyPairSync")){var s=qu.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ye.privateKeyFromPem(s.privateKey),publicKey:ye.publicKeyFromPem(s.publicKey)}}}var a=ye.rsa.createKeyPairGenerationState(t,e,r);if(!n)return ye.rsa.stepKeyPairGenerationState(a,0),a.keys;o9(a,r,n)};ye.setRsaPublicKey=ye.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,f,u){return by(o,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,f){return pe.pkcs1.encode_rsa_oaep(f,o,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return ye.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(o,f){f=Do(f,r,!0);var u=k.fromDer(f);return o===u.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(o,f){return f=Do(f,r,!0),o===f}});var a=ye.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};ye.setRsaPrivateKey=ye.rsa.setPrivateKey=function(t,e,r,n,i,s,a,o){var f={n:t,e,d:r,p:n,q:i,dP:s,dQ:a,qInv:o};return f.decrypt=function(u,c,l){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var y=ye.rsa.decrypt(u,f,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:Do};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(x,v){return pe.pkcs1.decode_rsa_oaep(v,x,l)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(x){return x}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(y,f,!1)},f.sign=function(u,c){var l=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:a9},l=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},l=1);var y=c.encode(u,f.n.bitLength());return ye.rsa.encrypt(y,f,l)},f};ye.wrapRsaPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ye.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,k.toDer(t).getBytes())])};ye.privateKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,r9,e,r)&&(t=k.fromDer(pe.util.createBuffer(e.privateKey))),e={},r=[],!k.validate(t,n9,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,o,f,u,c,l;return i=pe.util.createBuffer(e.privateKeyModulus).toHex(),s=pe.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=pe.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=pe.util.createBuffer(e.privateKeyPrime1).toHex(),f=pe.util.createBuffer(e.privateKeyPrime2).toHex(),u=pe.util.createBuffer(e.privateKeyExponent1).toHex(),c=pe.util.createBuffer(e.privateKeyExponent2).toHex(),l=pe.util.createBuffer(e.privateKeyCoefficient).toHex(),ye.setRsaPrivateKey(new Ee(i,16),new Ee(s,16),new Ee(a,16),new Ee(o,16),new Ee(f,16),new Ee(u,16),new Ee(c,16),new Ee(l,16))};ye.privateKeyToAsn1=ye.privateKeyToRSAPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.e)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.d)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.p)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.q)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.dP)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.dQ)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.qInv))])};ye.publicKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,s9,e,r)){var n=k.derToOid(e.publicKeyOid);if(n!==ye.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!k.validate(t,i9,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=pe.util.createBuffer(e.publicKeyModulus).toHex(),a=pe.util.createBuffer(e.publicKeyExponent).toHex();return ye.setRsaPublicKey(new Ee(s,16),new Ee(a,16))};ye.publicKeyToAsn1=ye.publicKeyToSubjectPublicKeyInfo=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ye.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,[ye.publicKeyToRSAPublicKey(t)])])};ye.publicKeyToRSAPublicKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,$r(t.e))])};function by(t,e,r){var n=pe.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var f=0;f<a;++f)n.putByte(o)}else for(;a>0;){for(var u=0,c=pe.random.getBytes(a),f=0;f<a;++f)o=c.charCodeAt(f),o===0?++u:n.putByte(o);a=u}return n.putByte(0),n.putBytes(t),n}function Do(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=pe.util.createBuffer(t),a=s.getByte(),o=s.getByte();if(a!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var f=0;if(o===0){f=i-3-n;for(var u=0;u<f;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(f=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++f}else if(o===2)for(f=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++f}var c=s.getByte();if(c!==0||f!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function o9(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){s(t.pBits,function(o,f){if(o)return r(o);if(t.p=f,t.q!==null)return a(o,t.q);s(t.qBits,a)})}function s(o,f){pe.prime.generateProbablePrime(o,n,f)}function a(o,f){if(o)return r(o);if(t.q=f,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)!==0){t.p=null,i();return}if(t.q.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract(Ee.ONE),t.q1=t.q.subtract(Ee.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Ee.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:ye.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:ye.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function $r(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=pe.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function f9(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function vy(t){return pe.util.isNodejs&&typeof qu[t]=="function"}function gy(t){return typeof cr.globalScope!="undefined"&&typeof cr.globalScope.crypto=="object"&&typeof cr.globalScope.crypto.subtle=="object"&&typeof cr.globalScope.crypto.subtle[t]=="function"}function my(t){return typeof cr.globalScope!="undefined"&&typeof cr.globalScope.msCrypto=="object"&&typeof cr.globalScope.msCrypto.subtle=="object"&&typeof cr.globalScope.msCrypto.subtle[t]=="function"}function xy(t){for(var e=pe.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var Iy=I((EP,By)=>{var J=Be();Co();Ji();R1();fi();So();_u();K1();es();J1();Oo();Qe();typeof Ey=="undefined"&&(Ey=J.jsbn.BigInteger);var Ey,F=J.asn1,ve=J.pki=J.pki||{};By.exports=ve.pbe=J.pbe=J.pbe||{};var hi=ve.oids,u9={name:"EncryptedPrivateKeyInfo",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:F.Class.UNIVERSAL,type:F.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c9={name:"PBES2Algorithms",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:F.Class.UNIVERSAL,type:F.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:F.Class.UNIVERSAL,type:F.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h9={name:"pkcs-12PbeParams",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:F.Class.UNIVERSAL,type:F.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"iterations"}]};ve.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=J.random.getBytesSync(r.saltSize),i=r.count,s=F.integerToDer(i),a,o,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,l;switch(r.algorithm){case"aes128":a=16,u=16,c=hi["aes128-CBC"],l=J.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,c=hi["aes192-CBC"],l=J.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,c=hi["aes256-CBC"],l=J.aes.createEncryptionCipher;break;case"des":a=8,u=8,c=hi.desCBC,l=J.des.createEncryptionCipher;break;default:var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=r.algorithm,y}var x="hmacWith"+r.prfAlgorithm.toUpperCase(),v=Ay(x),b=J.pkcs5.pbkdf2(e,n,i,a,v),_=J.random.getBytesSync(u),A=l(b);A.start(_),A.update(F.toDer(t)),A.finish(),f=A.output.getBytes();var M=l9(n,s,a,x);o=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(hi.pkcs5PBES2).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(hi.pkcs5PBKDF2).getBytes()),M]),F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(c).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){a=24;var q=new J.util.ByteBuffer(n),b=ve.pbe.generatePkcs12Key(e,q,1,i,a),_=ve.pbe.generatePkcs12Key(e,q,2,i,a),A=J.des.createEncryptionCipher(b);A.start(_),A.update(F.toDer(t)),A.finish(),f=A.output.getBytes(),o=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(hi["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,n),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,s.getBytes())])])}else{var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=r.algorithm,y}var z=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[o,F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,f)]);return z};ve.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!F.validate(t,u9,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=F.derToOid(n.encryptionOid),o=ve.pbe.getCipher(a,n.encryptionParams,e),f=J.util.createBuffer(n.encryptedData);return o.update(f),o.finish()&&(r=F.fromDer(o.output)),r};ve.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:F.toDer(t).getBytes()};return J.pem.encode(r,{maxline:e})};ve.encryptedPrivateKeyFromPem=function(t){var e=J.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return F.fromDer(e.body)};ve.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=ve.wrapRsaPrivateKey(ve.privateKeyToAsn1(t));return n=ve.encryptPrivateKeyInfo(n,e,r),ve.encryptedPrivateKeyToPem(n)}var i,s,a,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var u=J.pbe.opensslDeriveBytes(e,s.substr(0,8),a),c=o(u);c.start(s),c.update(F.toDer(ve.privateKeyToAsn1(t))),c.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:J.util.bytesToHex(s).toUpperCase()},body:c.output.getBytes()};return J.pem.encode(l)};ve.decryptRsaPrivateKey=function(t,e){var r=null,n=J.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=J.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=J.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=J.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=J.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=J.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=function(l){return J.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":s=8,a=function(l){return J.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":s=16,a=function(l){return J.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=J.util.hexToBytes(n.dekInfo.parameters),f=J.pbe.opensslDeriveBytes(e,o.substr(0,8),s),u=a(f);if(u.start(o),u.update(J.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ve.decryptPrivateKeyInfo(F.fromDer(r),e):r=F.fromDer(r),r!==null&&(r=ve.privateKeyFromAsn1(r)),r};ve.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var a,o;if(typeof s=="undefined"||s===null){if(!("sha1"in J.md))throw new Error('"sha1" hash algorithm unavailable.');s=J.md.sha1.create()}var f=s.digestLength,u=s.blockLength,c=new J.util.ByteBuffer,l=new J.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)l.putInt16(t.charCodeAt(o));l.putInt16(0)}var y=l.length(),x=e.length(),v=new J.util.ByteBuffer;v.fillWithByte(r,u);var b=u*Math.ceil(x/u),_=new J.util.ByteBuffer;for(o=0;o<b;o++)_.putByte(e.at(o%x));var A=u*Math.ceil(y/u),M=new J.util.ByteBuffer;for(o=0;o<A;o++)M.putByte(l.at(o%y));var q=_;q.putBuffer(M);for(var z=Math.ceil(i/f),O=1;O<=z;O++){var U=new J.util.ByteBuffer;U.putBytes(v.bytes()),U.putBytes(q.bytes());for(var G=0;G<n;G++)s.start(),s.update(U.getBytes()),U=s.digest();var H=new J.util.ByteBuffer;for(o=0;o<u;o++)H.putByte(U.at(o%f));var X=Math.ceil(x/u)+Math.ceil(y/u),B=new J.util.ByteBuffer;for(a=0;a<X;a++){var h=new J.util.ByteBuffer(q.getBytes(u)),p=511;for(o=H.length()-1;o>=0;o--)p=p>>8,p+=H.at(o)+h.at(o),h.setAt(o,p&255);B.putBuffer(h)}q=B,c.putBuffer(U)}return c.truncate(c.length()-i),c};ve.pbe.getCipher=function(t,e,r){switch(t){case ve.oids.pkcs5PBES2:return ve.pbe.getCipherForPBES2(t,e,r);case ve.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ve.oids["pbewithSHAAnd40BitRC2-CBC"]:return ve.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ve.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!F.validate(e,c9,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(t=F.derToOid(n.kdfOid),t!==ve.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=F.derToOid(n.encOid),t!==ve.oids["aes128-CBC"]&&t!==ve.oids["aes192-CBC"]&&t!==ve.oids["aes256-CBC"]&&t!==ve.oids["des-EDE3-CBC"]&&t!==ve.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,o=J.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var f,u;switch(ve.oids[t]){case"aes128-CBC":f=16,u=J.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,u=J.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,u=J.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,u=J.des.createDecryptionCipher;break;case"desCBC":f=8,u=J.des.createDecryptionCipher;break}var c=_y(n.prfOid),l=J.pkcs5.pbkdf2(r,a,o,f,c),y=n.encIv,x=u(l);return x.start(y),x};ve.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!F.validate(e,h9,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=J.util.createBuffer(n.salt),o=J.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var f,u,c;switch(t){case ve.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,u=8,c=J.des.startDecrypting;break;case ve.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,u=8,c=function(b,_){var A=J.rc2.createDecryptionCipher(b,40);return A.start(_,null),A};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var l=_y(n.prfOid),y=ve.pbe.generatePkcs12Key(r,a,1,o,f,l);l.start();var x=ve.pbe.generatePkcs12Key(r,a,2,o,u,l);return c(y,x)};ve.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in J.md))throw new Error('"md5" hash algorithm unavailable.');n=J.md.md5.create()}e===null&&(e="");for(var i=[Sy(n,t+e)],s=16,a=1;s<r;++a,s+=16)i.push(Sy(n,i[a-1]+t+e));return i.join("").substr(0,r)};function Sy(t,e){return t.start().update(e).digest().getBytes()}function _y(t){var e;if(!t)e="hmacWithSHA1";else if(e=ve.oids[F.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Ay(e)}function Ay(t){var e=J.md;switch(t){case"hmacWithSHA224":e=J.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function l9(t,e,r,n){var i=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,t),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,J.util.hexToBytes(r.toString(16))),F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(ve.oids[n]).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.NULL,!1,"")])),i}});var Lu=I((SP,My)=>{"use strict";var{bases:Cy}=(ri(),Fi);function Ty(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Py=Ty("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),ku=Ty("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),d9={utf8:Py,"utf-8":Py,hex:Cy.base16,latin1:ku,ascii:ku,binary:ku,...Cy};My.exports=d9});var Ln=I((_P,Ry)=>{"use strict";var p9=Lu();function y9(t,e="utf8"){let r=p9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}Ry.exports=y9});var sa=I((AP,qy)=>{"use strict";function b9(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}qy.exports=b9});var aa=I(ky=>{"use strict";ky.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var Nu=I((IP,Ny)=>{"use strict";var v9=sa(),Ly=Ln(),g9=aa();function m9({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:s=32767}={}){let a=g9.get();r*=8;async function o(u,c){let l=a.getRandomValues(new Uint8Array(i)),y=a.getRandomValues(new Uint8Array(e)),x={name:t,iv:y},v={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},b=await a.subtle.importKey("raw",Ly(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),_=await a.subtle.deriveKey(v,b,{name:t,length:r},!0,["encrypt"]),A=await a.subtle.encrypt(x,_,u);return v9([l,x.iv,new Uint8Array(A)])}async function f(u,c){let l=u.slice(0,i),y=u.slice(i,i+e),x=u.slice(i+e),v={name:t,iv:y},b={name:"PBKDF2",salt:l,iterations:s,hash:{name:n}},_=await a.subtle.importKey("raw",Ly(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),A=await a.subtle.deriveKey(b,_,{name:t,length:r},!0,["decrypt"]),M=await a.subtle.decrypt(v,A,x);return new Uint8Array(M)}return{encrypt:o,decrypt:f}}Ny.exports={create:m9}});var Oy=I((CP,Dy)=>{"use strict";var{base64:x9}=(Fs(),qi),w9=Nu();Dy.exports={import:async function(t,e){let r=x9.decode(t);return await w9.create().decrypt(r,e)}}});var oa=I((TP,Ky)=>{"use strict";function E9(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Ky.exports=E9});var Nn=I((PP,Fy)=>{"use strict";var S9=Lu();function _9(t,e="utf8"){let r=S9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}Fy.exports=_9});var Ku=I((MP,Hy)=>{var ze=Be();fi();Qe();var fa=Hy.exports=ze.sha512=ze.sha512||{};ze.md.sha512=ze.md.algorithms.sha512=fa;var Uy=ze.sha384=ze.sha512.sha384=ze.sha512.sha384||{};Uy.create=function(){return fa.create("SHA-384")};ze.md.sha384=ze.md.algorithms.sha384=Uy;ze.sha512.sha256=ze.sha512.sha256||{create:function(){return fa.create("SHA-512/256")}};ze.md["sha512/256"]=ze.md.algorithms["sha512/256"]=ze.sha512.sha256;ze.sha512.sha224=ze.sha512.sha224||{create:function(){return fa.create("SHA-512/224")}};ze.md["sha512/224"]=ze.md.algorithms["sha512/224"]=ze.sha512.sha224;fa.create=function(t){if(zy||A9(),typeof t=="undefined"&&(t="SHA-512"),!(t in li))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=li[t],r=null,n=ze.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var f=o.messageLengthSize/4,u=0;u<f;++u)o.fullMessageLength.push(0);n=ze.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return o},o.start(),o.update=function(f,u){u==="utf8"&&(f=ze.util.encodeUtf8(f));var c=f.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=c[1],c[1]=c[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(f),Vy(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var f=ze.util.createBuffer();f.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;f.putBytes(Du.substr(0,o.blockLength-c));for(var l,y,x=o.fullMessageLength[0]*8,v=0;v<o.fullMessageLength.length-1;++v)l=o.fullMessageLength[v+1]*8,y=l/4294967296>>>0,x+=y,f.putInt32(x>>>0),x=l>>>0;f.putInt32(x);for(var b=new Array(r.length),v=0;v<r.length;++v)b[v]=r[v].slice(0);Vy(b,i,f);var _=ze.util.createBuffer(),A;t==="SHA-512"?A=b.length:t==="SHA-384"?A=b.length-2:A=b.length-4;for(var v=0;v<A;++v)_.putInt32(b[v][0]),(v!==A-1||t!=="SHA-512/224")&&_.putInt32(b[v][1]);return _},o};var Du=null,zy=!1,Ou=null,li=null;function A9(){Du=String.fromCharCode(128),Du+=ze.util.fillString(String.fromCharCode(0),128),Ou=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],li={},li["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],li["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],li["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],li["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],zy=!0}function Vy(t,e,r){for(var n,i,s,a,o,f,u,c,l,y,x,v,b,_,A,M,q,z,O,U,G,H,X,B,h,p,g,m,w,T,C,E,d,S,$,Y=r.length();Y>=128;){for(w=0;w<16;++w)e[w][0]=r.getInt32()>>>0,e[w][1]=r.getInt32()>>>0;for(;w<80;++w)E=e[w-2],T=E[0],C=E[1],n=((T>>>19|C<<13)^(C>>>29|T<<3)^T>>>6)>>>0,i=((T<<13|C>>>19)^(C<<3|T>>>29)^(T<<26|C>>>6))>>>0,S=e[w-15],T=S[0],C=S[1],s=((T>>>1|C<<31)^(T>>>8|C<<24)^T>>>7)>>>0,a=((T<<31|C>>>1)^(T<<24|C>>>8)^(T<<25|C>>>7))>>>0,d=e[w-7],$=e[w-16],C=i+d[1]+a+$[1],e[w][0]=n+d[0]+s+$[0]+(C/4294967296>>>0)>>>0,e[w][1]=C>>>0;for(b=t[0][0],_=t[0][1],A=t[1][0],M=t[1][1],q=t[2][0],z=t[2][1],O=t[3][0],U=t[3][1],G=t[4][0],H=t[4][1],X=t[5][0],B=t[5][1],h=t[6][0],p=t[6][1],g=t[7][0],m=t[7][1],w=0;w<80;++w)u=((G>>>14|H<<18)^(G>>>18|H<<14)^(H>>>9|G<<23))>>>0,c=((G<<18|H>>>14)^(G<<14|H>>>18)^(H<<23|G>>>9))>>>0,l=(h^G&(X^h))>>>0,y=(p^H&(B^p))>>>0,o=((b>>>28|_<<4)^(_>>>2|b<<30)^(_>>>7|b<<25))>>>0,f=((b<<4|_>>>28)^(_<<30|b>>>2)^(_<<25|b>>>7))>>>0,x=(b&A|q&(b^A))>>>0,v=(_&M|z&(_^M))>>>0,C=m+c+y+Ou[w][1]+e[w][1],n=g+u+l+Ou[w][0]+e[w][0]+(C/4294967296>>>0)>>>0,i=C>>>0,C=f+v,s=o+x+(C/4294967296>>>0)>>>0,a=C>>>0,g=h,m=p,h=X,p=B,X=G,B=H,C=U+i,G=O+n+(C/4294967296>>>0)>>>0,H=C>>>0,O=q,U=z,q=A,z=M,A=b,M=_,C=i+a,b=n+s+(C/4294967296>>>0)>>>0,_=C>>>0;C=t[0][1]+_,t[0][0]=t[0][0]+b+(C/4294967296>>>0)>>>0,t[0][1]=C>>>0,C=t[1][1]+M,t[1][0]=t[1][0]+A+(C/4294967296>>>0)>>>0,t[1][1]=C>>>0,C=t[2][1]+z,t[2][0]=t[2][0]+q+(C/4294967296>>>0)>>>0,t[2][1]=C>>>0,C=t[3][1]+U,t[3][0]=t[3][0]+O+(C/4294967296>>>0)>>>0,t[3][1]=C>>>0,C=t[4][1]+H,t[4][0]=t[4][0]+G+(C/4294967296>>>0)>>>0,t[4][1]=C>>>0,C=t[5][1]+B,t[5][0]=t[5][0]+X+(C/4294967296>>>0)>>>0,t[5][1]=C>>>0,C=t[6][1]+p,t[6][0]=t[6][0]+h+(C/4294967296>>>0)>>>0,t[6][1]=C>>>0,C=t[7][1]+m,t[7][0]=t[7][0]+g+(C/4294967296>>>0)>>>0,t[7][1]=C>>>0,Y-=128}}});var jy=I(Fu=>{var B9=Be();Ji();var Mt=B9.asn1;Fu.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Fu.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Mt.Class.UNIVERSAL,type:Mt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Wu=I((qP,n2)=>{var Lt=Be();ia();es();Ku();Qe();var $y=jy(),I9=$y.publicKeyValidator,C9=$y.privateKeyValidator;typeof Gy=="undefined"&&(Gy=Lt.jsbn.BigInteger);var Gy,Uu=Lt.util.ByteBuffer,Jt=typeof Buffer=="undefined"?Uint8Array:Buffer;Lt.pki=Lt.pki||{};n2.exports=Lt.pki.ed25519=Lt.ed25519=Lt.ed25519||{};var xe=Lt.ed25519;xe.constants={};xe.constants.PUBLIC_KEY_BYTE_LENGTH=32;xe.constants.PRIVATE_KEY_BYTE_LENGTH=64;xe.constants.SEED_BYTE_LENGTH=32;xe.constants.SIGN_BYTE_LENGTH=64;xe.constants.HASH_BYTE_LENGTH=64;xe.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Lt.random.getBytesSync(xe.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==xe.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+xe.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=bn({message:e,encoding:"binary"});for(var r=new Jt(xe.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Jt(xe.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return R9(r,n),{publicKey:r,privateKey:n}};xe.privateKeyFromAsn1=function(t){var e={},r=[],n=Lt.asn1.validate(t,C9,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Lt.asn1.derToOid(e.privateKeyOid),a=Lt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.privateKey,f=bn({message:Lt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:f}};xe.publicKeyFromAsn1=function(t){var e={},r=[],n=Lt.asn1.validate(t,I9,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Lt.asn1.derToOid(e.publicKeyOid),a=Lt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var o=e.ed25519PublicKey;if(o.length!==xe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return bn({message:o,encoding:"binary"})};xe.publicKeyFromPrivateKey=function(t){t=t||{};var e=bn({message:t.privateKey,encoding:"binary"});if(e.length!==xe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xe.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Jt(xe.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};xe.sign=function(t){t=t||{};var e=bn(t),r=bn({message:t.privateKey,encoding:"binary"});if(r.length===xe.constants.SEED_BYTE_LENGTH){var n=xe.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==xe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xe.constants.SEED_BYTE_LENGTH+" or "+xe.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length);q9(i,e,e.length,r);for(var s=new Jt(xe.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};xe.verify=function(t){t=t||{};var e=bn(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=bn({message:t.signature,encoding:"binary"});if(r.length!==xe.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+xe.constants.SIGN_BYTE_LENGTH);var n=bn({message:t.publicKey,encoding:"binary"});if(n.length!==xe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+xe.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length),s=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<xe.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<e.length;++a)i[a+xe.constants.SIGN_BYTE_LENGTH]=e[a];return k9(s,i,i.length,n)>=0};function bn(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Jt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new Uu(e,r)}else if(!(e instanceof Uu))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Jt(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}var zu=ae(),Ko=ae([1]),T9=ae([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),P9=ae([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Yy=ae([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Wy=ae([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Vu=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),M9=ae([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ua(t,e){var r=Lt.md.sha512.create(),n=new Uu(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(i,"binary");for(var s=new Jt(xe.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}function R9(t,e){var r=[ae(),ae(),ae(),ae()],n,i=ua(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Gu(r,i),$u(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function q9(t,e,r,n){var i,s,a=new Float64Array(64),o=[ae(),ae(),ae(),ae()],f=ua(n,32);f[0]&=248,f[31]&=127,f[31]|=64;var u=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=f[32+i];var c=ua(t.subarray(32),r+32);for(Hu(c),Gu(o,c),$u(t,o),i=32;i<64;++i)t[i]=n[i];var l=ua(t,r+64);for(Hu(l),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=c[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=l[i]*f[s];return Qy(t.subarray(32),a),u}function k9(t,e,r,n){var i,s,a=new Jt(32),o=[ae(),ae(),ae(),ae()],f=[ae(),ae(),ae(),ae()];if(s=-1,r<64||L9(f,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var u=ua(t,r);if(Hu(u),t2(o,f,u),Gu(f,e.subarray(32)),ju(o,f),$u(a,o),r-=64,Xy(e,0,a,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return s=r,s}function Qy(t,e){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*Vu[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*Vu[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*Vu[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function Hu(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;Qy(t,e)}function ju(t,e){var r=ae(),n=ae(),i=ae(),s=ae(),a=ae(),o=ae(),f=ae(),u=ae(),c=ae();is(r,t[1],t[0]),is(c,e[1],e[0]),Le(r,r,c),ns(n,t[0],t[1]),ns(c,e[0],e[1]),Le(n,n,c),Le(i,t[3],e[3]),Le(i,i,P9),Le(s,t[2],e[2]),ns(s,s,s),is(a,n,r),is(o,s,i),ns(f,s,i),ns(u,n,r),Le(t[0],a,o),Le(t[1],u,f),Le(t[2],f,o),Le(t[3],a,u)}function Jy(t,e,r){for(var n=0;n<4;++n)r2(t[n],e[n],r)}function $u(t,e){var r=ae(),n=ae(),i=ae();K9(i,e[2]),Le(r,e[0],i),Le(n,e[1],i),Fo(t,n),t[31]^=e2(r)<<7}function Fo(t,e){var r,n,i,s=ae(),a=ae();for(r=0;r<16;++r)a[r]=e[r];for(Yu(a),Yu(a),Yu(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,r2(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}function L9(t,e){var r=ae(),n=ae(),i=ae(),s=ae(),a=ae(),o=ae(),f=ae();return Dn(t[2],Ko),N9(t[1],e),di(i,t[1]),Le(s,i,T9),is(i,i,t[2]),ns(s,t[2],s),di(a,s),di(o,a),Le(f,o,a),Le(r,f,i),Le(r,r,s),D9(r,r),Le(r,r,i),Le(r,r,s),Le(r,r,s),Le(t[0],r,s),di(n,t[0]),Le(n,n,s),Zy(n,i)&&Le(t[0],t[0],M9),di(n,t[0]),Le(n,n,s),Zy(n,i)?-1:(e2(t[0])===e[31]>>7&&is(t[0],zu,t[0]),Le(t[3],t[0],t[1]),0)}function N9(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function D9(t,e){var r=ae(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)di(r,r),n!==1&&Le(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Zy(t,e){var r=new Jt(32),n=new Jt(32);return Fo(r,t),Fo(n,e),Xy(r,0,n,0)}function Xy(t,e,r,n){return O9(t,e,r,n,32)}function O9(t,e,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=t[e+s]^r[n+s];return(1&a-1>>>8)-1}function e2(t){var e=new Jt(32);return Fo(e,t),e[0]&1}function t2(t,e,r){var n,i;for(Dn(t[0],zu),Dn(t[1],Ko),Dn(t[2],Ko),Dn(t[3],zu),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Jy(t,e,n),ju(e,t),ju(t,t),Jy(t,e,n)}function Gu(t,e){var r=[ae(),ae(),ae(),ae()];Dn(r[0],Yy),Dn(r[1],Wy),Dn(r[2],Ko),Le(r[3],Yy,Wy),t2(t,r,e)}function Dn(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function K9(t,e){var r=ae(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)di(r,r),n!==2&&n!==4&&Le(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Yu(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function r2(t,e,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}function ae(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function ns(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function is(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function di(t,e){Le(t,e,e)}function Le(t,e,r){var n,i,s=0,a=0,o=0,f=0,u=0,c=0,l=0,y=0,x=0,v=0,b=0,_=0,A=0,M=0,q=0,z=0,O=0,U=0,G=0,H=0,X=0,B=0,h=0,p=0,g=0,m=0,w=0,T=0,C=0,E=0,d=0,S=r[0],$=r[1],Y=r[2],W=r[3],ee=r[4],oe=r[5],he=r[6],Me=r[7],le=r[8],ce=r[9],Ge=r[10],ge=r[11],R=r[12],N=r[13],L=r[14],D=r[15];n=e[0],s+=n*S,a+=n*$,o+=n*Y,f+=n*W,u+=n*ee,c+=n*oe,l+=n*he,y+=n*Me,x+=n*le,v+=n*ce,b+=n*Ge,_+=n*ge,A+=n*R,M+=n*N,q+=n*L,z+=n*D,n=e[1],a+=n*S,o+=n*$,f+=n*Y,u+=n*W,c+=n*ee,l+=n*oe,y+=n*he,x+=n*Me,v+=n*le,b+=n*ce,_+=n*Ge,A+=n*ge,M+=n*R,q+=n*N,z+=n*L,O+=n*D,n=e[2],o+=n*S,f+=n*$,u+=n*Y,c+=n*W,l+=n*ee,y+=n*oe,x+=n*he,v+=n*Me,b+=n*le,_+=n*ce,A+=n*Ge,M+=n*ge,q+=n*R,z+=n*N,O+=n*L,U+=n*D,n=e[3],f+=n*S,u+=n*$,c+=n*Y,l+=n*W,y+=n*ee,x+=n*oe,v+=n*he,b+=n*Me,_+=n*le,A+=n*ce,M+=n*Ge,q+=n*ge,z+=n*R,O+=n*N,U+=n*L,G+=n*D,n=e[4],u+=n*S,c+=n*$,l+=n*Y,y+=n*W,x+=n*ee,v+=n*oe,b+=n*he,_+=n*Me,A+=n*le,M+=n*ce,q+=n*Ge,z+=n*ge,O+=n*R,U+=n*N,G+=n*L,H+=n*D,n=e[5],c+=n*S,l+=n*$,y+=n*Y,x+=n*W,v+=n*ee,b+=n*oe,_+=n*he,A+=n*Me,M+=n*le,q+=n*ce,z+=n*Ge,O+=n*ge,U+=n*R,G+=n*N,H+=n*L,X+=n*D,n=e[6],l+=n*S,y+=n*$,x+=n*Y,v+=n*W,b+=n*ee,_+=n*oe,A+=n*he,M+=n*Me,q+=n*le,z+=n*ce,O+=n*Ge,U+=n*ge,G+=n*R,H+=n*N,X+=n*L,B+=n*D,n=e[7],y+=n*S,x+=n*$,v+=n*Y,b+=n*W,_+=n*ee,A+=n*oe,M+=n*he,q+=n*Me,z+=n*le,O+=n*ce,U+=n*Ge,G+=n*ge,H+=n*R,X+=n*N,B+=n*L,h+=n*D,n=e[8],x+=n*S,v+=n*$,b+=n*Y,_+=n*W,A+=n*ee,M+=n*oe,q+=n*he,z+=n*Me,O+=n*le,U+=n*ce,G+=n*Ge,H+=n*ge,X+=n*R,B+=n*N,h+=n*L,p+=n*D,n=e[9],v+=n*S,b+=n*$,_+=n*Y,A+=n*W,M+=n*ee,q+=n*oe,z+=n*he,O+=n*Me,U+=n*le,G+=n*ce,H+=n*Ge,X+=n*ge,B+=n*R,h+=n*N,p+=n*L,g+=n*D,n=e[10],b+=n*S,_+=n*$,A+=n*Y,M+=n*W,q+=n*ee,z+=n*oe,O+=n*he,U+=n*Me,G+=n*le,H+=n*ce,X+=n*Ge,B+=n*ge,h+=n*R,p+=n*N,g+=n*L,m+=n*D,n=e[11],_+=n*S,A+=n*$,M+=n*Y,q+=n*W,z+=n*ee,O+=n*oe,U+=n*he,G+=n*Me,H+=n*le,X+=n*ce,B+=n*Ge,h+=n*ge,p+=n*R,g+=n*N,m+=n*L,w+=n*D,n=e[12],A+=n*S,M+=n*$,q+=n*Y,z+=n*W,O+=n*ee,U+=n*oe,G+=n*he,H+=n*Me,X+=n*le,B+=n*ce,h+=n*Ge,p+=n*ge,g+=n*R,m+=n*N,w+=n*L,T+=n*D,n=e[13],M+=n*S,q+=n*$,z+=n*Y,O+=n*W,U+=n*ee,G+=n*oe,H+=n*he,X+=n*Me,B+=n*le,h+=n*ce,p+=n*Ge,g+=n*ge,m+=n*R,w+=n*N,T+=n*L,C+=n*D,n=e[14],q+=n*S,z+=n*$,O+=n*Y,U+=n*W,G+=n*ee,H+=n*oe,X+=n*he,B+=n*Me,h+=n*le,p+=n*ce,g+=n*Ge,m+=n*ge,w+=n*R,T+=n*N,C+=n*L,E+=n*D,n=e[15],z+=n*S,O+=n*$,U+=n*Y,G+=n*W,H+=n*ee,X+=n*oe,B+=n*he,h+=n*Me,p+=n*le,g+=n*ce,m+=n*Ge,w+=n*ge,T+=n*R,C+=n*N,E+=n*L,d+=n*D,s+=38*O,a+=38*U,o+=38*G,f+=38*H,u+=38*X,c+=38*B,l+=38*h,y+=38*p,x+=38*g,v+=38*m,b+=38*w,_+=38*T,A+=38*C,M+=38*E,q+=38*d,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=z+i+65535,i=Math.floor(n/65536),z=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=a,t[2]=o,t[3]=f,t[4]=u,t[5]=c,t[6]=l,t[7]=y,t[8]=x,t[9]=v,t[10]=b,t[11]=_,t[12]=A,t[13]=M,t[14]=q,t[15]=z}});var s2=I((kP,i2)=>{"use strict";var Uo=65536;function F9(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>Uo)for(;r<t;)r+Uo>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+Uo)),r+=Uo);else crypto.getRandomValues(e);return e}i2.exports=F9});var zo=I((LP,a2)=>{"use strict";var U9=s2(),z9=ke();a2.exports=function(t){if(isNaN(t)||t<=0)throw z9(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return U9(t)}});var Vo=I(ca=>{"use strict";Qe();ia();var V9=Be(),H9=Ln(),o2=Nn(),f2=sa();ca.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=f2([new Uint8Array(e-r.length),r])}return o2(r,"base64url")};ca.base64urlToBigInteger=t=>{let e=ca.base64urlToBuffer(t);return new V9.jsbn.BigInteger(o2(e,"base16"),16)};ca.base64urlToBuffer=(t,e)=>{let r=H9(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=f2([new Uint8Array(e-r.length),r])}return r}});var h2=I(ha=>{"use strict";Ji();Oo();var On=Be(),{bigIntegerToUintBase64url:Gr,base64urlToBigInteger:Yr}=Vo(),u2=Ln(),c2=Nn();ha.pkcs1ToJwk=function(t){let e=On.asn1.fromDer(c2(t,"ascii")),r=On.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Gr(r.n),e:Gr(r.e),d:Gr(r.d),p:Gr(r.p),q:Gr(r.q),dp:Gr(r.dP),dq:Gr(r.dQ),qi:Gr(r.qInv),alg:"RS256",kid:"2011-04-29"}};ha.jwkToPkcs1=function(t){let e=On.pki.privateKeyToAsn1({n:Yr(t.n),e:Yr(t.e),d:Yr(t.d),p:Yr(t.p),q:Yr(t.q),dP:Yr(t.dp),dQ:Yr(t.dq),qInv:Yr(t.qi)});return u2(On.asn1.toDer(e).getBytes(),"ascii")};ha.pkixToJwk=function(t){let e=On.asn1.fromDer(c2(t,"ascii")),r=On.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Gr(r.n),e:Gr(r.e),alg:"RS256",kid:"2011-04-29"}};ha.jwkToPkix=function(t){let e=On.pki.publicKeyToAsn1({n:Yr(t.n),e:Yr(t.e)});return u2(On.asn1.toDer(e).getBytes(),"ascii")}});var y2=I((OP,p2)=>{"use strict";Oo();var l2=Be(),{base64urlToBigInteger:j9}=Vo();function d2(t,e){return e.map(r=>j9(t[r]))}function $9(t){return l2.pki.setRsaPrivateKey(...d2(t,["n","e","d","p","q","dp","dq","qi"]))}function G9(t){return l2.pki.setRsaPublicKey(...d2(t,["n","e"]))}p2.exports={jwk2pub:G9,jwk2priv:$9}});var g2=I(gn=>{"use strict";var vn=aa(),Y9=zo(),W9=Nn(),Q9=Ln();gn.utils=h2();gn.generateKey=async function(t){let e=await vn.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await b2(e);return{privateKey:r[0],publicKey:r[1]}};gn.unmarshalPrivateKey=async function(t){let r=[await vn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await J9(t)],n=await b2({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};gn.getRandomValues=Y9;gn.hashAndSign=async function(t,e){let r=await vn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await vn.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,n.byteOffset,n.byteLength)};gn.hashAndVerify=async function(t,e,r){let n=await vn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return vn.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)};function b2(t){return Promise.all([vn.get().subtle.exportKey("jwk",t.privateKey),vn.get().subtle.exportKey("jwk",t.publicKey)])}function J9(t){return vn.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:Z9,jwk2priv:X9}=y2();function v2(t,e,r,n){let i=e?Z9(t):X9(t),s=W9(Uint8Array.from(r),"ascii"),a=n(s,i);return Q9(a,"ascii")}gn.encrypt=function(t,e){return v2(t,!0,e,(r,n)=>n.encrypt(r))};gn.decrypt=function(t,e){return v2(t,!1,e,(r,n)=>n.decrypt(r))}});var Ho=I((FP,m2)=>{"use strict";var{base64:eE}=(Fs(),qi),tE=Nu();m2.exports={export:async function(t,e){let n=await tE.create().encrypt(t,e);return eE.encode(n)}}});var _2=I((UP,S2)=>{"use strict";var{sha256:x2}=(un(),Or),w2=ke(),E2=oa(),rE=Nn();Ku();Wu();var jo=Be(),hr=g2(),$o=xo(),nE=Ho(),Go=class{constructor(e){this._key=e}async verify(e,r){return hr.hashAndVerify(this._key,r,e)}marshal(){return hr.utils.jwkToPkix(this._key)}get bytes(){return $o.PublicKey.encode({Type:$o.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return hr.encrypt(this._key,e)}equals(e){return E2(this.bytes,e.bytes)}async hash(){let{bytes:e}=await x2.digest(this.bytes);return e}},la=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return hr.getRandomValues(16)}async sign(e){return hr.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw w2(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Go(this._publicKey)}decrypt(e){return hr.decrypt(this._key,e)}marshal(){return hr.utils.jwkToPkcs1(this._key)}get bytes(){return $o.PrivateKey.encode({Type:$o.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return E2(this.bytes,e.bytes)}async hash(){let{bytes:e}=await x2.digest(this.bytes);return e}async id(){let e=await this.public.hash();return rE(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new jo.util.ByteBuffer(this.marshal()),i=jo.asn1.fromDer(n),s=jo.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return jo.pki.encryptRsaPrivateKey(s,e,a)}else{if(r==="libp2p-key")return nE.export(this.bytes,e);throw w2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function iE(t){let e=hr.utils.pkcs1ToJwk(t),r=await hr.unmarshalPrivateKey(e);return new la(r.privateKey,r.publicKey)}function sE(t){let e=hr.utils.pkixToJwk(t);return new Go(e)}async function aE(t){let e=await hr.unmarshalPrivateKey(t);return new la(e.privateKey,e.publicKey)}async function oE(t){let e=await hr.generateKey(t);return new la(e.privateKey,e.publicKey)}S2.exports={RsaPublicKey:Go,RsaPrivateKey:la,unmarshalRsaPublicKey:sE,unmarshalRsaPrivateKey:iE,generateKeyPair:oE,fromJwk:aE}});var A2=I(pi=>{"use strict";Wu();var ss=Be();pi.publicKeyLength=ss.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;pi.privateKeyLength=ss.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;pi.generateKey=async function(){return ss.pki.ed25519.generateKeyPair()};pi.generateKeyFromSeed=async function(t){return ss.pki.ed25519.generateKeyPair({seed:t})};pi.hashAndSign=async function(t,e){return ss.pki.ed25519.sign({message:e,privateKey:t})};pi.hashAndVerify=async function(t,e,r){return ss.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var P2=I((VP,T2)=>{"use strict";var B2=ke(),I2=oa(),{sha256:C2}=(un(),Or),{base58btc:fE}=(Dr(),Nr),{identity:uE}=(eo(),Vs),Kt=A2(),Yo=xo(),cE=Ho(),Wo=class{constructor(e){this._key=os(e,Kt.publicKeyLength)}async verify(e,r){return Kt.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Yo.PublicKey.encode({Type:Yo.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return I2(this.bytes,e.bytes)}async hash(){let{bytes:e}=await C2.digest(this.bytes);return e}},as=class{constructor(e,r){this._key=os(e,Kt.privateKeyLength),this._publicKey=os(r,Kt.publicKeyLength)}async sign(e){return Kt.hashAndSign(this._key,e)}get public(){return new Wo(this._publicKey)}marshal(){return this._key}get bytes(){return Yo.PrivateKey.encode({Type:Yo.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return I2(this.bytes,e.bytes)}async hash(){let{bytes:e}=await C2.digest(this.bytes);return e}async id(){let e=await uE.digest(this.public.bytes);return fE.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return cE.export(this.bytes,e);throw B2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function hE(t){if(t.length>Kt.privateKeyLength){t=os(t,Kt.privateKeyLength+Kt.publicKeyLength);let n=t.slice(0,Kt.privateKeyLength),i=t.slice(Kt.privateKeyLength,t.length);return new as(n,i)}t=os(t,Kt.privateKeyLength);let e=t.slice(0,Kt.privateKeyLength),r=t.slice(Kt.publicKeyLength);return new as(e,r)}function lE(t){return t=os(t,Kt.publicKeyLength),new Wo(t)}async function dE(){let{privateKey:t,publicKey:e}=await Kt.generateKey();return new as(t,e)}async function pE(t){let{privateKey:e,publicKey:r}=await Kt.generateKeyFromSeed(t);return new as(e,r)}function os(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw B2(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}T2.exports={Ed25519PublicKey:Wo,Ed25519PrivateKey:as,unmarshalEd25519PrivateKey:hE,unmarshalEd25519PublicKey:lE,generateKeyPair:dE,generateKeyPairFromSeed:pE}});var R2=I((HP,M2)=>{var Ie={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function lr(t,e){if(!t)throw new Error(e)}function Se(t,e,r){if(lr(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;lr(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;lr(e.length===r,n)}}function yi(t){lr(fs(t)==="Boolean","Expected compressed to be a Boolean")}function Sr(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),Se("output",t,e),t}function fs(t){return Object.prototype.toString.call(t).slice(8,-1)}M2.exports=t=>({contextRandomize(e){switch(lr(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Se("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Ie.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Se("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Se("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Ie.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(Se("private key",e,32),Se("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(Se("private key",e,32),Se("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_MUL)}},publicKeyVerify(e){return Se("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(Se("private key",e,32),yi(r),n=Sr(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(Ie.SECKEY_INVALID);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(Se("public key",e,[33,65]),yi(r),n=Sr(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(Se("public key",e,[33,65]),yi(r),n=Sr(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){lr(Array.isArray(e),"Expected public keys to be an Array"),lr(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)Se("public key",i,[33,65]);switch(yi(r),n=Sr(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_COMBINE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(Se("public key",e,[33,65]),Se("tweak",r,32),yi(n),i=Sr(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(Se("public key",e,[33,65]),Se("tweak",r,32),yi(n),i=Sr(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_MUL)}},signatureNormalize(e){switch(Se("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Ie.SIG_PARSE)}},signatureExport(e,r){Se("signature",e,64),r=Sr(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(Se("signature",e),r=Sr(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){Se("message",e,32),Se("private key",r,32),lr(fs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Se("options.data",n.data),n.noncefn!==void 0&&lr(fs(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Sr(i,64);let s={signature:i,recid:null};switch(t.ecdsaSign(s,e,r,n.data,n.noncefn)){case 0:return s;case 1:throw new Error(Ie.SIGN);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(Se("signature",e,64),Se("message",r,32),Se("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,s){switch(Se("signature",e,64),lr(fs(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Se("message",n,32),yi(i),s=Sr(s,i?33:65),t.ecdsaRecover(s,e,r,n)){case 0:return s;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.RECOVER);case 3:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(Se("public key",e,[33,65]),Se("private key",r,32),lr(fs(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Se("options.data",n.data),n.hashfn!==void 0?(lr(fs(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Se("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Se("options.ybuf",n.ybuf,32),Se("output",i)):i=Sr(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.ECDH)}}})});var q2=I((jP,yE)=>{yE.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var k2=I(()=>{});var Wr=I((L2,Qu)=>{(function(t,e){"use strict";function r(B,h){if(!B)throw new Error(h||"Assertion failed")}function n(B,h){B.super_=h;var p=function(){};p.prototype=h.prototype,B.prototype=new p,B.prototype.constructor=B}function i(B,h,p){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(B||0,h||10,p||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=k2().Buffer}catch(B){}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,p){return h.cmp(p)>0?h:p},i.min=function(h,p){return h.cmp(p)<0?h:p},i.prototype._init=function(h,p,g){if(typeof h=="number")return this._initNumber(h,p,g);if(typeof h=="object")return this._initArray(h,p,g);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var m=0;h[0]==="-"&&(m++,this.negative=1),m<h.length&&(p===16?this._parseHex(h,m,g):(this._parseBase(h,p,m),g==="le"&&this._initArray(this.toArray(),p,g)))},i.prototype._initNumber=function(h,p,g){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},i.prototype._initArray=function(h,p,g){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,T,C=0;if(g==="be")for(m=h.length-1,w=0;m>=0;m-=3)T=h[m]|h[m-1]<<8|h[m-2]<<16,this.words[w]|=T<<C&67108863,this.words[w+1]=T>>>26-C&67108863,C+=24,C>=26&&(C-=26,w++);else if(g==="le")for(m=0,w=0;m<h.length;m+=3)T=h[m]|h[m+1]<<8|h[m+2]<<16,this.words[w]|=T<<C&67108863,this.words[w+1]=T>>>26-C&67108863,C+=24,C>=26&&(C-=26,w++);return this.strip()};function a(B,h){var p=B.charCodeAt(h);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function o(B,h,p){var g=a(B,p);return p-1>=h&&(g|=a(B,p-1)<<4),g}i.prototype._parseHex=function(h,p,g){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,T=0,C;if(g==="be")for(m=h.length-1;m>=p;m-=2)C=o(h,p,m)<<w,this.words[T]|=C&67108863,w>=18?(w-=18,T+=1,this.words[T]|=C>>>26):w+=8;else{var E=h.length-p;for(m=E%2==0?p+1:p;m<h.length;m+=2)C=o(h,p,m)<<w,this.words[T]|=C&67108863,w>=18?(w-=18,T+=1,this.words[T]|=C>>>26):w+=8}this.strip()};function f(B,h,p,g){for(var m=0,w=Math.min(B.length,p),T=h;T<w;T++){var C=B.charCodeAt(T)-48;m*=g,C>=49?m+=C-49+10:C>=17?m+=C-17+10:m+=C}return m}i.prototype._parseBase=function(h,p,g){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=p)m++;m--,w=w/p|0;for(var T=h.length-g,C=T%m,E=Math.min(T,T-C)+g,d=0,S=g;S<E;S+=m)d=f(h,S,S+m,p),this.imuln(w),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(C!==0){var $=1;for(d=f(h,S,h.length,p),S=0;S<C;S++)$*=p;this.imuln($),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,p){h=h||10,p=p|0||1;var g;if(h===16||h==="hex"){g="";for(var m=0,w=0,T=0;T<this.length;T++){var C=this.words[T],E=((C<<m|w)&16777215).toString(16);w=C>>>24-m&16777215,w!==0||T!==this.length-1?g=u[6-E.length]+E+g:g=E+g,m+=2,m>=26&&(m-=26,T--)}for(w!==0&&(g=w.toString(16)+g);g.length%p!=0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(h===(h|0)&&h>=2&&h<=36){var d=c[h],S=l[h];g="";var $=this.clone();for($.negative=0;!$.isZero();){var Y=$.modn(S).toString(h);$=$.idivn(S),$.isZero()?g=Y+g:g=u[d-Y.length]+Y+g}for(this.isZero()&&(g="0"+g);g.length%p!=0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(h,p){return r(typeof s!="undefined"),this.toArrayLike(s,h,p)},i.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)},i.prototype.toArrayLike=function(h,p,g){var m=this.byteLength(),w=g||Math.max(1,m);r(m<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var T=p==="le",C=new h(w),E,d,S=this.clone();if(T){for(d=0;!S.isZero();d++)E=S.andln(255),S.iushrn(8),C[d]=E;for(;d<w;d++)C[d]=0}else{for(d=0;d<w-m;d++)C[d]=0;for(d=0;!S.isZero();d++)E=S.andln(255),S.iushrn(8),C[w-d-1]=E}return C},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var p=h,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},i.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,g=0;return(p&8191)==0&&(g+=13,p>>>=13),(p&127)==0&&(g+=7,p>>>=7),(p&15)==0&&(g+=4,p>>>=4),(p&3)==0&&(g+=2,p>>>=2),(p&1)==0&&g++,g},i.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function y(B){for(var h=new Array(B.bitLength()),p=0;p<h.length;p++){var g=p/26|0,m=p%26;h[p]=(B.words[g]&1<<m)>>>m}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(h+=g,g!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this.strip()},i.prototype.ior=function(h){return r((this.negative|h.negative)==0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&h.words[g];return this.length=p.length,this.strip()},i.prototype.iand=function(h){return r((this.negative|h.negative)==0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var p,g;this.length>h.length?(p=this,g=h):(p=h,g=this);for(var m=0;m<g.length;m++)this.words[m]=p.words[m]^g.words[m];if(this!==p)for(;m<p.length;m++)this.words[m]=p.words[m];return this.length=p.length,this.strip()},i.prototype.ixor=function(h){return r((this.negative|h.negative)==0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,g=h%26;this._expand(p),g>0&&p--;for(var m=0;m<p;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,p){r(typeof h=="number"&&h>=0);var g=h/26|0,m=h%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},i.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var g,m;this.length>h.length?(g=this,m=h):(g=h,m=this);for(var w=0,T=0;T<m.length;T++)p=(g.words[T]|0)+(m.words[T]|0)+w,this.words[T]=p&67108863,w=p>>>26;for(;w!==0&&T<g.length;T++)p=(g.words[T]|0)+w,this.words[T]=p&67108863,w=p>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;T<g.length;T++)this.words[T]=g.words[T];return this},i.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var g=this.cmp(h);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;g>0?(m=this,w=h):(m=h,w=this);for(var T=0,C=0;C<w.length;C++)p=(m.words[C]|0)-(w.words[C]|0)+T,T=p>>26,this.words[C]=p&67108863;for(;T!==0&&C<m.length;C++)p=(m.words[C]|0)+T,T=p>>26,this.words[C]=p&67108863;if(T===0&&C<m.length&&m!==this)for(;C<m.length;C++)this.words[C]=m.words[C];return this.length=Math.max(this.length,C),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function x(B,h,p){p.negative=h.negative^B.negative;var g=B.length+h.length|0;p.length=g,g=g-1|0;var m=B.words[0]|0,w=h.words[0]|0,T=m*w,C=T&67108863,E=T/67108864|0;p.words[0]=C;for(var d=1;d<g;d++){for(var S=E>>>26,$=E&67108863,Y=Math.min(d,h.length-1),W=Math.max(0,d-B.length+1);W<=Y;W++){var ee=d-W|0;m=B.words[ee]|0,w=h.words[W]|0,T=m*w+$,S+=T/67108864|0,$=T&67108863}p.words[d]=$|0,E=S|0}return E!==0?p.words[d]=E|0:p.length--,p.strip()}var v=function(h,p,g){var m=h.words,w=p.words,T=g.words,C=0,E,d,S,$=m[0]|0,Y=$&8191,W=$>>>13,ee=m[1]|0,oe=ee&8191,he=ee>>>13,Me=m[2]|0,le=Me&8191,ce=Me>>>13,Ge=m[3]|0,ge=Ge&8191,R=Ge>>>13,N=m[4]|0,L=N&8191,D=N>>>13,Z=m[5]|0,ie=Z&8191,se=Z>>>13,Ve=m[6]|0,fe=Ve&8191,ue=Ve>>>13,Ue=m[7]|0,te=Ue&8191,be=Ue>>>13,nr=m[8]|0,Re=nr&8191,de=nr>>>13,Ce=m[9]|0,Ye=Ce&8191,rt=Ce>>>13,_h=w[0]|0,nt=_h&8191,it=_h>>>13,Ah=w[1]|0,st=Ah&8191,at=Ah>>>13,Bh=w[2]|0,ot=Bh&8191,ft=Bh>>>13,Ih=w[3]|0,ut=Ih&8191,ct=Ih>>>13,Ch=w[4]|0,ht=Ch&8191,lt=Ch>>>13,Th=w[5]|0,dt=Th&8191,pt=Th>>>13,Ph=w[6]|0,yt=Ph&8191,bt=Ph>>>13,Mh=w[7]|0,vt=Mh&8191,gt=Mh>>>13,Rh=w[8]|0,mt=Rh&8191,xt=Rh>>>13,qh=w[9]|0,wt=qh&8191,Et=qh>>>13;g.negative=h.negative^p.negative,g.length=19,E=Math.imul(Y,nt),d=Math.imul(Y,it),d=d+Math.imul(W,nt)|0,S=Math.imul(W,it);var Vf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,E=Math.imul(oe,nt),d=Math.imul(oe,it),d=d+Math.imul(he,nt)|0,S=Math.imul(he,it),E=E+Math.imul(Y,st)|0,d=d+Math.imul(Y,at)|0,d=d+Math.imul(W,st)|0,S=S+Math.imul(W,at)|0;var Hf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Hf>>>26)|0,Hf&=67108863,E=Math.imul(le,nt),d=Math.imul(le,it),d=d+Math.imul(ce,nt)|0,S=Math.imul(ce,it),E=E+Math.imul(oe,st)|0,d=d+Math.imul(oe,at)|0,d=d+Math.imul(he,st)|0,S=S+Math.imul(he,at)|0,E=E+Math.imul(Y,ot)|0,d=d+Math.imul(Y,ft)|0,d=d+Math.imul(W,ot)|0,S=S+Math.imul(W,ft)|0;var jf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(jf>>>26)|0,jf&=67108863,E=Math.imul(ge,nt),d=Math.imul(ge,it),d=d+Math.imul(R,nt)|0,S=Math.imul(R,it),E=E+Math.imul(le,st)|0,d=d+Math.imul(le,at)|0,d=d+Math.imul(ce,st)|0,S=S+Math.imul(ce,at)|0,E=E+Math.imul(oe,ot)|0,d=d+Math.imul(oe,ft)|0,d=d+Math.imul(he,ot)|0,S=S+Math.imul(he,ft)|0,E=E+Math.imul(Y,ut)|0,d=d+Math.imul(Y,ct)|0,d=d+Math.imul(W,ut)|0,S=S+Math.imul(W,ct)|0;var $f=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+($f>>>26)|0,$f&=67108863,E=Math.imul(L,nt),d=Math.imul(L,it),d=d+Math.imul(D,nt)|0,S=Math.imul(D,it),E=E+Math.imul(ge,st)|0,d=d+Math.imul(ge,at)|0,d=d+Math.imul(R,st)|0,S=S+Math.imul(R,at)|0,E=E+Math.imul(le,ot)|0,d=d+Math.imul(le,ft)|0,d=d+Math.imul(ce,ot)|0,S=S+Math.imul(ce,ft)|0,E=E+Math.imul(oe,ut)|0,d=d+Math.imul(oe,ct)|0,d=d+Math.imul(he,ut)|0,S=S+Math.imul(he,ct)|0,E=E+Math.imul(Y,ht)|0,d=d+Math.imul(Y,lt)|0,d=d+Math.imul(W,ht)|0,S=S+Math.imul(W,lt)|0;var Gf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,E=Math.imul(ie,nt),d=Math.imul(ie,it),d=d+Math.imul(se,nt)|0,S=Math.imul(se,it),E=E+Math.imul(L,st)|0,d=d+Math.imul(L,at)|0,d=d+Math.imul(D,st)|0,S=S+Math.imul(D,at)|0,E=E+Math.imul(ge,ot)|0,d=d+Math.imul(ge,ft)|0,d=d+Math.imul(R,ot)|0,S=S+Math.imul(R,ft)|0,E=E+Math.imul(le,ut)|0,d=d+Math.imul(le,ct)|0,d=d+Math.imul(ce,ut)|0,S=S+Math.imul(ce,ct)|0,E=E+Math.imul(oe,ht)|0,d=d+Math.imul(oe,lt)|0,d=d+Math.imul(he,ht)|0,S=S+Math.imul(he,lt)|0,E=E+Math.imul(Y,dt)|0,d=d+Math.imul(Y,pt)|0,d=d+Math.imul(W,dt)|0,S=S+Math.imul(W,pt)|0;var Yf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Yf>>>26)|0,Yf&=67108863,E=Math.imul(fe,nt),d=Math.imul(fe,it),d=d+Math.imul(ue,nt)|0,S=Math.imul(ue,it),E=E+Math.imul(ie,st)|0,d=d+Math.imul(ie,at)|0,d=d+Math.imul(se,st)|0,S=S+Math.imul(se,at)|0,E=E+Math.imul(L,ot)|0,d=d+Math.imul(L,ft)|0,d=d+Math.imul(D,ot)|0,S=S+Math.imul(D,ft)|0,E=E+Math.imul(ge,ut)|0,d=d+Math.imul(ge,ct)|0,d=d+Math.imul(R,ut)|0,S=S+Math.imul(R,ct)|0,E=E+Math.imul(le,ht)|0,d=d+Math.imul(le,lt)|0,d=d+Math.imul(ce,ht)|0,S=S+Math.imul(ce,lt)|0,E=E+Math.imul(oe,dt)|0,d=d+Math.imul(oe,pt)|0,d=d+Math.imul(he,dt)|0,S=S+Math.imul(he,pt)|0,E=E+Math.imul(Y,yt)|0,d=d+Math.imul(Y,bt)|0,d=d+Math.imul(W,yt)|0,S=S+Math.imul(W,bt)|0;var Wf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Wf>>>26)|0,Wf&=67108863,E=Math.imul(te,nt),d=Math.imul(te,it),d=d+Math.imul(be,nt)|0,S=Math.imul(be,it),E=E+Math.imul(fe,st)|0,d=d+Math.imul(fe,at)|0,d=d+Math.imul(ue,st)|0,S=S+Math.imul(ue,at)|0,E=E+Math.imul(ie,ot)|0,d=d+Math.imul(ie,ft)|0,d=d+Math.imul(se,ot)|0,S=S+Math.imul(se,ft)|0,E=E+Math.imul(L,ut)|0,d=d+Math.imul(L,ct)|0,d=d+Math.imul(D,ut)|0,S=S+Math.imul(D,ct)|0,E=E+Math.imul(ge,ht)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(R,ht)|0,S=S+Math.imul(R,lt)|0,E=E+Math.imul(le,dt)|0,d=d+Math.imul(le,pt)|0,d=d+Math.imul(ce,dt)|0,S=S+Math.imul(ce,pt)|0,E=E+Math.imul(oe,yt)|0,d=d+Math.imul(oe,bt)|0,d=d+Math.imul(he,yt)|0,S=S+Math.imul(he,bt)|0,E=E+Math.imul(Y,vt)|0,d=d+Math.imul(Y,gt)|0,d=d+Math.imul(W,vt)|0,S=S+Math.imul(W,gt)|0;var Qf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Qf>>>26)|0,Qf&=67108863,E=Math.imul(Re,nt),d=Math.imul(Re,it),d=d+Math.imul(de,nt)|0,S=Math.imul(de,it),E=E+Math.imul(te,st)|0,d=d+Math.imul(te,at)|0,d=d+Math.imul(be,st)|0,S=S+Math.imul(be,at)|0,E=E+Math.imul(fe,ot)|0,d=d+Math.imul(fe,ft)|0,d=d+Math.imul(ue,ot)|0,S=S+Math.imul(ue,ft)|0,E=E+Math.imul(ie,ut)|0,d=d+Math.imul(ie,ct)|0,d=d+Math.imul(se,ut)|0,S=S+Math.imul(se,ct)|0,E=E+Math.imul(L,ht)|0,d=d+Math.imul(L,lt)|0,d=d+Math.imul(D,ht)|0,S=S+Math.imul(D,lt)|0,E=E+Math.imul(ge,dt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(R,dt)|0,S=S+Math.imul(R,pt)|0,E=E+Math.imul(le,yt)|0,d=d+Math.imul(le,bt)|0,d=d+Math.imul(ce,yt)|0,S=S+Math.imul(ce,bt)|0,E=E+Math.imul(oe,vt)|0,d=d+Math.imul(oe,gt)|0,d=d+Math.imul(he,vt)|0,S=S+Math.imul(he,gt)|0,E=E+Math.imul(Y,mt)|0,d=d+Math.imul(Y,xt)|0,d=d+Math.imul(W,mt)|0,S=S+Math.imul(W,xt)|0;var Jf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Jf>>>26)|0,Jf&=67108863,E=Math.imul(Ye,nt),d=Math.imul(Ye,it),d=d+Math.imul(rt,nt)|0,S=Math.imul(rt,it),E=E+Math.imul(Re,st)|0,d=d+Math.imul(Re,at)|0,d=d+Math.imul(de,st)|0,S=S+Math.imul(de,at)|0,E=E+Math.imul(te,ot)|0,d=d+Math.imul(te,ft)|0,d=d+Math.imul(be,ot)|0,S=S+Math.imul(be,ft)|0,E=E+Math.imul(fe,ut)|0,d=d+Math.imul(fe,ct)|0,d=d+Math.imul(ue,ut)|0,S=S+Math.imul(ue,ct)|0,E=E+Math.imul(ie,ht)|0,d=d+Math.imul(ie,lt)|0,d=d+Math.imul(se,ht)|0,S=S+Math.imul(se,lt)|0,E=E+Math.imul(L,dt)|0,d=d+Math.imul(L,pt)|0,d=d+Math.imul(D,dt)|0,S=S+Math.imul(D,pt)|0,E=E+Math.imul(ge,yt)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(R,yt)|0,S=S+Math.imul(R,bt)|0,E=E+Math.imul(le,vt)|0,d=d+Math.imul(le,gt)|0,d=d+Math.imul(ce,vt)|0,S=S+Math.imul(ce,gt)|0,E=E+Math.imul(oe,mt)|0,d=d+Math.imul(oe,xt)|0,d=d+Math.imul(he,mt)|0,S=S+Math.imul(he,xt)|0,E=E+Math.imul(Y,wt)|0,d=d+Math.imul(Y,Et)|0,d=d+Math.imul(W,wt)|0,S=S+Math.imul(W,Et)|0;var Zf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Zf>>>26)|0,Zf&=67108863,E=Math.imul(Ye,st),d=Math.imul(Ye,at),d=d+Math.imul(rt,st)|0,S=Math.imul(rt,at),E=E+Math.imul(Re,ot)|0,d=d+Math.imul(Re,ft)|0,d=d+Math.imul(de,ot)|0,S=S+Math.imul(de,ft)|0,E=E+Math.imul(te,ut)|0,d=d+Math.imul(te,ct)|0,d=d+Math.imul(be,ut)|0,S=S+Math.imul(be,ct)|0,E=E+Math.imul(fe,ht)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(ue,ht)|0,S=S+Math.imul(ue,lt)|0,E=E+Math.imul(ie,dt)|0,d=d+Math.imul(ie,pt)|0,d=d+Math.imul(se,dt)|0,S=S+Math.imul(se,pt)|0,E=E+Math.imul(L,yt)|0,d=d+Math.imul(L,bt)|0,d=d+Math.imul(D,yt)|0,S=S+Math.imul(D,bt)|0,E=E+Math.imul(ge,vt)|0,d=d+Math.imul(ge,gt)|0,d=d+Math.imul(R,vt)|0,S=S+Math.imul(R,gt)|0,E=E+Math.imul(le,mt)|0,d=d+Math.imul(le,xt)|0,d=d+Math.imul(ce,mt)|0,S=S+Math.imul(ce,xt)|0,E=E+Math.imul(oe,wt)|0,d=d+Math.imul(oe,Et)|0,d=d+Math.imul(he,wt)|0,S=S+Math.imul(he,Et)|0;var Xf=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(Xf>>>26)|0,Xf&=67108863,E=Math.imul(Ye,ot),d=Math.imul(Ye,ft),d=d+Math.imul(rt,ot)|0,S=Math.imul(rt,ft),E=E+Math.imul(Re,ut)|0,d=d+Math.imul(Re,ct)|0,d=d+Math.imul(de,ut)|0,S=S+Math.imul(de,ct)|0,E=E+Math.imul(te,ht)|0,d=d+Math.imul(te,lt)|0,d=d+Math.imul(be,ht)|0,S=S+Math.imul(be,lt)|0,E=E+Math.imul(fe,dt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(ue,dt)|0,S=S+Math.imul(ue,pt)|0,E=E+Math.imul(ie,yt)|0,d=d+Math.imul(ie,bt)|0,d=d+Math.imul(se,yt)|0,S=S+Math.imul(se,bt)|0,E=E+Math.imul(L,vt)|0,d=d+Math.imul(L,gt)|0,d=d+Math.imul(D,vt)|0,S=S+Math.imul(D,gt)|0,E=E+Math.imul(ge,mt)|0,d=d+Math.imul(ge,xt)|0,d=d+Math.imul(R,mt)|0,S=S+Math.imul(R,xt)|0,E=E+Math.imul(le,wt)|0,d=d+Math.imul(le,Et)|0,d=d+Math.imul(ce,wt)|0,S=S+Math.imul(ce,Et)|0;var e0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(e0>>>26)|0,e0&=67108863,E=Math.imul(Ye,ut),d=Math.imul(Ye,ct),d=d+Math.imul(rt,ut)|0,S=Math.imul(rt,ct),E=E+Math.imul(Re,ht)|0,d=d+Math.imul(Re,lt)|0,d=d+Math.imul(de,ht)|0,S=S+Math.imul(de,lt)|0,E=E+Math.imul(te,dt)|0,d=d+Math.imul(te,pt)|0,d=d+Math.imul(be,dt)|0,S=S+Math.imul(be,pt)|0,E=E+Math.imul(fe,yt)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(ue,yt)|0,S=S+Math.imul(ue,bt)|0,E=E+Math.imul(ie,vt)|0,d=d+Math.imul(ie,gt)|0,d=d+Math.imul(se,vt)|0,S=S+Math.imul(se,gt)|0,E=E+Math.imul(L,mt)|0,d=d+Math.imul(L,xt)|0,d=d+Math.imul(D,mt)|0,S=S+Math.imul(D,xt)|0,E=E+Math.imul(ge,wt)|0,d=d+Math.imul(ge,Et)|0,d=d+Math.imul(R,wt)|0,S=S+Math.imul(R,Et)|0;var t0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(t0>>>26)|0,t0&=67108863,E=Math.imul(Ye,ht),d=Math.imul(Ye,lt),d=d+Math.imul(rt,ht)|0,S=Math.imul(rt,lt),E=E+Math.imul(Re,dt)|0,d=d+Math.imul(Re,pt)|0,d=d+Math.imul(de,dt)|0,S=S+Math.imul(de,pt)|0,E=E+Math.imul(te,yt)|0,d=d+Math.imul(te,bt)|0,d=d+Math.imul(be,yt)|0,S=S+Math.imul(be,bt)|0,E=E+Math.imul(fe,vt)|0,d=d+Math.imul(fe,gt)|0,d=d+Math.imul(ue,vt)|0,S=S+Math.imul(ue,gt)|0,E=E+Math.imul(ie,mt)|0,d=d+Math.imul(ie,xt)|0,d=d+Math.imul(se,mt)|0,S=S+Math.imul(se,xt)|0,E=E+Math.imul(L,wt)|0,d=d+Math.imul(L,Et)|0,d=d+Math.imul(D,wt)|0,S=S+Math.imul(D,Et)|0;var r0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(r0>>>26)|0,r0&=67108863,E=Math.imul(Ye,dt),d=Math.imul(Ye,pt),d=d+Math.imul(rt,dt)|0,S=Math.imul(rt,pt),E=E+Math.imul(Re,yt)|0,d=d+Math.imul(Re,bt)|0,d=d+Math.imul(de,yt)|0,S=S+Math.imul(de,bt)|0,E=E+Math.imul(te,vt)|0,d=d+Math.imul(te,gt)|0,d=d+Math.imul(be,vt)|0,S=S+Math.imul(be,gt)|0,E=E+Math.imul(fe,mt)|0,d=d+Math.imul(fe,xt)|0,d=d+Math.imul(ue,mt)|0,S=S+Math.imul(ue,xt)|0,E=E+Math.imul(ie,wt)|0,d=d+Math.imul(ie,Et)|0,d=d+Math.imul(se,wt)|0,S=S+Math.imul(se,Et)|0;var n0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(n0>>>26)|0,n0&=67108863,E=Math.imul(Ye,yt),d=Math.imul(Ye,bt),d=d+Math.imul(rt,yt)|0,S=Math.imul(rt,bt),E=E+Math.imul(Re,vt)|0,d=d+Math.imul(Re,gt)|0,d=d+Math.imul(de,vt)|0,S=S+Math.imul(de,gt)|0,E=E+Math.imul(te,mt)|0,d=d+Math.imul(te,xt)|0,d=d+Math.imul(be,mt)|0,S=S+Math.imul(be,xt)|0,E=E+Math.imul(fe,wt)|0,d=d+Math.imul(fe,Et)|0,d=d+Math.imul(ue,wt)|0,S=S+Math.imul(ue,Et)|0;var i0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(i0>>>26)|0,i0&=67108863,E=Math.imul(Ye,vt),d=Math.imul(Ye,gt),d=d+Math.imul(rt,vt)|0,S=Math.imul(rt,gt),E=E+Math.imul(Re,mt)|0,d=d+Math.imul(Re,xt)|0,d=d+Math.imul(de,mt)|0,S=S+Math.imul(de,xt)|0,E=E+Math.imul(te,wt)|0,d=d+Math.imul(te,Et)|0,d=d+Math.imul(be,wt)|0,S=S+Math.imul(be,Et)|0;var s0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(s0>>>26)|0,s0&=67108863,E=Math.imul(Ye,mt),d=Math.imul(Ye,xt),d=d+Math.imul(rt,mt)|0,S=Math.imul(rt,xt),E=E+Math.imul(Re,wt)|0,d=d+Math.imul(Re,Et)|0,d=d+Math.imul(de,wt)|0,S=S+Math.imul(de,Et)|0;var a0=(C+E|0)+((d&8191)<<13)|0;C=(S+(d>>>13)|0)+(a0>>>26)|0,a0&=67108863,E=Math.imul(Ye,wt),d=Math.imul(Ye,Et),d=d+Math.imul(rt,wt)|0,S=Math.imul(rt,Et);var o0=(C+E|0)+((d&8191)<<13)|0;return C=(S+(d>>>13)|0)+(o0>>>26)|0,o0&=67108863,T[0]=Vf,T[1]=Hf,T[2]=jf,T[3]=$f,T[4]=Gf,T[5]=Yf,T[6]=Wf,T[7]=Qf,T[8]=Jf,T[9]=Zf,T[10]=Xf,T[11]=e0,T[12]=t0,T[13]=r0,T[14]=n0,T[15]=i0,T[16]=s0,T[17]=a0,T[18]=o0,C!==0&&(T[19]=C,g.length++),g};Math.imul||(v=x);function b(B,h,p){p.negative=h.negative^B.negative,p.length=B.length+h.length;for(var g=0,m=0,w=0;w<p.length-1;w++){var T=m;m=0;for(var C=g&67108863,E=Math.min(w,h.length-1),d=Math.max(0,w-B.length+1);d<=E;d++){var S=w-d,$=B.words[S]|0,Y=h.words[d]|0,W=$*Y,ee=W&67108863;T=T+(W/67108864|0)|0,ee=ee+C|0,C=ee&67108863,T=T+(ee>>>26)|0,m+=T>>>26,T&=67108863}p.words[w]=C,g=T,T=m}return g!==0?p.words[w]=g:p.length--,p.strip()}function _(B,h,p){var g=new A;return g.mulp(B,h,p)}i.prototype.mulTo=function(h,p){var g,m=this.length+h.length;return this.length===10&&h.length===10?g=v(this,h,p):m<63?g=x(this,h,p):m<1024?g=b(this,h,p):g=_(this,h,p),g};function A(B,h){this.x=B,this.y=h}A.prototype.makeRBT=function(h){for(var p=new Array(h),g=i.prototype._countBits(h)-1,m=0;m<h;m++)p[m]=this.revBin(m,g,h);return p},A.prototype.revBin=function(h,p,g){if(h===0||h===g-1)return h;for(var m=0,w=0;w<p;w++)m|=(h&1)<<p-w-1,h>>=1;return m},A.prototype.permute=function(h,p,g,m,w,T){for(var C=0;C<T;C++)m[C]=p[h[C]],w[C]=g[h[C]]},A.prototype.transform=function(h,p,g,m,w,T){this.permute(T,h,p,g,m,w);for(var C=1;C<w;C<<=1)for(var E=C<<1,d=Math.cos(2*Math.PI/E),S=Math.sin(2*Math.PI/E),$=0;$<w;$+=E)for(var Y=d,W=S,ee=0;ee<C;ee++){var oe=g[$+ee],he=m[$+ee],Me=g[$+ee+C],le=m[$+ee+C],ce=Y*Me-W*le;le=Y*le+W*Me,Me=ce,g[$+ee]=oe+Me,m[$+ee]=he+le,g[$+ee+C]=oe-Me,m[$+ee+C]=he-le,ee!==E&&(ce=d*Y-S*W,W=d*W+S*Y,Y=ce)}},A.prototype.guessLen13b=function(h,p){var g=Math.max(p,h)|1,m=g&1,w=0;for(g=g/2|0;g;g=g>>>1)w++;return 1<<w+1+m},A.prototype.conjugate=function(h,p,g){if(!(g<=1))for(var m=0;m<g/2;m++){var w=h[m];h[m]=h[g-m-1],h[g-m-1]=w,w=p[m],p[m]=-p[g-m-1],p[g-m-1]=-w}},A.prototype.normalize13b=function(h,p){for(var g=0,m=0;m<p/2;m++){var w=Math.round(h[2*m+1]/p)*8192+Math.round(h[2*m]/p)+g;h[m]=w&67108863,w<67108864?g=0:g=w/67108864|0}return h},A.prototype.convert13b=function(h,p,g,m){for(var w=0,T=0;T<p;T++)w=w+(h[T]|0),g[2*T]=w&8191,w=w>>>13,g[2*T+1]=w&8191,w=w>>>13;for(T=2*p;T<m;++T)g[T]=0;r(w===0),r((w&~8191)==0)},A.prototype.stub=function(h){for(var p=new Array(h),g=0;g<h;g++)p[g]=0;return p},A.prototype.mulp=function(h,p,g){var m=2*this.guessLen13b(h.length,p.length),w=this.makeRBT(m),T=this.stub(m),C=new Array(m),E=new Array(m),d=new Array(m),S=new Array(m),$=new Array(m),Y=new Array(m),W=g.words;W.length=m,this.convert13b(h.words,h.length,C,m),this.convert13b(p.words,p.length,S,m),this.transform(C,T,E,d,m,w),this.transform(S,T,$,Y,m,w);for(var ee=0;ee<m;ee++){var oe=E[ee]*$[ee]-d[ee]*Y[ee];d[ee]=E[ee]*Y[ee]+d[ee]*$[ee],E[ee]=oe}return this.conjugate(E,d,m),this.transform(E,d,W,T,m,w),this.conjugate(W,T,m),this.normalize13b(W,m),g.negative=h.negative^p.negative,g.length=h.length+p.length,g.strip()},i.prototype.mul=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},i.prototype.mulf=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),_(this,h,p)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var p=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*h,w=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=w>>>26,this.words[g]=w&67108863}return p!==0&&(this.words[g]=p,this.length++),this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var p=y(h);if(p.length===0)return new i(1);for(var g=this,m=0;m<p.length&&p[m]===0;m++,g=g.sqr());if(++m<p.length)for(var w=g.sqr();m<p.length;m++,w=w.sqr())p[m]!==0&&(g=g.mul(w));return g},i.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26,m=67108863>>>26-p<<26-p,w;if(p!==0){var T=0;for(w=0;w<this.length;w++){var C=this.words[w]&m,E=(this.words[w]|0)-C<<p;this.words[w]=E|T,T=C>>>26-p}T&&(this.words[w]=T,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,p,g){r(typeof h=="number"&&h>=0);var m;p?m=(p-p%26)/26:m=0;var w=h%26,T=Math.min((h-w)/26,this.length),C=67108863^67108863>>>w<<w,E=g;if(m-=T,m=Math.max(0,m),E){for(var d=0;d<T;d++)E.words[d]=this.words[d];E.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var S=0;for(d=this.length-1;d>=0&&(S!==0||d>=m);d--){var $=this.words[d]|0;this.words[d]=S<<26-w|$>>>w,S=$&C}return E&&S!==0&&(E.words[E.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(h,p,g){return r(this.negative===0),this.iushrn(h,p,g)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26,m=1<<p;if(this.length<=g)return!1;var w=this.words[g];return!!(w&m)},i.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var m=67108863^67108863>>>p<<p;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,p,g){var m=h.length+g,w;this._expand(m);var T,C=0;for(w=0;w<h.length;w++){T=(this.words[w+g]|0)+C;var E=(h.words[w]|0)*p;T-=E&67108863,C=(T>>26)-(E/67108864|0),this.words[w+g]=T&67108863}for(;w<this.length-g;w++)T=(this.words[w+g]|0)+C,C=T>>26,this.words[w+g]=T&67108863;if(C===0)return this.strip();for(r(C===-1),C=0,w=0;w<this.length;w++)T=-(this.words[w]|0)+C,C=T>>26,this.words[w]=T&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(h,p){var g=this.length-h.length,m=this.clone(),w=h,T=w.words[w.length-1]|0,C=this._countBits(T);g=26-C,g!==0&&(w=w.ushln(g),m.iushln(g),T=w.words[w.length-1]|0);var E=m.length-w.length,d;if(p!=="mod"){d=new i(null),d.length=E+1,d.words=new Array(d.length);for(var S=0;S<d.length;S++)d.words[S]=0}var $=m.clone()._ishlnsubmul(w,1,E);$.negative===0&&(m=$,d&&(d.words[E]=1));for(var Y=E-1;Y>=0;Y--){var W=(m.words[w.length+Y]|0)*67108864+(m.words[w.length+Y-1]|0);for(W=Math.min(W/T|0,67108863),m._ishlnsubmul(w,W,Y);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(w,1,Y),m.isZero()||(m.negative^=1);d&&(d.words[Y]=W)}return d&&d.strip(),m.strip(),p!=="div"&&g!==0&&m.iushrn(g),{div:d||null,mod:m}},i.prototype.divmod=function(h,p,g){if(r(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,w,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,p),p!=="mod"&&(m=T.div.neg()),p!=="div"&&(w=T.mod.neg(),g&&w.negative!==0&&w.iadd(h)),{div:m,mod:w}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),p),p!=="mod"&&(m=T.div.neg()),{div:m,mod:T.mod}):(this.negative&h.negative)!=0?(T=this.neg().divmod(h.neg(),p),p!=="div"&&(w=T.mod.neg(),g&&w.negative!==0&&w.isub(h)),{div:T.div,mod:w}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modn(h.words[0]))}:this._wordDiv(h,p)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(h):p.mod,m=h.ushrn(1),w=h.andln(1),T=g.cmp(m);return T<0||w===1&&T===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modn=function(h){r(h<=67108863);for(var p=(1<<26)%h,g=0,m=this.length-1;m>=0;m--)g=(p*g+(this.words[m]|0))%h;return g},i.prototype.idivn=function(h){r(h<=67108863);for(var p=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+p*67108864;this.words[g]=m/h|0,p=m%h}return this.strip()},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var p=this,g=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var m=new i(1),w=new i(0),T=new i(0),C=new i(1),E=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++E;for(var d=g.clone(),S=p.clone();!p.isZero();){for(var $=0,Y=1;(p.words[0]&Y)==0&&$<26;++$,Y<<=1);if($>0)for(p.iushrn($);$-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(d),w.isub(S)),m.iushrn(1),w.iushrn(1);for(var W=0,ee=1;(g.words[0]&ee)==0&&W<26;++W,ee<<=1);if(W>0)for(g.iushrn(W);W-- >0;)(T.isOdd()||C.isOdd())&&(T.iadd(d),C.isub(S)),T.iushrn(1),C.iushrn(1);p.cmp(g)>=0?(p.isub(g),m.isub(T),w.isub(C)):(g.isub(p),T.isub(m),C.isub(w))}return{a:T,b:C,gcd:g.iushln(E)}},i.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var p=this,g=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var m=new i(1),w=new i(0),T=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var C=0,E=1;(p.words[0]&E)==0&&C<26;++C,E<<=1);if(C>0)for(p.iushrn(C);C-- >0;)m.isOdd()&&m.iadd(T),m.iushrn(1);for(var d=0,S=1;(g.words[0]&S)==0&&d<26;++d,S<<=1);if(d>0)for(g.iushrn(d);d-- >0;)w.isOdd()&&w.iadd(T),w.iushrn(1);p.cmp(g)>=0?(p.isub(g),m.isub(w)):(g.isub(p),w.isub(m))}var $;return p.cmpn(1)===0?$=m:$=w,$.cmpn(0)<0&&$.iadd(h),$},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),g=h.clone();p.negative=0,g.negative=0;for(var m=0;p.isEven()&&g.isEven();m++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=p.cmp(g);if(w<0){var T=p;p=g,g=T}else if(w===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(m)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)==0},i.prototype.isOdd=function(){return(this.words[0]&1)==1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){r(typeof h=="number");var p=h%26,g=(h-p)/26,m=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var w=m,T=g;w!==0&&T<this.length;T++){var C=this.words[T]|0;C+=w,w=C>>>26,C&=67108863,this.words[T]=C}return w!==0&&(this.words[T]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var g;if(this.length>1)g=1;else{p&&(h=-h),r(h<=67108863,"Number is too big");var m=this.words[0]|0;g=m===h?0:m<h?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,w=h.words[g]|0;if(m!==w){m<w?p=-1:m>w&&(p=1);break}}return p},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new H(h)},i.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var M={k256:null,p224:null,p192:null,p25519:null};function q(B,h){this.name=B,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},q.prototype.ireduce=function(h){var p=h,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var m=g<this.n?-1:p.ucmp(this.p);return m===0?(p.words[0]=0,p.length=1):m>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},q.prototype.split=function(h,p){h.iushrn(this.n,0,p)},q.prototype.imulK=function(h){return h.imul(this.k)};function z(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(z,q),z.prototype.split=function(h,p){for(var g=4194303,m=Math.min(h.length,9),w=0;w<m;w++)p.words[w]=h.words[w];if(p.length=m,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(p.words[p.length++]=T&g,w=10;w<h.length;w++){var C=h.words[w]|0;h.words[w-10]=(C&g)<<4|T>>>22,T=C}T>>>=22,h.words[w-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},z.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,g=0;g<h.length;g++){var m=h.words[g]|0;p+=m*977,h.words[g]=p&67108863,p=m*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function O(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(O,q);function U(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(U,q);function G(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(G,q),G.prototype.imulK=function(h){for(var p=0,g=0;g<h.length;g++){var m=(h.words[g]|0)*19+p,w=m&67108863;m>>>=26,h.words[g]=w,p=m}return p!==0&&(h.words[h.length++]=p),h},i._prime=function(h){if(M[h])return M[h];var p;if(h==="k256")p=new z;else if(h==="p224")p=new O;else if(h==="p192")p=new U;else if(h==="p25519")p=new G;else throw new Error("Unknown prime "+h);return M[h]=p,p};function H(B){if(typeof B=="string"){var h=i._prime(B);this.m=h.p,this.prime=h}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}H.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},H.prototype._verify2=function(h,p){r((h.negative|p.negative)==0,"red works only with positives"),r(h.red&&h.red===p.red,"red works only with red numbers")},H.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},H.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},H.prototype.add=function(h,p){this._verify2(h,p);var g=h.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},H.prototype.iadd=function(h,p){this._verify2(h,p);var g=h.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},H.prototype.sub=function(h,p){this._verify2(h,p);var g=h.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},H.prototype.isub=function(h,p){this._verify2(h,p);var g=h.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},H.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},H.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},H.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},H.prototype.isqr=function(h){return this.imul(h,h.clone())},H.prototype.sqr=function(h){return this.mul(h,h)},H.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(r(p%2==1),p===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(h,g)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);r(!m.isZero());var T=new i(1).toRed(this),C=T.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,E).cmp(C)!==0;)d.redIAdd(C);for(var S=this.pow(d,m),$=this.pow(h,m.addn(1).iushrn(1)),Y=this.pow(h,m),W=w;Y.cmp(T)!==0;){for(var ee=Y,oe=0;ee.cmp(T)!==0;oe++)ee=ee.redSqr();r(oe<W);var he=this.pow(S,new i(1).iushln(W-oe-1));$=$.redMul(he),S=he.redSqr(),Y=Y.redMul(S),W=oe}return $},H.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(h,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var g=4,m=new Array(1<<g);m[0]=new i(1).toRed(this),m[1]=h;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],h);var T=m[0],C=0,E=0,d=p.bitLength()%26;for(d===0&&(d=26),w=p.length-1;w>=0;w--){for(var S=p.words[w],$=d-1;$>=0;$--){var Y=S>>$&1;if(T!==m[0]&&(T=this.sqr(T)),Y===0&&C===0){E=0;continue}C<<=1,C|=Y,E++,!(E!==g&&(w!==0||$!==0))&&(T=this.mul(T,m[C]),E=0,C=0)}d=26}return T},H.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},H.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},i.mont=function(h){return new X(h)};function X(B){H.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(X,H),X.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},X.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},X.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var g=h.imul(p),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),T=w;return w.cmp(this.m)>=0?T=w.isub(this.m):w.cmpn(0)<0&&(T=w.iadd(this.m)),T._forceRed(this)},X.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new i(0)._forceRed(this);var g=h.mul(p),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),T=w;return w.cmp(this.m)>=0?T=w.isub(this.m):w.cmpn(0)<0&&(T=w.iadd(this.m)),T._forceRed(this)},X.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Qu=="undefined"||Qu,L2)});var Kn=I((YP,D2)=>{D2.exports=N2;function N2(t,e){if(!t)throw new Error(e||"Assertion failed")}N2.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var Ju=I(F2=>{"use strict";var Qo=F2;function bE(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}Qo.toArray=bE;function O2(t){return t.length===1?"0"+t:t}Qo.zero2=O2;function K2(t){for(var e="",r=0;r<t.length;r++)e+=O2(t[r].toString(16));return e}Qo.toHex=K2;Qo.encode=function(e,r){return r==="hex"?K2(e):e}});var rr=I(U2=>{"use strict";var _r=U2,vE=Wr(),gE=Kn(),Jo=Ju();_r.assert=gE;_r.toArray=Jo.toArray;_r.zero2=Jo.zero2;_r.toHex=Jo.toHex;_r.encode=Jo.encode;function mE(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),a=0;a<n.length;a++){var o,f=s.andln(i-1);s.isOdd()?(f>(i>>1)-1?o=(i>>1)-f:o=f,s.isubn(o)):o=0,n[a]=o,s.iushrn(1)}return n}_r.getNAF=mE;function xE(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,o=e.andln(3)+i&3;a===3&&(a=-1),o===3&&(o=-1);var f;(a&1)==0?f=0:(s=t.andln(7)+n&7,(s===3||s===5)&&o===2?f=-a:f=a),r[0].push(f);var u;(o&1)==0?u=0:(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?u=-o:u=o),r[1].push(u),2*n===f+1&&(n=1-n),2*i===u+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}_r.getJSF=xE;function wE(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}_r.cachedProperty=wE;function EE(t){return typeof t=="string"?_r.toArray(t,"hex"):t}_r.parseBytes=EE;function SE(t){return new vE(t,"hex","le")}_r.intFromLE=SE});var tc=I((JP,ec)=>{var Zu;ec.exports=function(e){return Zu||(Zu=new Fn(null)),Zu.generate(e)};function Fn(t){this.rand=t}ec.exports.Rand=Fn;Fn.prototype.generate=function(e){return this._rand(e)};Fn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Fn.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Fn.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Fn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Xu=ra(),typeof Xu.randomBytes!="function")throw new Error("Not supported");Fn.prototype._rand=function(e){return Xu.randomBytes(e)}}catch(t){}var Xu});var pa=I((ZP,z2)=>{"use strict";var bi=Wr(),da=rr(),Zo=da.getNAF,_E=da.getJSF,Xo=da.assert;function Un(t,e){this.type=t,this.p=new bi(e.p,16),this.red=e.prime?bi.red(e.prime):bi.mont(this.p),this.zero=new bi(0).toRed(this.red),this.one=new bi(1).toRed(this.red),this.two=new bi(2).toRed(this.red),this.n=e.n&&new bi(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}z2.exports=Un;Un.prototype.point=function(){throw new Error("Not implemented")};Un.prototype.validate=function(){throw new Error("Not implemented")};Un.prototype._fixedNafMul=function(e,r){Xo(e.precomputed);var n=e._getDoubles(),i=Zo(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2==0?2:1);s/=3;var a=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var u=o+n.step-1;u>=o;u--)f=(f<<1)+i[u];a.push(f)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),y=s;y>0;y--){for(o=0;o<a.length;o++)f=a[o],f===y?l=l.mixedAdd(n.points[o]):f===-y&&(l=l.mixedAdd(n.points[o].neg()));c=c.add(l)}return c.toP()};Un.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=Zo(r,n,this._bitLength),o=this.jpoint(null,null,null),f=a.length-1;f>=0;f--){for(var u=0;f>=0&&a[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=a[f];Xo(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(s[c-1>>1]):o=o.mixedAdd(s[-c-1>>1].neg()):c>0?o=o.add(s[c-1>>1]):o=o.add(s[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};Un.prototype._wnafMulAdd=function(e,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,l,y;for(c=0;c<i;c++){y=r[c];var x=y._getNAFPoints(e);a[c]=x.wnd,o[c]=x.points}for(c=i-1;c>=1;c-=2){var v=c-1,b=c;if(a[v]!==1||a[b]!==1){f[v]=Zo(n[v],a[v],this._bitLength),f[b]=Zo(n[b],a[b],this._bitLength),u=Math.max(f[v].length,u),u=Math.max(f[b].length,u);continue}var _=[r[v],null,null,r[b]];r[v].y.cmp(r[b].y)===0?(_[1]=r[v].add(r[b]),_[2]=r[v].toJ().mixedAdd(r[b].neg())):r[v].y.cmp(r[b].y.redNeg())===0?(_[1]=r[v].toJ().mixedAdd(r[b]),_[2]=r[v].add(r[b].neg())):(_[1]=r[v].toJ().mixedAdd(r[b]),_[2]=r[v].toJ().mixedAdd(r[b].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],M=_E(n[v],n[b]);for(u=Math.max(M[0].length,u),f[v]=new Array(u),f[b]=new Array(u),l=0;l<u;l++){var q=M[0][l]|0,z=M[1][l]|0;f[v][l]=A[(q+1)*3+(z+1)],f[b][l]=0,o[v]=_}}var O=this.jpoint(null,null,null),U=this._wnafT4;for(c=u;c>=0;c--){for(var G=0;c>=0;){var H=!0;for(l=0;l<i;l++)U[l]=f[l][c]|0,U[l]!==0&&(H=!1);if(!H)break;G++,c--}if(c>=0&&G++,O=O.dblp(G),c<0)break;for(l=0;l<i;l++){var X=U[l];X!==0&&(X>0?y=o[l][X-1>>1]:X<0&&(y=o[l][-X-1>>1].neg()),y.type==="affine"?O=O.mixedAdd(y):O=O.add(y))}}for(c=0;c<i;c++)o[c]=null;return s?O:O.toP()};function dr(t,e){this.curve=t,this.type=e,this.precomputed=null}Un.BasePoint=dr;dr.prototype.eq=function(){throw new Error("Not implemented")};dr.prototype.validate=function(){return this.curve.validate(this)};Un.prototype.decodePoint=function(e,r){e=da.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?Xo(e[e.length-1]%2==0):e[0]===7&&Xo(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};dr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};dr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};dr.prototype.encode=function(e,r){return da.encode(this._encode(r),e)};dr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};dr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};dr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};dr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};dr.prototype._getBeta=function(){return null};dr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var ya=I((XP,rc)=>{typeof Object.create=="function"?rc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rc.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var H2=I((eM,V2)=>{"use strict";var AE=rr(),Je=Wr(),nc=ya(),us=pa(),BE=AE.assert;function pr(t){us.call(this,"short",t),this.a=new Je(t.a,16).toRed(this.red),this.b=new Je(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}nc(pr,us);V2.exports=pr;pr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Je(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Je(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],BE(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Je(o.a,16),b:new Je(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};pr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Je.mont(e),n=new Je(2).toRed(r).redInvm(),i=n.redNeg(),s=new Je(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]};pr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Je(1),a=new Je(0),o=new Je(0),f=new Je(1),u,c,l,y,x,v,b,_=0,A,M;n.cmpn(0)!==0;){var q=i.div(n);A=i.sub(q.mul(n)),M=o.sub(q.mul(s));var z=f.sub(q.mul(a));if(!l&&A.cmp(r)<0)u=b.neg(),c=s,l=A.neg(),y=M;else if(l&&++_==2)break;b=A,i=n,n=A,o=s,s=M,f=a,a=z}x=A.neg(),v=M;var O=l.sqr().add(y.sqr()),U=x.sqr().add(v.sqr());return U.cmp(O)>=0&&(x=u,v=c),l.negative&&(l=l.neg(),y=y.neg()),x.negative&&(x=x.neg(),v=v.neg()),[{a:l,b:y},{a:x,b:v}]};pr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),f=a.mul(i.a),u=s.mul(n.b),c=a.mul(i.b),l=e.sub(o).sub(f),y=u.add(c).neg();return{k1:l,k2:y}};pr.prototype.pointFromX=function(e,r){e=new Je(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};pr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};pr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),f=e[a],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[a*2]=f,i[a*2+1]=u,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var c=this._wnafMulAdd(1,i,s,a*2,n),l=0;l<a*2;l++)i[l]=null,s[l]=null;return c};function Rt(t,e,r,n){us.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Je(e,16),this.y=new Je(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}nc(Rt,us.BasePoint);pr.prototype.point=function(e,r,n){return new Rt(this,e,r,n)};pr.prototype.pointFromJSON=function(e,r){return Rt.fromJSON(this,e,r)};Rt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Rt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Rt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};Rt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Rt.prototype.isInfinity=function(){return this.inf};Rt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Rt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Rt.prototype.getX=function(){return this.x.fromRed()};Rt.prototype.getY=function(){return this.y.fromRed()};Rt.prototype.mul=function(e){return e=new Je(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Rt.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Rt.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Rt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Rt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Rt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Nt(t,e,r,n){us.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Je(0)):(this.x=new Je(e,16),this.y=new Je(r,16),this.z=new Je(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}nc(Nt,us.BasePoint);pr.prototype.jpoint=function(e,r,n){return new Nt(this,e,r,n)};Nt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Nt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Nt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),u=a.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),l=c.redMul(f),y=i.redMul(c),x=u.redSqr().redIAdd(l).redISub(y).redISub(y),v=u.redMul(y.redISub(x)).redISub(a.redMul(l)),b=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(x,v,b)};Nt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=s.redSub(a);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=n.redMul(u),y=f.redSqr().redIAdd(c).redISub(l).redISub(l),x=f.redMul(l.redISub(y)).redISub(s.redMul(c)),v=this.z.redMul(o);return this.curve.jpoint(y,x,v)};Nt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<e;r++){var l=a.redSqr(),y=c.redSqr(),x=y.redSqr(),v=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(u)),b=a.redMul(y),_=v.redSqr().redISub(b.redAdd(b)),A=b.redISub(_),M=v.redMul(A);M=M.redIAdd(M).redISub(x);var q=c.redMul(f);r+1<e&&(u=u.redMul(x)),a=_,f=q,c=M}return this.curve.jpoint(a,c.redMul(s),f)};Nt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Nt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),u=f.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),y=this.y.redSqr(),x=y.redSqr(),v=this.x.redAdd(y).redSqr().redISub(l).redISub(x);v=v.redIAdd(v);var b=l.redAdd(l).redIAdd(l),_=b.redSqr(),A=x.redIAdd(x);A=A.redIAdd(A),A=A.redIAdd(A),e=_.redISub(v).redISub(v),r=b.redMul(v.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Nt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),y=this.y.redSqr(),x=this.x.redMul(y),v=this.x.redSub(l).redMul(this.x.redAdd(l));v=v.redAdd(v).redIAdd(v);var b=x.redIAdd(x);b=b.redIAdd(b);var _=b.redAdd(b);e=v.redSqr().redISub(_),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(l);var A=y.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=v.redMul(b.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};Nt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),f=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),l=f.redSqr().redISub(c.redAdd(c)),y=c.redISub(l),x=o.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var v=f.redMul(y).redISub(x),b=n.redAdd(n).redMul(i);return this.curve.jpoint(l,v,b)};Nt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var f=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=s.redIAdd(o).redSqr().redISub(a).redISub(f).redISub(u),l=r.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var y=this.x.redMul(f).redISub(l);y=y.redIAdd(y),y=y.redIAdd(y);var x=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var v=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(y,x,v)};Nt.prototype.mul=function(e,r){return e=new Je(e,r),this.curve._wnafMul(this,e)};Nt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Nt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Nt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Nt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var G2=I((tM,$2)=>{"use strict";var cs=Wr(),j2=ya(),ef=pa(),IE=rr();function hs(t){ef.call(this,"mont",t),this.a=new cs(t.a,16).toRed(this.red),this.b=new cs(t.b,16).toRed(this.red),this.i4=new cs(4).toRed(this.red).redInvm(),this.two=new cs(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}j2(hs,ef);$2.exports=hs;hs.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function qt(t,e,r){ef.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new cs(e,16),this.z=new cs(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}j2(qt,ef.BasePoint);hs.prototype.decodePoint=function(e,r){return this.point(IE.toArray(e,r),1)};hs.prototype.point=function(e,r){return new qt(this,e,r)};hs.prototype.pointFromJSON=function(e){return qt.fromJSON(this,e)};qt.prototype.precompute=function(){};qt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};qt.fromJSON=function(e,r){return new qt(e,r[0],r[1]||e.one)};qt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};qt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,o)};qt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};qt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),f=s.redMul(i),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};qt.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};qt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};qt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};qt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};qt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};qt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Q2=I((rM,W2)=>{"use strict";var CE=rr(),mn=Wr(),Y2=ya(),tf=pa(),TE=CE.assert;function Qr(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,tf.call(this,"edwards",t),this.a=new mn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new mn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new mn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),TE(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}Y2(Qr,tf);W2.exports=Qr;Qr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Qr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Qr.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Qr.prototype.pointFromX=function(e,r){e=new mn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Qr.prototype.pointFromY=function(e,r){e=new mn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Qr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Ke(t,e,r,n,i){tf.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new mn(e,16),this.y=new mn(r,16),this.z=n?new mn(n,16):this.curve.one,this.t=i&&new mn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Y2(Ke,tf.BasePoint);Qr.prototype.pointFromJSON=function(e){return Ke.fromJSON(this,e)};Qr.prototype.point=function(e,r,n,i){return new Ke(this,e,r,n,i)};Ke.fromJSON=function(e,r){return new Ke(e,r[0],r[1],r[2])};Ke.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ke.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ke.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),o=a.redSub(n),f=i.redSub(r),u=s.redMul(o),c=a.redMul(f),l=s.redMul(f),y=o.redMul(a);return this.curve.point(u,c,y,l)};Ke.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),s=c.redMul(o.redSub(n)),a=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(u),s=c.redMul(o.redSub(n)),a=c.redMul(u))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(u),s=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(u);return this.curve.point(i,s,a)};Ke.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ke.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=s.redSub(i),f=s.redAdd(i),u=n.redAdd(r),c=a.redMul(o),l=f.redMul(u),y=a.redMul(u),x=o.redMul(f);return this.curve.point(c,l,x,y)};Ke.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),o=n.redSub(a),f=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),c=r.redMul(o).redMul(u),l,y;return this.curve.twisted?(l=r.redMul(f).redMul(s.redSub(this.curve._mulA(i))),y=o.redMul(f)):(l=r.redMul(f).redMul(s.redSub(i)),y=this.curve._mulC(o).redMul(f)),this.curve.point(c,l,y)};Ke.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ke.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ke.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ke.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ke.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ke.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ke.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ke.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ke.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ke.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ke.prototype.toP=Ke.prototype.normalize;Ke.prototype.mixedAdd=Ke.prototype.add});var ic=I(J2=>{"use strict";var rf=J2;rf.base=pa();rf.short=H2();rf.mont=G2();rf.edwards=Q2()});var Ar=I(Ne=>{"use strict";var PE=Kn(),ME=ya();Ne.inherits=ME;function RE(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function qE(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):RE(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ne.toArray=qE;function kE(t){for(var e="",r=0;r<t.length;r++)e+=X2(t[r].toString(16));return e}Ne.toHex=kE;function Z2(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ne.htonl=Z2;function LE(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Z2(i)),r+=eb(i.toString(16))}return r}Ne.toHex32=LE;function X2(t){return t.length===1?"0"+t:t}Ne.zero2=X2;function eb(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ne.zero8=eb;function NE(t,e,r,n){var i=r-e;PE(i%4==0);for(var s=new Array(i/4),a=0,o=e;a<s.length;a++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=f>>>0}return s}Ne.join32=NE;function DE(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Ne.split32=DE;function OE(t,e){return t>>>e|t<<32-e}Ne.rotr32=OE;function KE(t,e){return t<<e|t>>>32-e}Ne.rotl32=KE;function FE(t,e){return t+e>>>0}Ne.sum32=FE;function UE(t,e,r){return t+e+r>>>0}Ne.sum32_3=UE;function zE(t,e,r,n){return t+e+r+n>>>0}Ne.sum32_4=zE;function VE(t,e,r,n,i){return t+e+r+n+i>>>0}Ne.sum32_5=VE;function HE(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,o=(a<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=a}Ne.sum64=HE;function jE(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Ne.sum64_hi=jE;function $E(t,e,r,n){var i=e+n;return i>>>0}Ne.sum64_lo=$E;function GE(t,e,r,n,i,s,a,o){var f=0,u=e;u=u+n>>>0,f+=u<e?1:0,u=u+s>>>0,f+=u<s?1:0,u=u+o>>>0,f+=u<o?1:0;var c=t+r+i+a+f;return c>>>0}Ne.sum64_4_hi=GE;function YE(t,e,r,n,i,s,a,o){var f=e+n+s+o;return f>>>0}Ne.sum64_4_lo=YE;function WE(t,e,r,n,i,s,a,o,f,u){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+u>>>0,c+=l<u?1:0;var y=t+r+i+a+f+c;return y>>>0}Ne.sum64_5_hi=WE;function QE(t,e,r,n,i,s,a,o,f,u){var c=e+n+s+o+u;return c>>>0}Ne.sum64_5_lo=QE;function JE(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ne.rotr64_hi=JE;function ZE(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.rotr64_lo=ZE;function XE(t,e,r){return t>>>r}Ne.shr64_hi=XE;function eS(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.shr64_lo=eS});var ls=I(rb=>{"use strict";var tb=Ar(),tS=Kn();function nf(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}rb.BlockHash=nf;nf.prototype.update=function(e,r){if(e=tb.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=tb.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};nf.prototype.digest=function(e){return this.update(this._pad()),tS(this.pending===null),this._digest(e)};nf.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i}});var sc=I(xn=>{"use strict";var rS=Ar(),Jr=rS.rotr32;function nS(t,e,r,n){if(t===0)return nb(e,r,n);if(t===1||t===3)return sb(e,r,n);if(t===2)return ib(e,r,n)}xn.ft_1=nS;function nb(t,e,r){return t&e^~t&r}xn.ch32=nb;function ib(t,e,r){return t&e^t&r^e&r}xn.maj32=ib;function sb(t,e,r){return t^e^r}xn.p32=sb;function iS(t){return Jr(t,2)^Jr(t,13)^Jr(t,22)}xn.s0_256=iS;function sS(t){return Jr(t,6)^Jr(t,11)^Jr(t,25)}xn.s1_256=sS;function aS(t){return Jr(t,7)^Jr(t,18)^t>>>3}xn.g0_256=aS;function oS(t){return Jr(t,17)^Jr(t,19)^t>>>10}xn.g1_256=oS});var fb=I((oM,ob)=>{"use strict";var ds=Ar(),fS=ls(),uS=sc(),ac=ds.rotl32,ba=ds.sum32,cS=ds.sum32_5,hS=uS.ft_1,ab=fS.BlockHash,lS=[1518500249,1859775393,2400959708,3395469782];function Zr(){if(!(this instanceof Zr))return new Zr;ab.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ds.inherits(Zr,ab);ob.exports=Zr;Zr.blockSize=512;Zr.outSize=160;Zr.hmacStrength=80;Zr.padLength=64;Zr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=ac(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),l=cS(ac(s,5),hS(c,a,o,f),u,n[i],lS[c]);u=f,f=o,o=ac(a,30),a=s,s=l}this.h[0]=ba(this.h[0],s),this.h[1]=ba(this.h[1],a),this.h[2]=ba(this.h[2],o),this.h[3]=ba(this.h[3],f),this.h[4]=ba(this.h[4],u)};Zr.prototype._digest=function(e){return e==="hex"?ds.toHex32(this.h,"big"):ds.split32(this.h,"big")}});var oc=I((fM,cb)=>{"use strict";var ps=Ar(),dS=ls(),ys=sc(),pS=Kn(),Br=ps.sum32,yS=ps.sum32_4,bS=ps.sum32_5,vS=ys.ch32,gS=ys.maj32,mS=ys.s0_256,xS=ys.s1_256,wS=ys.g0_256,ES=ys.g1_256,ub=dS.BlockHash,SS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xr(){if(!(this instanceof Xr))return new Xr;ub.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=SS,this.W=new Array(64)}ps.inherits(Xr,ub);cb.exports=Xr;Xr.blockSize=512;Xr.outSize=256;Xr.hmacStrength=192;Xr.padLength=64;Xr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=yS(ES(n[i-2]),n[i-7],wS(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],y=this.h[7];for(pS(this.k.length===n.length),i=0;i<n.length;i++){var x=bS(y,xS(u),vS(u,c,l),this.k[i],n[i]),v=Br(mS(s),gS(s,a,o));y=l,l=c,c=u,u=Br(f,x),f=o,o=a,a=s,s=Br(x,v)}this.h[0]=Br(this.h[0],s),this.h[1]=Br(this.h[1],a),this.h[2]=Br(this.h[2],o),this.h[3]=Br(this.h[3],f),this.h[4]=Br(this.h[4],u),this.h[5]=Br(this.h[5],c),this.h[6]=Br(this.h[6],l),this.h[7]=Br(this.h[7],y)};Xr.prototype._digest=function(e){return e==="hex"?ps.toHex32(this.h,"big"):ps.split32(this.h,"big")}});var db=I((uM,lb)=>{"use strict";var fc=Ar(),hb=oc();function wn(){if(!(this instanceof wn))return new wn;hb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}fc.inherits(wn,hb);lb.exports=wn;wn.blockSize=512;wn.outSize=224;wn.hmacStrength=192;wn.padLength=64;wn.prototype._digest=function(e){return e==="hex"?fc.toHex32(this.h.slice(0,7),"big"):fc.split32(this.h.slice(0,7),"big")}});var hc=I((cM,vb)=>{"use strict";var Zt=Ar(),_S=ls(),AS=Kn(),en=Zt.rotr64_hi,tn=Zt.rotr64_lo,pb=Zt.shr64_hi,yb=Zt.shr64_lo,zn=Zt.sum64,uc=Zt.sum64_hi,cc=Zt.sum64_lo,BS=Zt.sum64_4_hi,IS=Zt.sum64_4_lo,CS=Zt.sum64_5_hi,TS=Zt.sum64_5_lo,bb=_S.BlockHash,PS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ir(){if(!(this instanceof Ir))return new Ir;bb.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=PS,this.W=new Array(160)}Zt.inherits(Ir,bb);vb.exports=Ir;Ir.blockSize=1024;Ir.outSize=512;Ir.hmacStrength=192;Ir.padLength=128;Ir.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=US(n[i-4],n[i-3]),a=zS(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],u=KS(n[i-30],n[i-29]),c=FS(n[i-30],n[i-29]),l=n[i-32],y=n[i-31];n[i]=BS(s,a,o,f,u,c,l,y),n[i+1]=IS(s,a,o,f,u,c,l,y)}};Ir.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],y=this.h[8],x=this.h[9],v=this.h[10],b=this.h[11],_=this.h[12],A=this.h[13],M=this.h[14],q=this.h[15];AS(this.k.length===n.length);for(var z=0;z<n.length;z+=2){var O=M,U=q,G=DS(y,x),H=OS(y,x),X=MS(y,x,v,b,_,A),B=RS(y,x,v,b,_,A),h=this.k[z],p=this.k[z+1],g=n[z],m=n[z+1],w=CS(O,U,G,H,X,B,h,p,g,m),T=TS(O,U,G,H,X,B,h,p,g,m);O=LS(i,s),U=NS(i,s),G=qS(i,s,a,o,f,u),H=kS(i,s,a,o,f,u);var C=uc(O,U,G,H),E=cc(O,U,G,H);M=_,q=A,_=v,A=b,v=y,b=x,y=uc(c,l,w,T),x=cc(l,l,w,T),c=f,l=u,f=a,u=o,a=i,o=s,i=uc(w,T,C,E),s=cc(w,T,C,E)}zn(this.h,0,i,s),zn(this.h,2,a,o),zn(this.h,4,f,u),zn(this.h,6,c,l),zn(this.h,8,y,x),zn(this.h,10,v,b),zn(this.h,12,_,A),zn(this.h,14,M,q)};Ir.prototype._digest=function(e){return e==="hex"?Zt.toHex32(this.h,"big"):Zt.split32(this.h,"big")};function MS(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function RS(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}function qS(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function kS(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}function LS(t,e){var r=en(t,e,28),n=en(e,t,2),i=en(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function NS(t,e){var r=tn(t,e,28),n=tn(e,t,2),i=tn(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DS(t,e){var r=en(t,e,14),n=en(t,e,18),i=en(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function OS(t,e){var r=tn(t,e,14),n=tn(t,e,18),i=tn(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function KS(t,e){var r=en(t,e,1),n=en(t,e,8),i=pb(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function FS(t,e){var r=tn(t,e,1),n=tn(t,e,8),i=yb(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function US(t,e){var r=en(t,e,19),n=en(e,t,29),i=pb(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function zS(t,e){var r=tn(t,e,19),n=tn(e,t,29),i=yb(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}});var xb=I((hM,mb)=>{"use strict";var lc=Ar(),gb=hc();function En(){if(!(this instanceof En))return new En;gb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}lc.inherits(En,gb);mb.exports=En;En.blockSize=1024;En.outSize=384;En.hmacStrength=192;En.padLength=128;En.prototype._digest=function(e){return e==="hex"?lc.toHex32(this.h.slice(0,12),"big"):lc.split32(this.h.slice(0,12),"big")}});var wb=I(bs=>{"use strict";bs.sha1=fb();bs.sha224=db();bs.sha256=oc();bs.sha384=xb();bs.sha512=hc()});var Ib=I(Bb=>{"use strict";var vi=Ar(),VS=ls(),sf=vi.rotl32,Eb=vi.sum32,va=vi.sum32_3,Sb=vi.sum32_4,_b=VS.BlockHash;function rn(){if(!(this instanceof rn))return new rn;_b.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}vi.inherits(rn,_b);Bb.ripemd160=rn;rn.blockSize=512;rn.outSize=160;rn.hmacStrength=192;rn.padLength=64;rn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],f=n,u=i,c=s,l=a,y=o,x=0;x<80;x++){var v=Eb(sf(Sb(n,Ab(x,i,s,a),e[$S[x]+r],HS(x)),YS[x]),o);n=o,o=a,a=sf(s,10),s=i,i=v,v=Eb(sf(Sb(f,Ab(79-x,u,c,l),e[GS[x]+r],jS(x)),WS[x]),y),f=y,y=l,l=sf(c,10),c=u,u=v}v=va(this.h[1],s,l),this.h[1]=va(this.h[2],a,y),this.h[2]=va(this.h[3],o,f),this.h[3]=va(this.h[4],n,u),this.h[4]=va(this.h[0],i,c),this.h[0]=v};rn.prototype._digest=function(e){return e==="hex"?vi.toHex32(this.h,"little"):vi.split32(this.h,"little")};function Ab(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function HS(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function jS(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var $S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],GS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],YS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],WS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Tb=I((pM,Cb)=>{"use strict";var QS=Ar(),JS=Kn();function vs(t,e,r){if(!(this instanceof vs))return new vs(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(QS.toArray(e,r))}Cb.exports=vs;vs.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),JS(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};vs.prototype.update=function(e,r){return this.inner.update(e,r),this};vs.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var af=I(Pb=>{var Dt=Pb;Dt.utils=Ar();Dt.common=ls();Dt.sha=wb();Dt.ripemd=Ib();Dt.hmac=Tb();Dt.sha1=Dt.sha.sha1;Dt.sha256=Dt.sha.sha256;Dt.sha224=Dt.sha.sha224;Dt.sha384=Dt.sha.sha384;Dt.sha512=Dt.sha.sha512;Dt.ripemd160=Dt.ripemd.ripemd160});var Rb=I((bM,Mb)=>{Mb.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var of=I(Lb=>{"use strict";var dc=Lb,Vn=af(),pc=ic(),ZS=rr(),qb=ZS.assert;function kb(t){t.type==="short"?this.curve=new pc.short(t):t.type==="edwards"?this.curve=new pc.edwards(t):this.curve=new pc.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,qb(this.g.validate(),"Invalid curve"),qb(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}dc.PresetCurve=kb;function Hn(t,e){Object.defineProperty(dc,t,{configurable:!0,enumerable:!0,get:function(){var r=new kb(e);return Object.defineProperty(dc,t,{configurable:!0,enumerable:!0,value:r}),r}})}Hn("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Vn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Hn("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Vn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Hn("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Vn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Hn("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Vn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Hn("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Vn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Hn("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vn.sha256,gRed:!1,g:["9"]});Hn("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var yc;try{yc=Rb()}catch(t){yc=void 0}Hn("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Vn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",yc]})});var Ob=I((gM,Db)=>{"use strict";var XS=af(),gi=Ju(),Nb=Kn();function jn(t){if(!(this instanceof jn))return new jn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=gi.toArray(t.entropy,t.entropyEnc||"hex"),r=gi.toArray(t.nonce,t.nonceEnc||"hex"),n=gi.toArray(t.pers,t.persEnc||"hex");Nb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}Db.exports=jn;jn.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};jn.prototype._hmac=function(){return new XS.hmac(this.hash,this.K)};jn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};jn.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=gi.toArray(e,r),n=gi.toArray(n,i),Nb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};jn.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=gi.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,gi.encode(a,r)}});var Fb=I((mM,Kb)=>{"use strict";var e_=Wr(),t_=rr(),bc=t_.assert;function Ft(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Kb.exports=Ft;Ft.fromPublic=function(e,r,n){return r instanceof Ft?r:new Ft(e,{pub:r,pubEnc:n})};Ft.fromPrivate=function(e,r,n){return r instanceof Ft?r:new Ft(e,{priv:r,privEnc:n})};Ft.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ft.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ft.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ft.prototype._importPrivate=function(e,r){this.priv=new e_(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ft.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?bc(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&bc(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ft.prototype.derive=function(e){return e.validate()||bc(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ft.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ft.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ft.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Vb=I((xM,zb)=>{"use strict";var ff=Wr(),vc=rr(),r_=vc.assert;function uf(t,e){if(t instanceof uf)return t;this._importDER(t,e)||(r_(t.r&&t.s,"Signature without r or s"),this.r=new ff(t.r,16),this.s=new ff(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}zb.exports=uf;function n_(){this.place=0}function gc(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function Ub(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}uf.prototype._importDER=function(e,r){e=vc.toArray(e,r);var n=new n_;if(e[n.place++]!==48)return!1;var i=gc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=gc(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=gc(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new ff(a),this.s=new ff(f),this.recoveryParam=null,!0};function mc(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}uf.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Ub(r),n=Ub(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];mc(i,r.length),i=i.concat(r),i.push(2),mc(i,n.length);var s=i.concat(n),a=[48];return mc(a,s.length),a=a.concat(s),vc.encode(a,e)}});var Gb=I((wM,$b)=>{"use strict";var mi=Wr(),Hb=Ob(),i_=rr(),xc=of(),s_=tc(),jb=i_.assert,wc=Fb(),cf=Vb();function yr(t){if(!(this instanceof yr))return new yr(t);typeof t=="string"&&(jb(Object.prototype.hasOwnProperty.call(xc,t),"Unknown curve "+t),t=xc[t]),t instanceof xc.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}$b.exports=yr;yr.prototype.keyPair=function(e){return new wc(this,e)};yr.prototype.keyFromPrivate=function(e,r){return wc.fromPrivate(this,e,r)};yr.prototype.keyFromPublic=function(e,r){return wc.fromPublic(this,e,r)};yr.prototype.genKeyPair=function(e){e||(e={});for(var r=new Hb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new mi(2));;){var s=new mi(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};yr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new mi(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),f=new Hb({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new mi(1)),c=0;;c++){var l=i.k?i.k(c):new mi(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var y=this.g.mul(l);if(!y.isInfinity()){var x=y.getX(),v=x.umod(this.n);if(v.cmpn(0)!==0){var b=l.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var _=(y.getY().isOdd()?1:0)|(x.cmp(v)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),_^=1),new cf({r:v,s:b,recoveryParam:_})}}}}}};yr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new mi(e,16)),n=this.keyFromPublic(n,i),r=new cf(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),f=o.mul(e).umod(this.n),u=o.mul(s).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(s)):(c=this.g.mulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(s)===0)};yr.prototype.recoverPubKey=function(t,e,r,n){jb((3&r)===r,"The recovery param is more than two bits"),e=new cf(e,n);var i=this.n,s=new mi(t),a=e.r,o=e.s,f=r&1,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),f):a=this.curve.pointFromX(a,f);var c=e.r.invm(i),l=i.sub(s).mul(c).umod(i),y=o.mul(c).umod(i);return this.g.mulAdd(l,a,y)};yr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new cf(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(a){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Jb=I((EM,Qb)=>{"use strict";var ga=rr(),Yb=ga.assert,Wb=ga.parseBytes,gs=ga.cachedProperty;function kt(t,e){this.eddsa=t,this._secret=Wb(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Wb(e.pub)}kt.fromPublic=function(e,r){return r instanceof kt?r:new kt(e,{pub:r})};kt.fromSecret=function(e,r){return r instanceof kt?r:new kt(e,{secret:r})};kt.prototype.secret=function(){return this._secret};gs(kt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});gs(kt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});gs(kt,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});gs(kt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});gs(kt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});gs(kt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});kt.prototype.sign=function(e){return Yb(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};kt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};kt.prototype.getSecret=function(e){return Yb(this._secret,"KeyPair is public only"),ga.encode(this.secret(),e)};kt.prototype.getPublic=function(e){return ga.encode(this.pubBytes(),e)};Qb.exports=kt});var Xb=I((SM,Zb)=>{"use strict";var a_=Wr(),hf=rr(),o_=hf.assert,lf=hf.cachedProperty,f_=hf.parseBytes;function xi(t,e){this.eddsa=t,typeof e!="object"&&(e=f_(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o_(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof a_&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}lf(xi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});lf(xi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});lf(xi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});lf(xi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});xi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};xi.prototype.toHex=function(){return hf.encode(this.toBytes(),"hex").toUpperCase()};Zb.exports=xi});var iv=I((_M,nv)=>{"use strict";var u_=af(),c_=of(),ms=rr(),h_=ms.assert,ev=ms.parseBytes,tv=Jb(),rv=Xb();function Xt(t){if(h_(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Xt))return new Xt(t);t=c_[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=u_.sha512}nv.exports=Xt;Xt.prototype.sign=function(e,r){e=ev(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:f,Rencoded:a})};Xt.prototype.verify=function(e,r,n){e=ev(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(i.pub().mul(s));return o.eq(a)};Xt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ms.intFromLE(e.digest()).umod(this.curve.n)};Xt.prototype.keyFromPublic=function(e){return tv.fromPublic(this,e)};Xt.prototype.keyFromSecret=function(e){return tv.fromSecret(this,e)};Xt.prototype.makeSignature=function(e){return e instanceof rv?e:new rv(this,e)};Xt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Xt.prototype.decodePoint=function(e){e=ms.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,s=ms.intFromLE(n);return this.curve.pointFromY(s,i)};Xt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Xt.prototype.decodeInt=function(e){return ms.intFromLE(e)};Xt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var av=I(sv=>{"use strict";var wi=sv;wi.version=q2().version;wi.utils=rr();wi.rand=tc();wi.curve=ic();wi.curves=of();wi.ec=Gb();wi.eddsa=iv()});var fv=I((BM,ov)=>{var l_=av().ec,nn=new l_("secp256k1"),we=nn.curve,De=we.n.constructor;function d_(t,e){let r=new De(e);if(r.cmp(we.p)>=0)return null;r=r.toRed(we.red);let n=r.redSqr().redIMul(r).redIAdd(we.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),nn.keyPair({pub:{x:r,y:n}})}function p_(t,e,r){let n=new De(e),i=new De(r);if(n.cmp(we.p)>=0||i.cmp(we.p)>=0||(n=n.toRed(we.red),i=i.toRed(we.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(we.b)).isZero()?nn.keyPair({pub:{x:n,y:i}}):null}function $n(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:d_(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:p_(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Ei(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}ov.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new De(t);return e.cmp(we.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new De(t),r=we.n.sub(e).umod(we.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new De(e);if(r.cmp(we.n)>=0||(r.iadd(new De(t)),r.cmp(we.n)>=0&&r.isub(we.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new De(e);if(r.cmp(we.n)>=0||r.isZero())return 1;r.imul(new De(t)),r.cmp(we.n)>=0&&(r=r.umod(we.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return $n(t)===null?1:0},publicKeyCreate(t,e){let r=new De(e);if(r.cmp(we.n)>=0||r.isZero())return 1;let n=nn.keyFromPrivate(e).getPublic();return Ei(t,n),0},publicKeyConvert(t,e){let r=$n(e);if(r===null)return 1;let n=r.getPublic();return Ei(t,n),0},publicKeyNegate(t,e){let r=$n(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Ei(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=$n(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Ei(t,n),0)},publicKeyTweakAdd(t,e,r){let n=$n(e);if(n===null)return 1;if(r=new De(r),r.cmp(we.n)>=0)return 2;let i=n.getPublic().add(we.g.mul(r));return i.isInfinity()?2:(Ei(t,i),0)},publicKeyTweakMul(t,e,r){let n=$n(e);if(n===null)return 1;if(r=new De(r),r.cmp(we.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Ei(t,i),0},signatureNormalize(t){let e=new De(t.subarray(0,32)),r=new De(t.subarray(32,64));return e.cmp(we.n)>=0||r.cmp(we.n)>=0?1:(r.cmp(nn.nh)===1&&t.set(we.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new De(r).cmp(we.n)>=0||new De(n).cmp(we.n)>=0)return 1;let{output:i}=t,s=i.subarray(4,4+33);s[0]=0,s.set(r,1);let a=33,o=0;for(;a>1&&s[o]===0&&!(s[o+1]&128);--a,++o);if(s=s.subarray(o),s[0]&128||a>1&&s[0]===0&&!(s[1]&128))return 1;let f=i.subarray(6+33,6+33+33);f[0]=0,f.set(n,1);let u=33,c=0;for(;u>1&&f[c]===0&&!(f[c+1]&128);--u,++c);return f=f.subarray(c),f[0]&128||u>1&&f[0]===0&&!(f[1]&128)?1:(t.outputlen=6+a+u,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=s.length,i.set(s,4),i[4+a]=2,i[5+a]=f.length,i.set(f,6+a),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let a=new De(i);a.cmp(we.n)>=0&&(a=new De(0));let o=new De(e.subarray(6+r));return o.cmp(we.n)>=0&&(o=new De(0)),t.set(a.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let o=i;i=f=>{let u=o(e,r,null,n,f);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new De(u)}}let s=new De(r);if(s.cmp(we.n)>=0||s.isZero())return 1;let a;try{a=nn.sign(e,r,{canonical:!0,k:i,pers:n})}catch(o){return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new De(n.r),s=new De(n.s);if(i.cmp(we.n)>=0||s.cmp(we.n)>=0)return 1;if(s.cmp(nn.nh)===1||i.isZero()||s.isZero())return 3;let a=$n(r);if(a===null)return 2;let o=a.getPublic();return nn.verify(e,n,o)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},s=new De(i.r),a=new De(i.s);if(s.cmp(we.n)>=0||a.cmp(we.n)>=0)return 1;if(s.isZero()||a.isZero())return 2;let o;try{o=nn.recoverPubKey(n,i,r)}catch(f){return 2}return Ei(t,o),0},ecdh(t,e,r,n,i,s,a){let o=$n(e);if(o===null)return 1;let f=new De(r);if(f.cmp(we.n)>=0||f.isZero())return 2;let u=o.getPublic().mul(f);if(i===void 0){let c=u.encode(null,!0),l=nn.hash().update(c).digest();for(let y=0;y<32;++y)t[y]=l[y]}else{s||(s=new Uint8Array(32));let c=u.getX().toArray("be",32);for(let v=0;v<32;++v)s[v]=c[v];a||(a=new Uint8Array(32));let l=u.getY().toArray("be",32);for(let v=0;v<32;++v)a[v]=l[v];let y=i(s,a,n);if(!(y instanceof Uint8Array&&y.length===t.length))return 2;t.set(y)}return 0}}});var cv=I((IM,uv)=>{uv.exports=R2()(fv())});var dv=I((CM,lv)=>{"use strict";var Cr=cv(),{sha256:hv}=(un(),Or);lv.exports=t=>{let e=32;function r(){let c;do c=t(32);while(!Cr.privateKeyVerify(c));return c}async function n(c,l){let{digest:y}=await hv.digest(l),x=Cr.ecdsaSign(y,c);return Cr.signatureExport(x.signature)}async function i(c,l,y){let{digest:x}=await hv.digest(y);return l=Cr.signatureImport(l),Cr.ecdsaVerify(l,x,c)}function s(c){if(!Cr.publicKeyVerify(c))throw new Error("Invalid public key");return Cr.publicKeyConvert(c,!0)}function a(c){return Cr.publicKeyConvert(c,!1)}function o(c){if(!Cr.privateKeyVerify(c))throw new Error("Invalid private key")}function f(c){if(!Cr.publicKeyVerify(c))throw new Error("Invalid public key")}function u(c){return o(c),Cr.publicKeyCreate(c)}return{generateKey:r,privateKeyLength:e,hashAndSign:n,hashAndVerify:i,compressPublicKey:s,decompressPublicKey:a,validatePrivateKey:o,validatePublicKey:f,computePublicKey:u}}});var vv=I((TM,bv)=>{"use strict";var{sha256:pv}=(un(),Or),y_=ke(),yv=oa(),b_=Nn(),v_=Ho();bv.exports=(t,e,r)=>{r=r||dv()(e);class n{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,c){return r.hashAndVerify(this._key,c,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return yv(this.bytes,u.bytes)}async hash(){let{bytes:u}=await pv.digest(this.bytes);return u}}class i{constructor(u,c){this._key=u,this._publicKey=c||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return yv(this.bytes,u.bytes)}async hash(){let{bytes:u}=await pv.digest(this.bytes);return u}async id(){let u=await this.public.hash();return b_(u,"base58btc")}async export(u,c="libp2p-key"){if(c==="libp2p-key")return v_.export(this.bytes,u);throw y_(new Error(`export format '${c}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(f){return new i(f)}function a(f){return new n(f)}async function o(){let f=await r.generateKey();return new i(f)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:o}}});var mv=I((PM,gv)=>{"use strict";gv.exports={SHA1:20,SHA256:32,SHA512:64}});var Ec=I(wv=>{"use strict";var xv=aa(),g_=mv(),m_={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},x_=async(t,e)=>{let r=await xv.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};wv.create=async function(t,e){let r=m_[t],n=await xv.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return x_(n,i)},length:g_[t]}}});var Bv=I((RM,Av)=>{"use strict";var Ev=ke(),Sv=sa(),w_=Ln(),E_=Ec(),_v={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};Av.exports=async(t,e,r)=>{let n=_v[t];if(!n){let M=Object.keys(_v).join(" / ");throw Ev(new Error(`unknown cipher type '${t}'. Must be ${M}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw Ev(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,s=n.ivSize,a=20,o=w_("key expansion"),f=2*(s+i+a),u=await E_.create(e,r),c=await u.digest(o),l=[],y=0;for(;y<f;){let M=await u.digest(Sv([c,o])),q=M.length;y+q>f&&(q=f-y),l.push(M),y+=q,c=await u.digest(c)}let x=f/2,v=Sv(l),b=v.slice(0,x),_=v.slice(x,f),A=M=>({iv:M.slice(0,s),cipherKey:M.slice(s,s+i),macKey:M.slice(s+i)});return{k1:A(b),k2:A(_)}}});var Cv=I((qM,Iv)=>{"use strict";var S_=ke();Iv.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw S_(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var kv=I(qv=>{"use strict";var __=ke(),ma=aa(),{base64urlToBuffer:Tv}=Vo(),A_=Cv(),Sc=Nn(),B_=sa(),I_=oa(),Pv={"P-256":256,"P-384":384,"P-521":521};qv.generateEphmeralKeyPair=async function(t){A_(Object.keys(Pv),t);let e=await ma.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(i,s)=>{let a;s?a=await ma.get().subtle.importKey("jwk",T_(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):a=e.privateKey;let o=[await ma.get().subtle.importKey("jwk",Rv(t,i),{name:"ECDH",namedCurve:t},!1,[]),a],f=await ma.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],Pv[t]);return new Uint8Array(f,f.byteOffset,f.byteLength)},n=await ma.get().subtle.exportKey("jwk",e.publicKey);return{key:C_(n),genSharedKey:r}};var Mv={"P-256":32,"P-384":48,"P-521":66};function C_(t){let e=Mv[t.crv];return B_([Uint8Array.from([4]),Tv(t.x,e),Tv(t.y,e)],1+e*2)}function Rv(t,e){let r=Mv[t];if(I_(!e.slice(0,1),Uint8Array.from([4])))throw __(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Sc(e.slice(1,r+1),"base64url"),y:Sc(e.slice(1+r),"base64url"),ext:!0}}var T_=(t,e)=>({...Rv(t,e.public),d:Sc(e.private,"base64url")})});var Nv=I((LM,Lv)=>{"use strict";var P_=kv();Lv.exports=async t=>P_.generateEphmeralKeyPair(t)});var Ac=I((NM,Ov)=>{"use strict";var sn=xo();Ji();Iy();var _c=Be(),xa=ke(),M_=Ln(),R_=Oy(),br={rsa:_2(),ed25519:P2(),secp256k1:vv()(sn,zo())},df={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function xs(t){let e=br[t.toLowerCase()];if(!e){let r=Object.keys(br).join(" / ");throw xa(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var q_=async(t,e)=>xs(t).generateKeyPair(e),k_=async(t,e,r)=>{let n=xs(t);if(t.toLowerCase()!=="ed25519")throw xa(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(e,r)},L_=t=>{let e=sn.PublicKey.decode(t),r=e.Data;switch(e.Type){case sn.KeyType.RSA:return br.rsa.unmarshalRsaPublicKey(r);case sn.KeyType.Ed25519:return br.ed25519.unmarshalEd25519PublicKey(r);case sn.KeyType.Secp256k1:if(br.secp256k1)return br.secp256k1.unmarshalSecp256k1PublicKey(r);throw xa(new Error(df.message),df.code);default:xs(e.Type)}},N_=(t,e)=>(e=(e||"rsa").toLowerCase(),xs(e),t.bytes),Dv=async t=>{let e=sn.PrivateKey.decode(t),r=e.Data;switch(e.Type){case sn.KeyType.RSA:return br.rsa.unmarshalRsaPrivateKey(r);case sn.KeyType.Ed25519:return br.ed25519.unmarshalEd25519PrivateKey(r);case sn.KeyType.Secp256k1:if(br.secp256k1)return br.secp256k1.unmarshalSecp256k1PrivateKey(r);throw xa(new Error(df.message),df.code);default:xs(e.Type)}},D_=(t,e)=>(e=(e||"rsa").toLowerCase(),xs(e),t.bytes),O_=async(t,e)=>{try{let i=await R_.import(t,e);return Dv(i)}catch(i){}let r=_c.pki.decryptRsaPrivateKey(t,e);if(r===null)throw xa(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=_c.asn1.toDer(_c.pki.privateKeyToAsn1(r));return n=M_(n.getBytes(),"ascii"),br.rsa.unmarshalRsaPrivateKey(n)};Ov.exports={supportedKeys:br,keysPBM:sn,keyStretcher:Bv(),generateEphemeralKeyPair:Nv(),generateKeyPair:q_,generateKeyPairFromSeed:k_,unmarshalPublicKey:L_,marshalPublicKey:N_,unmarshalPrivateKey:Dv,marshalPrivateKey:D_,import:O_}});var Kv=I((DM,Bc)=>{"use strict";function K_(t,{className:e,symbolName:r}){let n=Symbol.for(r),i={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=s=>!!(s&&s[n]),i}function F_(t,{className:e,symbolName:r,withoutNew:n}){let i=Symbol.for(r),s={[e]:function(...a){if(n&&!(this instanceof s))return new s(...a);let o=t.call(this,...a)||this;return o&&!o[i]&&Object.defineProperty(o,i,{value:!0}),o}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=a=>!!(a&&a[i]),s}Bc.exports=K_;Bc.exports.proto=F_});var zv=I((OM,Uv)=>{"use strict";var ws=Ds(),Fv=ws.Reader,U_=ws.Writer,At=ws.util,wa=ws.roots["libp2p-peer-id"]||(ws.roots["libp2p-peer-id"]={});wa.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.id=At.newBuffer([]),t.prototype.pubKey=At.newBuffer([]),t.prototype.privKey=At.newBuffer([]),t.encode=function(r,n){return n||(n=U_.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},t.decode=function(r,n){r instanceof Fv||(r=Fv.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new wa.PeerIdProto;r.pos<i;){var a=r.uint32();switch(a>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("id"))throw At.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof wa.PeerIdProto)return r;var n=new wa.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?At.base64.decode(r.id,n.id=At.newBuffer(At.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?At.base64.decode(r.pubKey,n.pubKey=At.newBuffer(At.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?At.base64.decode(r.privKey,n.privKey=At.newBuffer(At.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=At.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=At.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=At.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?At.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?At.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?At.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,ws.util.toJSONOptions)},t}();Uv.exports=wa});var Hv=I((KM,Vv)=>{"use strict";function z_(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Vv.exports=z_});var Cc=I((FM,Yv)=>{"use strict";var{bases:jv}=(ri(),Fi);function $v(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Gv=$v("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Ic=$v("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),V_={utf8:Gv,"utf-8":Gv,hex:jv.base16,latin1:Ic,ascii:Ic,binary:Ic,...jv};Yv.exports=V_});var Qv=I((UM,Wv)=>{"use strict";var H_=Cc();function j_(t,e="utf8"){let r=H_[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}Wv.exports=j_});var Zv=I((zM,Jv)=>{"use strict";var $_=Cc();function G_(t,e="utf8"){let r=$_[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}Jv.exports=G_});var Es=I((Ut,ag)=>{"use strict";var{CID:Tc}=(ti(),Ki),Y_=(Ri(),Mi),W_=(R0(),Wa),Q_=(Dr(),Nr),J_=(Fs(),qi),{base58btc:Pc}=(Dr(),Nr),{base32:Z_}=(Ri(),Mi),{base16:Xv}=(M0(),Ya),Ea=(Di(),Ni),an=Ac(),X_=Kv(),{PeerIdProto:eg}=zv(),Si=Hv(),Sa=Qv(),eA=Zv(),{identity:pf}=(eo(),Vs),tg={...Y_,...W_,...Q_,...J_},tA=Object.keys(tg).reduce((t,e)=>t.or(tg[e]),Z_.decoder),rA=112,rg=114,ng=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!Si(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Pc.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=Ea.decode(this.id);e.code===pf.code&&(this._pubKey=an.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return an.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return an.marshalPrivateKey(this.privKey)}marshal(e){return eg.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:sg(this.marshalPrivKey()),pubKey:sg(this.marshalPubKey())}}toHexString(){return Xv.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=Tc.createV1(rg,Ea.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return Si(this.id,e);if(e.id)return Si(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&Si(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(Ea.decode(this.id).code===pf.code)return!0}catch(e){}return!1}},on=X_(ng,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ut=ag.exports=on;var _a=t=>t.bytes.length<=42?Ea.create(pf.code,t.bytes).bytes:t.hash(),Mc=async(t,e)=>{let r=await _a(e);return new on(r,t,e)};Ut.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await an.generateKeyPair(t.keyType,t.bits);return Mc(e,e.public)};Ut.createFromHexString=t=>new on(Xv.decode("f"+t));Ut.createFromBytes=t=>{try{let e=Tc.decode(t);if(!ig(e))throw new Error("Supplied PeerID CID is invalid");return Ut.createFromCID(e)}catch{if(Ea.decode(t).code!==pf.code)throw new Error("Supplied PeerID CID is invalid");return new on(t)}};Ut.createFromB58String=t=>Ut.createFromBytes(Pc.decode("z"+t));var ig=t=>t.code===rg||t.code===rA;Ut.createFromCID=t=>{if(t=Tc.asCID(t),!t||!ig(t))throw new Error("Supplied PeerID CID is invalid");return new on(t.multihash.bytes)};Ut.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=Sa(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await an.unmarshalPublicKey(e);return Mc(void 0,r)};Ut.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=Sa(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await an.unmarshalPrivateKey(t);return Mc(e,e.public)};Ut.createFromJSON=async t=>{let e=Pc.decode("z"+t.id),r=t.privKey&&Sa(t.privKey,"base64pad"),n=t.pubKey&&Sa(t.pubKey,"base64pad"),i=n&&await an.unmarshalPublicKey(n);if(!r)return new on(e,void 0,i);let s=await an.unmarshalPrivateKey(r),a=await _a(s.public),o;if(i&&(o=await _a(i)),i&&!Si(a,o))throw new Error("Public and private key do not match");if(e&&!Si(a,e))throw new Error("Id and private key do not match");return new on(e,s,i)};Ut.createFromProtobuf=async t=>{typeof t=="string"&&(t=Sa(t,"base16"));let{id:e,privKey:r,pubKey:n}=eg.decode(t);r=r?await an.unmarshalPrivateKey(r):!1,n=n?await an.unmarshalPublicKey(n):!1;let i,s;if(r&&(s=await _a(r.public)),n&&(i=await _a(n)),r){if(n&&!Si(s,i))throw new Error("Public and private key do not match");return new on(s,r,r.public)}if(n)return new on(i,void 0,n);if(e)return new on(e);throw new Error("Protobuf did not contain any usable key material")};Ut.parse=t=>((t.charAt(0)==="1"||t.charAt(0)==="Q")&&(t=`z${t}`),Ut.createFromBytes(tA.decode(t)));Ut.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function sg(t){if(t)return eA(t,"base64pad")}});var og={};He(og,{fromString:()=>nA});function nA(t,e="utf8"){let r=fo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var fg=Te(()=>{Q0()});var ug={};He(ug,{concat:()=>iA});function iA(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var cg=Te(()=>{});var Ss=I((HM,yf)=>{"use strict";var Rc=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},hg=(t,e,r,n)=>{let i,s=new Promise((a,o)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){a(t);return}n={customTimers:{setTimeout,clearTimeout},...n},i=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{a(r())}catch(c){o(c)}return}let f=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,u=r instanceof Error?r:new Rc(f);typeof t.cancel=="function"&&t.cancel(),o(u)},e),(async()=>{try{a(await t)}catch(f){o(f)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()});return s.clear=()=>{clearTimeout(i),i=void 0},s};yf.exports=hg;yf.exports.default=hg;yf.exports.TimeoutError=Rc});var tt=I(et=>{"use strict";var qc=hu(),{sha256:lg}=(un(),Or),{base58btc:sA}=(Dr(),Nr),{Key:aA}=oo(),dg=vo(),oA=go(),{Record:fA}=Ui(),uA=Es(),cA=ke(),{fromString:pg}=(fg(),og),{toString:yg}=(Ws(),Ys),{concat:hA}=(cg(),ug),bg=Ss();et.convertBuffer=async t=>(await lg.digest(t)).digest;et.convertPeerId=async t=>(await lg.digest(t.id)).digest;et.bufferToKey=t=>new aA("/"+et.encodeBase32(t),!1);et.keyForPublicKey=t=>hA([pg("/pk/"),t.id]);et.isPublicKeyKey=t=>yg(t.slice(0,4))==="/pk/";et.fromPublicKeyKey=t=>new uA(t.slice(4));et.now=()=>Date.now();et.encodeBase32=t=>yg(t,"base32");et.decodeBase32=t=>pg(t,"base32");et.sortClosestPeers=async(t,e)=>(await oA(t,async n=>{let i=await et.convertPeerId(n);return{peer:n,distance:dg(i,e)}})).sort(et.xorCompare).map(n=>n.peer);et.xorCompare=(t,e)=>dg.compare(t.distance,e.distance);et.pathSize=(t,e)=>Math.ceil(t/e);et.createPutRecord=(t,e)=>{let r=new Date;return new fA(t,e,r).serialize()};et.logger=(t,e)=>{let r=["libp2p","dht"];return e&&r.push(e),t&&r.push(`${t.toB58String().slice(0,8)}`),qc.formatters.b=i=>sA.baseEncode(i),Object.assign(qc(r.join(":")),{error:qc(r.concat(["error"]).join(":"))})};et.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}};et.withTimeout=(t,e)=>{async function r(...n){if(!e)return t(...n);let i;try{i=await bg(t(...n),e)}catch(s){throw s instanceof bg.TimeoutError?cA(s,"ETIMEDOUT"):s}return i}return r};et.mapParallel=async function(t,e){let r=[];for await(let n of t)r.push(e(n));return Promise.all(r)}});var mg=I((GM,gg)=>{"use strict";var lA=Yp(),bf=tt(),vg=class{constructor(e,r){this.self=e,this._onPing=this._onPing.bind(this),this._onInit(r)}async _onInit(e){let r=await bf.convertPeerId(this.self);this.kb=new lA({localNodeId:r,numberOfNodesPerKBucket:e,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(e,r){let n=e[0];n&&this.kb.remove(n.id),this.kb.add(r)}get size(){return this.kb.count()}async find(e){let r=await bf.convertPeerId(e),n=this.closestPeer(r);if(n&&e.equals(n))return n}closestPeer(e){let r=this.closestPeers(e,1);if(r.length>0)return r[0]}closestPeers(e,r){return this.kb.closest(e,r).map(i=>i.peer)}async add(e){let r=await bf.convertPeerId(e);this.kb.add({id:r,peer:e})}async remove(e){let r=await bf.convertPeerId(e);this.kb.remove(r)}};gg.exports=vg});var Gn=I(jt=>{"use strict";var vf=jt.second=1e3,xg=jt.minute=60*vf,kc=jt.hour=60*xg;jt.MAX_RECORD_AGE=36*kc;jt.PROTOCOL_DHT="/kad/1.0.0";jt.PROVIDERS_KEY_PREFIX="/providers/";jt.PROVIDERS_LRU_CACHE_SIZE=256;jt.PROVIDERS_VALIDITY=24*kc;jt.PROVIDERS_CLEANUP_INTERVAL=kc;jt.READ_MESSAGE_TIMEOUT=10*vf;jt.GET_MANY_RECORD_COUNT=16;jt.K=20;jt.ALPHA=3;jt.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*xg,timeout:10*vf,delay:10*vf}});var Nc=I((WM,_s)=>{var wg=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},Lc=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),gf=t=>t&&typeof t.sink=="function"&&Lc(t.source),dA=t=>e=>(t.sink(e),t.source),Eg=(...t)=>{if(gf(t[0])){let e=t[0];t[0]=()=>e.source}else if(Lc(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&gf(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)gf(t[e])&&(t[e]=dA(t[e]));return wg(...t)};_s.exports=Eg;_s.exports.pipe=Eg;_s.exports.rawPipe=wg;_s.exports.isIterable=Lc;_s.exports.isDuplex=gf});var Dc=I((QM,_g)=>{"use strict";var{Buffer:Tr}=Tn(),Sg=Symbol.for("BufferList");function Fe(t){if(!(this instanceof Fe))return new Fe(t);Fe._init.call(this,t)}Fe._init=function(e){Object.defineProperty(this,Sg,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Fe.prototype._new=function(e){return new Fe(e)};Fe.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};Fe.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};Fe.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Fe.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Fe.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Tr.alloc(0);let s=!!e,a=this._offset(n),o=i-n,f=o,u=s&&r||0,c=a[1];if(n===0&&i===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:Tr.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(f<=this._bufs[a[0]].length-c)return s?this._bufs[a[0]].copy(e,r,c,c+f):this._bufs[a[0]].slice(c,c+f);s||(e=Tr.allocUnsafe(o));for(let l=a[0];l<this._bufs.length;l++){let y=this._bufs[l].length-c;if(f>y)this._bufs[l].copy(e,u,c),u+=y;else{this._bufs[l].copy(e,u,c,c+f),u+=y;break}f-=y,c&&(c=0)}return e.length>u?e.slice(0,u):e};Fe.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),s=this._bufs.slice(n[0],i[0]+1);return i[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,i[1]),n[1]!==0&&(s[0]=s[0].slice(n[1])),this._new(s)};Fe.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};Fe.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Fe.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Fe.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Tr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Tr.from(e));return this};Fe.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Fe.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Tr.from([t]):typeof t=="string"?t=Tr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Tr.from(t.buffer,t.byteOffset,t.byteLength):Tr.isBuffer(t)||(t=Tr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],s=n[1];for(;i<this._bufs.length;i++){let a=this._bufs[i];for(;s<a.length;)if(a.length-s>=t.length){let f=a.indexOf(t,s);if(f!==-1)return this._reverseOffset([i,f]);s=a.length-t.length+1}else{let f=this._reverseOffset([i,s]);if(this._match(f,t))return f;s++}s=0}return-1};Fe.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Fe.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:Fe.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();Fe.prototype._isBufferList=function(e){return e instanceof Fe||Fe.isBufferList(e)};Fe.isBufferList=function(e){return e!=null&&e[Sg]};_g.exports=Fe});var Ig=I((JM,Bg)=>{Bg.exports=Oc;var Ag=128,pA=127,yA=~pA,bA=Math.pow(2,31);function Oc(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw Oc.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=bA;)e[r++]=t&255|Ag,t/=128;for(;t&yA;)e[r++]=t&255|Ag,t>>>=7;return e[r]=t|0,Oc.bytes=r-n+1,e}});var Pg=I((ZM,Tg)=>{Tg.exports=Kc;var vA=128,Cg=127;function Kc(t,e){var r=0,e=e||0,n=0,i=e,s,a=t.length;do{if(i>=a||n>49)throw Kc.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&Cg)<<n:(s&Cg)*Math.pow(2,n),n+=7}while(s>=vA);return Kc.bytes=i-e,r}});var Rg=I((XM,Mg)=>{var gA=Math.pow(2,7),mA=Math.pow(2,14),xA=Math.pow(2,21),wA=Math.pow(2,28),EA=Math.pow(2,35),SA=Math.pow(2,42),_A=Math.pow(2,49),AA=Math.pow(2,56),BA=Math.pow(2,63);Mg.exports=function(t){return t<gA?1:t<mA?2:t<xA?3:t<wA?4:t<EA?5:t<SA?6:t<_A?7:t<AA?8:t<BA?9:10}});var _i=I((eR,qg)=>{qg.exports={encode:Ig(),decode:Pg(),encodingLength:Rg()}});var Fc=I((tR,Ng)=>{"use strict";var kg=_i(),{Buffer:IA}=Tn(),Lg=(t,e,r)=>{let n=kg.encode(t,e,r);return Lg.bytes=kg.encode.bytes,e||IA.from(n)};Ng.exports=Lg});var zg=I((rR,mf)=>{"use strict";var{Buffer:Dg}=Tn(),Og=Dc(),Kg=Fc(),Uc=8,Fg=10*1024;function Ug(t){t=t||{};let e=Math.max(t.poolSize||Fg,t.minPoolSize||Uc),r=t.lengthEncoder||Kg;return async function*(i){let s=Dg.alloc(e),a=0;for await(let o of i){r(o.length,s,a);let f=s.slice(a,a+r.bytes);a+=r.bytes,s.length-a<Uc&&(s=Dg.alloc(e),a=0),yield new Og().append(f).append(o)}}}Ug.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||Kg;return new Og([r(t.length),t.slice()])};mf.exports=Ug;mf.exports.MIN_POOL_SIZE=Uc;mf.exports.DEFAULT_POOL_SIZE=Fg});var zc=I((nR,jg)=>{"use strict";var Vg=_i(),{Buffer:CA}=Tn(),TA=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Hg=t=>{let e=Vg.decode(CA.isBuffer(t)?t:TA(t));return Hg.bytes=Vg.decode.bytes,e};jg.exports=Hg});var Wg=I((iR,xf)=>{"use strict";var{Buffer:PA}=Tn(),Vc=Dc(),MA=zc(),$g=8,Gg=1024*1024*4,Yg=PA.alloc(0),Yn={LENGTH:"readLength",DATA:"readData"},RA={[Yn.LENGTH]:(t,e,r,n)=>{e=e.append(t);let i;try{i=n.lengthDecoder(e)}catch(s){if(e.length>n.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:Yn.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(n.lengthDecoder.bytes),e=new Vc,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(Yg),{mode:Yn.LENGTH,chunk:t,buffer:e,data:Yg}):{mode:Yn.DATA,chunk:t,buffer:e,state:{dataLength:i},data:void 0}},[Yn.DATA]:(t,e,r,n)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:Yn.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:i}=r,s=e.shallowSlice(0,i),a=e.length>i?e.shallowSlice(i):void 0;return e=new Vc,n.onData&&n.onData(s),{mode:Yn.LENGTH,chunk:a,buffer:e,state:void 0,data:s}}};function Hc(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||MA,maxLengthLength:t.maxLengthLength||$g,maxDataLength:t.maxDataLength||Gg,onLength:t.onLength,onData:t.onData};return async function*(n){let i=new Vc,s=Yn.LENGTH,a;for await(let o of n){let f=o;for(;f;){let u=RA[s](f,i,a,e);s=u.mode,f=u.chunk,i=u.buffer,a=u.state,u.data&&(yield u.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}Hc.fromReader=(t,e)=>{let r=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}};return Hc({...e||{},onLength:s=>{r=s}})(n)};xf.exports=Hc;xf.exports.MAX_LENGTH_LENGTH=$g;xf.exports.MAX_DATA_LENGTH=Gg});var Zg=I((sR,Jg)=>{"use strict";var{Buffer:qA}=Tn(),Qg=(t,e,r)=>(e=e||qA.allocUnsafe(4),e.writeInt32BE(t,r),e);Qg.bytes=4;Jg.exports=Qg});var t3=I((aR,e3)=>{"use strict";var Xg=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};Xg.bytes=4;e3.exports=Xg});var jc=I(Ai=>{"use strict";Ai.encode=zg();Ai.decode=Wg();Ai.varintEncode=Fc();Ai.varintDecode=zc();Ai.int32BEEncode=Zg();Ai.int32BEDecode=t3()});var n3=I((wf,r3)=>{(function(t,e){typeof wf=="object"&&typeof r3!="undefined"?e(wf):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t.streamingIterables={}))})(wf,function(t){"use strict";async function*e(R,N){let L=[];for await(let D of N)L.push(D),L.length===R&&(yield L,L=[]);L.length>0&&(yield L)}function*r(R,N){let L=[];for(let D of N)L.push(D),L.length===R&&(yield L,L=[]);L.length>0&&(yield L)}function n(R,N){return N===void 0?L=>n(R,L):N[Symbol.asyncIterator]?e(R,N):r(R,N)}function i(R){if(typeof R.next=="function")return R;if(typeof R[Symbol.iterator]=="function")return R[Symbol.iterator]();if(typeof R[Symbol.asyncIterator]=="function")return R[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function s(){let R,N;return{promise:new Promise((D,Z)=>{N=D,R=Z}),reject:R,resolve:N}}function a(R,N){let L=i(N),D=[],Z=[],ie=!1,se=!1;function Ve(){for(;Z.length>0&&D.length>0;){let te=Z.shift(),{error:be,value:nr}=D.shift();be?te.reject(be):te.resolve({done:!1,value:nr})}for(;Z.length>0&&se;){let{resolve:te}=Z.shift();te({done:!0,value:void 0})}}async function fe(){if(!se&&!ie&&!(D.length>=R)){ie=!0;try{let{done:te,value:be}=await L.next();te?se=!0:D.push({value:be})}catch(te){se=!0,D.push({error:te})}Ve(),ie=!1,fe()}}async function ue(){if(D.length>0){let{error:be,value:nr}=D.shift();if(be)throw be;return fe(),{done:!1,value:nr}}if(se)return{done:!0,value:void 0};let te=s();return Z.push(te),fe(),te.promise}let Ue={next:ue,[Symbol.asyncIterator]:()=>Ue};return Ue}function*o(R,N){let L=[],D;try{for(let Z of N)L.push(Z),!(L.length<=R)&&(yield L.shift())}catch(Z){D=Z}for(let Z of L)yield Z;if(D)throw D}function f(R,N){return N===void 0?L=>f(R,L):R===0?N:N[Symbol.asyncIterator]?a(R,N):o(R,N)}async function u(R){let N=[];for await(let L of R)N.push(L);return N}function c(R){return R[Symbol.asyncIterator]?u(R):Array.from(R)}async function*l(R){for await(let N of R)yield*N}function*y(R){for(let N of R)yield*N}function x(...R){return R.find(L=>L[Symbol.asyncIterator]!==void 0)?l(R):y(R)}async function v(R){for await(let N of R);}function b(R){if(R[Symbol.asyncIterator])return v(R);for(let N of R);}async function*_(R,N){for await(let L of N)await R(L)&&(yield L)}function A(R,N){return N===void 0?L=>_(R,L):_(R,N)}async function*M(R){for await(let N of R)N&&typeof N!="string"&&(N[Symbol.iterator]||N[Symbol.asyncIterator])?yield*M(N):yield N}async function*q(R,N){for await(let L of N)yield await R(L)}function z(R,N){return N===void 0?L=>q(R,L):q(R,N)}function O(R,N){return N===void 0?L=>O(R,L):A(L=>L!=null,M(z(R,N)))}function U(R,N,L){let D=i(L),Z=[],ie=[],se=!1,Ve=!1,fe=0,ue=null;function Ue(){for(;ie.length>0&&Z.length>0;){let{resolve:de}=ie.shift(),Ce=Z.shift();de({done:!1,value:Ce})}for(;ie.length>0&&fe===0&&se;){let{resolve:de,reject:Ce}=ie.shift();ue?(Ce(ue),ue=null):de({done:!0,value:void 0})}}async function te(){if(se){Ue();return}if(!Ve&&!(fe+Z.length>=R)){Ve=!0,fe++;try{let{done:de,value:Ce}=await D.next();de?(se=!0,fe--,Ue()):be(Ce)}catch(de){se=!0,fe--,ue=de,Ue()}Ve=!1,te()}}async function be(de){try{let Ce=await N(de);if(Ce&&Ce[Symbol.asyncIterator])for await(let Ye of Ce)Z.push(Ye);else Z.push(Ce)}catch(Ce){se=!0,ue=Ce}fe--,Ue(),te()}async function nr(){if(Z.length===0){let Ce=s();return ie.push(Ce),te(),Ce.promise}let de=Z.shift();return te(),{done:!1,value:de}}let Re={next:nr,[Symbol.asyncIterator]:()=>Re};return Re}function G(R,N,L){return N===void 0?(D,Z)=>Z?G(R,D,Z):G(R,D):L===void 0?D=>G(R,N,D):A(D=>D!=null,M(U(R,N,L)))}async function H(R){return new Promise(N=>{R.once("readable",()=>{N()})})}async function*X(R){for(;;){let N=R.read();if(N!==null){yield N;continue}if(R._readableState.ended)break;await H(R)}}function B(R){return typeof R[Symbol.asyncIterator]=="function"?R:X(R)}async function*h(...R){let N=new Set(R.map(i));for(;N.size>0;)for(let L of N){let D=await L.next();D.done?N.delete(L):yield D.value}}function p(R,...N){let L=R();for(let D of N)L=D(L);return L}async function*g(R,N,L){let D=null,Z=fe=>({value:N(fe)}),ie=async function*(fe){for await(let ue of fe){if(D)return;yield ue}},se=p(()=>L,f(1),ie,z(Z),f(R-1)),Ve=i(se);for(;;){let{value:fe,done:ue}=await Ve.next();if(ue)break;try{let Ue=await fe.value;D||(yield Ue)}catch(Ue){D=Ue}}if(D)throw D}function m(R,N,L){return N===void 0?(D,Z)=>m(R,D,Z):L===void 0?D=>m(R,N,D):R===1?z(N,L):g(R,N,L)}function w(R,N,L){return N===void 0?(D,Z)=>Z?w(R,D,Z):w(R,D):L===void 0?D=>w(R,N,D):A(D=>D!=null,M(m(R,N,L)))}async function*T(...R){let N=R.map(i),L=new Set,D=new Map,Z=null,ie=null,se=null,Ve=te=>{Z=te,ie&&ie(te)},fe=te=>{se&&se(te)},ue=()=>new Promise((te,be)=>{if(Z&&be(Z),D.size>0)return te();se=te,ie=be}),Ue=te=>{let be=Promise.resolve(te.next()).then(async({done:nr,value:Re})=>{nr||D.set(te,Re),L.delete(be)});L.add(be),be.then(fe,Ve)};for(let te of N)Ue(te);for(;;){if(L.size===0&&D.size===0)return;await ue();for(let[te,be]of D)D.delete(te),yield be,Ue(te)}}async function C(R,N,L){let D=N;for await(let Z of L)D=await R(D,Z);return D}function E(R,N,L){return N===void 0?(D,Z)=>Z?C(R,D,Z):E(R,D):L===void 0?D=>E(R,N,D):C(R,N,L)}async function*d(R,N){let L=0;for await(let D of N)if(yield await D,L++,L>=R)break}function*S(R,N){let L=0;for(let D of N)if(yield D,L++,L>=R)break}function $(R,N){return N===void 0?L=>$(R,L):N[Symbol.asyncIterator]?d(R,N):S(R,N)}async function*Y(R,N){for await(let L of N)await R(L),yield L}function W(R,N){return N===void 0?L=>Y(R,L):Y(R,N)}function ee(R,N){let L=R[0]+N[0],D=R[1]+N[1];if(D>=1e9){let Z=D%1e9;L+=(D-Z)/1e9,D=Z}return[L,D]}async function*oe(R,N){let L=N[Symbol.asyncIterator](),D=[0,0];for(;;){let Z=process.hrtime(),{value:ie,done:se}=await L.next(),Ve=process.hrtime(Z);if(D=ee(D,Ve),R.progress&&R.progress(Ve,D),se)return R.total&&R.total(D),ie;yield ie}}function*he(R,N){let L=N[Symbol.iterator](),D=[0,0];for(;;){let Z=process.hrtime(),{value:ie,done:se}=L.next(),Ve=process.hrtime(Z);if(D=ee(D,Ve),R.progress&&R.progress(Ve,D),se)return R.total&&R.total(D),ie;yield ie}}function Me(R={},N){return N===void 0?L=>Me(R,L):N[Symbol.asyncIterator]!==void 0?oe(R,N):he(R,N)}function le(R,N,L){let D=i(L),Z=[],ie=[],se=!1,Ve=!1,fe=0,ue=null;function Ue(){for(;ie.length>0&&Z.length>0;){let{resolve:de}=ie.shift(),Ce=Z.shift();de({done:!1,value:Ce})}for(;ie.length>0&&fe===0&&se;){let{resolve:de,reject:Ce}=ie.shift();ue?(Ce(ue),ue=null):de({done:!0,value:void 0})}}async function te(){if(se){Ue();return}if(!Ve&&!(fe+Z.length>=R)){Ve=!0,fe++;try{let{done:de,value:Ce}=await D.next();de?(se=!0,fe--,Ue()):be(Ce)}catch(de){se=!0,fe--,ue=de,Ue()}Ve=!1,te()}}async function be(de){try{let Ce=await N(de);Z.push(Ce)}catch(Ce){se=!0,ue=Ce}fe--,Ue(),te()}async function nr(){if(Z.length===0){let Ce=s();return ie.push(Ce),te(),Ce.promise}let de=Z.shift();return te(),{done:!1,value:de}}let Re={next:nr,[Symbol.asyncIterator]:()=>Re};return Re}function ce(R,N,L){return N===void 0?(D,Z)=>Z?ce(R,D,Z):ce(R,D):L===void 0?D=>ce(R,N,D):le(R,N,L)}async function Ge(R,N){let L=null,D=null,Z=null,ie=ue=>{L=ue,D&&D(ue)},se=()=>{Z&&Z()},Ve=()=>{R.removeListener("error",ie),R.removeListener("drain",se)};R.once("error",ie);let fe=()=>new Promise((ue,Ue)=>{if(L)return Ue(L);R.once("drain",se),Z=ue,D=Ue});for await(let ue of N)if(R.write(ue)===!1&&await fe(),L)break;if(Ve(),L)throw L}function ge(R,N){return N===void 0?L=>Ge(R,L):Ge(R,N)}t.batch=n,t.buffer=f,t.collect=c,t.concat=x,t.consume=b,t.filter=A,t.flatMap=O,t.flatTransform=G,t.flatten=M,t.fromStream=B,t.getIterator=i,t.map=z,t.merge=h,t.parallelFlatMap=w,t.parallelMap=m,t.parallelMerge=T,t.pipeline=p,t.reduce=E,t.take=$,t.tap=W,t.time=Me,t.transform=ce,t.writeToStream=ge,Object.defineProperty(t,"__esModule",{value:!0})})});var s3=I((fR,i3)=>{"use strict";var kA=async t=>{for await(let e of t)return e};i3.exports=kA});var c3=I((uR,u3)=>{"use strict";var a3=()=>{},o3=Symbol.for("@libp2p/js-interfaces/topology"),f3=class{constructor({min:e=0,max:r=1/0,handlers:n={}}){this.min=e,this.max=r,this._onConnect=n.onConnect||a3,this._onDisconnect=n.onDisconnect||a3,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[o3](){return!0}static isTopology(e){return Boolean(e&&e[o3])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};u3.exports=f3});var p3=I((cR,d3)=>{"use strict";var LA=c3(),h3=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),l3=class extends LA{constructor({min:e,max:r,multicodecs:n,handlers:i}){super({min:e,max:r,handlers:i});if(!n)throw new Error("one or more multicodec should be provided");if(!i)throw new Error("the handlers should be provided");if(typeof i.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof i.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[h3](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[h3])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:n}of e)if(this.multicodecs.filter(i=>n.includes(i)).length){this.peers.add(r.toB58String());let i=this._registrar.getConnection(r);i&&this._onConnect(r,i)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let n=this.peers.has(e.toB58String()),i=r.filter(s=>this.multicodecs.includes(s));n&&i.length===0&&this._onDisconnect(e);for(let s of r)if(this.multicodecs.includes(s)){let a=this._registrar.peerStore.get(e);this._updatePeers([a]);return}}_onPeerConnect(e){let r=e.remotePeer,n=this._registrar.peerStore.protoBook.get(r);!n||this.multicodecs.find(i=>n.includes(i))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};d3.exports=l3});var v3=I((hR,b3)=>{"use strict";var y3="[a-fA-F\\d:]",Wn=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${y3})|(?<=${y3})(?=\\s|$))`:"",Pr="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",_t="[a-fA-F\\d]{1,4}",Ef=`
(?:
(?:${_t}:){7}(?:${_t}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${_t}:){6}(?:${Pr}|:${_t}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${_t}:){5}(?::${Pr}|(?::${_t}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${_t}:){4}(?:(?::${_t}){0,1}:${Pr}|(?::${_t}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${_t}:){3}(?:(?::${_t}){0,2}:${Pr}|(?::${_t}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${_t}:){2}(?:(?::${_t}){0,3}:${Pr}|(?::${_t}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${_t}:){1}(?:(?::${_t}){0,4}:${Pr}|(?::${_t}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${_t}){0,5}:${Pr}|(?::${_t}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),NA=new RegExp(`(?:^${Pr}$)|(?:^${Ef}$)`),DA=new RegExp(`^${Pr}$`),OA=new RegExp(`^${Ef}$`),$c=t=>t&&t.exact?NA:new RegExp(`(?:${Wn(t)}${Pr}${Wn(t)})|(?:${Wn(t)}${Ef}${Wn(t)})`,"g");$c.v4=t=>t&&t.exact?DA:new RegExp(`${Wn(t)}${Pr}${Wn(t)}`,"g");$c.v6=t=>t&&t.exact?OA:new RegExp(`${Wn(t)}${Ef}${Wn(t)}`,"g");b3.exports=$c});var m3=I((lR,g3)=>{"use strict";var Gc=v3(),As=t=>Gc({exact:!0}).test(t);As.v4=t=>Gc.v4({exact:!0}).test(t);As.v6=t=>Gc.v6({exact:!0}).test(t);As.version=t=>As(t)?As.v4(t)?4:6:void 0;g3.exports=As});var Wc=I((dR,S3)=>{"use strict";var{bases:x3}=(ri(),Fi);function w3(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var E3=w3("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Yc=w3("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),KA={utf8:E3,"utf-8":E3,hex:x3.base16,latin1:Yc,ascii:Yc,binary:Yc,...x3};S3.exports=KA});var Aa=I((pR,_3)=>{"use strict";var FA=Wc();function UA(t,e="utf8"){let r=FA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}_3.exports=UA});var T3=I((yR,C3)=>{"use strict";var Qc=m3(),A3=Aa(),zA=Qc,Jc=Qc.v4,B3=Qc.v6,I3=function(t,e,r){r=~~r;let n;if(Jc(t))n=e||new Uint8Array(r+4),t.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(B3(t)){let i=t.split(":",8),s;for(s=0;s<i.length;s++){let a=Jc(i[s]),o;a&&(o=I3(i[s]),i[s]=A3(o.slice(0,2),"base16")),o&&++s<8&&i.splice(s,0,A3(o.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let a=[s,"1"];for(s=9-i.length;s>0;s--)a.push("0");i.splice.apply(i,a)}for(n=e||new Uint8Array(r+16),s=0;s<i.length;s++){let a=parseInt(i[s],16);n[r++]=a>>8&255,n[r++]=a&255}}if(!n)throw Error("Invalid ip address: "+t);return n},VA=function(t,e,r){e=~~e,r=r||t.length-e;let n=[],i,s=new DataView(t.buffer);if(r===4){for(let a=0;a<r;a++)n.push(t[e+a]);i=n.join(".")}else if(r===16){for(let a=0;a<r;a+=2)n.push(s.getUint16(e+a).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};C3.exports={isIP:zA,isV4:Jc,isV6:B3,toBytes:I3,toString:VA}});var Sf=I((bR,M3)=>{"use strict";function er(t){if(typeof t=="number"){if(er.codes[t])return er.codes[t];throw new Error("no protocol with code: "+t)}else if(typeof t=="string"){if(er.names[t])return er.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}var vr=-1;er.lengthPrefixedVarSize=vr;er.V=vr;er.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,vr,"ip6zone"],[53,vr,"dns","resolvable"],[54,vr,"dns4","resolvable"],[55,vr,"dns6","resolvable"],[56,vr,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,vr,"unix",!1,"path"],[421,vr,"ipfs"],[421,vr,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,vr,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,vr,"memory"]];er.names={};er.codes={};er.table.map(t=>{let e=P3.apply(null,t);return er.codes[e.code]=e,er.names[e.name]=e,null});er.object=P3;function P3(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}M3.exports=er});var q3=I((vR,R3)=>{"use strict";var HA=Wc();function jA(t,e="utf8"){let r=HA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}R3.exports=jA});var Zc=I((gR,k3)=>{"use strict";function $A(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}k3.exports=$A});var z3=I((mR,U3)=>{"use strict";var _f=T3(),L3=Sf(),{CID:GA}=(ti(),Ki),{base32:N3}=(Ri(),Mi),{base58btc:YA}=(Dr(),Nr),WA=(Di(),Ni),Bs=_i(),Af=Aa(),D3=q3(),Bf=Zc();U3.exports=Ba;function Ba(t,e){return e instanceof Uint8Array?Ba.toString(t,e):Ba.toBytes(t,e)}Ba.toString=function(e,r){switch(L3(e).code){case 4:case 41:return QA(r);case 6:case 273:case 33:case 132:return K3(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return ZA(r);case 421:return eB(r);case 444:return F3(r);case 445:return F3(r);default:return Af(r,"base16")}};Ba.toBytes=function(e,r){switch(L3(e).code){case 4:return O3(r);case 41:return O3(r);case 6:case 273:case 33:case 132:return Xc(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return JA(r);case 421:return XA(r);case 444:return tB(r);case 445:return rB(r);default:return D3(r,"base16")}};function O3(t){if(!_f.isIP(t))throw new Error("invalid ip address");return _f.toBytes(t)}function QA(t){let e=_f.toString(t);if(!e||!_f.isIP(e))throw new Error("invalid ip address");return e}function Xc(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function K3(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function JA(t){let e=D3(t),r=Uint8Array.from(Bs.encode(e.length));return Bf([r,e],r.length+e.length)}function ZA(t){let e=Bs.decode(t);if(t=t.slice(Bs.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return Af(t)}function XA(t){let e;t[0]==="Q"||t[0]==="1"?e=WA.decode(YA.decode(`z${t}`)).bytes:e=GA.parse(t).multihash.bytes;let r=Uint8Array.from(Bs.encode(e.length));return Bf([r,e],r.length+e.length)}function eB(t){let e=Bs.decode(t),r=t.slice(Bs.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return Af(r,"base58btc")}function tB(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let r=N3.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Xc(n);return Bf([r,i],r.length+i.length)}function rB(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let r=N3.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Xc(n);return Bf([r,i],r.length+i.length)}function F3(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=Af(e,"base32"),i=K3(r);return n+":"+i}});var e4=I((xR,X3)=>{"use strict";var V3=z3(),eh=Sf(),Ia=_i(),H3=Zc(),nB=Aa();X3.exports={stringToStringTuples:j3,stringTuplesToString:$3,tuplesToStringTuples:Y3,stringTuplesToTuples:G3,bytesToTuples:th,tuplesToBytes:W3,bytesToString:iB,stringToBytes:J3,fromString:sB,fromBytes:Z3,validateBytes:rh,isValidBytes:aB,cleanPath:If,ParseError:nh,protoFromTuple:Ca,sizeForAddr:Q3};function j3(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],s=eh(i);if(s.size===0){e.push([i]);continue}if(n++,n>=r.length)throw nh("invalid address: "+t);if(s.path){e.push([i,If(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function $3(t){let e=[];return t.map(r=>{let n=Ca(r);return e.push(n.name),r.length>1&&e.push(r[1]),null}),If(e.join("/"))}function G3(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=Ca(e);return e.length>1?[r.code,V3.toBytes(r.code,e[1])]:[r.code]})}function Y3(t){return t.map(e=>{let r=Ca(e);return e[1]?[r.code,V3.toString(r.code,e[1])]:[r.code]})}function W3(t){return Z3(H3(t.map(e=>{let r=Ca(e),n=Uint8Array.from(Ia.encode(r.code));return e.length>1&&(n=H3([n,e[1]])),n})))}function Q3(t,e){return t.size>0?t.size/8:t.size===0?0:Ia.decode(e)+Ia.decode.bytes}function th(t){let e=[],r=0;for(;r<t.length;){let n=Ia.decode(t,r),i=Ia.decode.bytes,s=eh(n),a=Q3(s,t.slice(r+i));if(a===0){e.push([n]),r+=i;continue}let o=t.slice(r+i,r+i+a);if(r+=a+i,r>t.length)throw nh("Invalid address Uint8Array: "+nB(t,"base16"));e.push([n,o])}return e}function iB(t){let e=th(t),r=Y3(e);return $3(r)}function J3(t){t=If(t);let e=j3(t),r=G3(e);return W3(r)}function sB(t){return J3(t)}function Z3(t){let e=rh(t);if(e)throw e;return Uint8Array.from(t)}function rh(t){try{th(t)}catch(e){return e}}function aB(t){return rh(t)===void 0}function If(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function nh(t){return new Error("Error parsing address: "+t)}function Ca(t){return eh(t[0])}});var r4=I((wR,t4)=>{"use strict";function oB(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}t4.exports=oB});var a4=I((ER,s4)=>{"use strict";var Mr=e4(),Is=Sf(),n4=_i(),{CID:fB}=(ti(),Ki),{base58btc:uB}=(Dr(),Nr),cB=ke(),hB=Symbol.for("nodejs.util.inspect.custom"),Cf=Aa(),lB=r4(),ih=new Map,i4=Symbol.for("@multiformats/js-multiaddr/multiaddr"),$t=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,i4,{value:!0}),e instanceof Uint8Array)this.bytes=Mr.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=Mr.fromString(e)}else if($t.isMultiaddr(e))this.bytes=Mr.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Mr.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},r=this.toString().split("/");return e.family=r[1]==="ip4"?4:6,e.host=r[2],e.transport=r[3],e.port=parseInt(r[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Is(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=n4.decode(r,n),s=n4.decode.bytes,a=Is(i);n+=Mr.sizeForAddr(a,r.slice(n+s))+s,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return Mr.bytesToTuples(this.bytes)}stringTuples(){let e=Mr.bytesToTuples(this.bytes);return Mr.tuplesToStringTuples(e)}encapsulate(e){return e=new $t(e),new $t(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new $t(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new $t(Mr.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Is.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?Cf(uB.decode(`z${n}`),"base58btc"):Cf(fB.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>!!Is(r[0]).path)[0][1],e||(e=null)}catch(r){e=null}return e}equals(e){return lB(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(i=>i.resolvable);if(!e)return[this];let r=ih.get(e.name);if(!r)throw cB(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new $t(i))}nodeAddress(){let e=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let r=(e||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(e,r){if(!e)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new $t("/"+[n,e.address,r,e.port].join("/"))}static isName(e){return $t.isMultiaddr(e)?e.protos().some(r=>r.resolvable):!1}static isMultiaddr(e){return e instanceof $t||Boolean(e&&e[i4])}[hB](){return"<Multiaddr "+Cf(this.bytes,"base16")+" - "+Mr.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+Cf(this.bytes,"base16")+" - "+Mr.bytesToString(this.bytes)+">"}};$t.protocols=Is;$t.resolvers=ih;function dB(t){return new $t(t)}s4.exports={Multiaddr:$t,multiaddr:dB,protocols:Is,resolvers:ih}});var f4=I((SR,o4)=>{"use strict";var Qn=Ds(),Cs=Qn.Reader,sh=Qn.Writer,ne=Qn.util,Ze=Qn.roots["libp2p-dht-message"]||(Qn.roots["libp2p-dht-message"]={});Ze.Record=function(){function t(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.key=null,t.prototype.value=null,t.prototype.author=null,t.prototype.signature=null,t.prototype.timeReceived=null;var e;return Object.defineProperty(t.prototype,"_key",{get:ne.oneOfGetter(e=["key"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_value",{get:ne.oneOfGetter(e=["value"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_author",{get:ne.oneOfGetter(e=["author"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_signature",{get:ne.oneOfGetter(e=["signature"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_timeReceived",{get:ne.oneOfGetter(e=["timeReceived"]),set:ne.oneOfSetter(e)}),t.encode=function(n,i){return i||(i=sh.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).bytes(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).bytes(n.value),n.author!=null&&Object.hasOwnProperty.call(n,"author")&&i.uint32(26).bytes(n.author),n.signature!=null&&Object.hasOwnProperty.call(n,"signature")&&i.uint32(34).bytes(n.signature),n.timeReceived!=null&&Object.hasOwnProperty.call(n,"timeReceived")&&i.uint32(42).string(n.timeReceived),i},t.decode=function(n,i){n instanceof Cs||(n=Cs.create(n));for(var s=i===void 0?n.len:n.pos+i,a=new Ze.Record;n.pos<s;){var o=n.uint32();switch(o>>>3){case 1:a.key=n.bytes();break;case 2:a.value=n.bytes();break;case 3:a.author=n.bytes();break;case 4:a.signature=n.bytes();break;case 5:a.timeReceived=n.string();break;default:n.skipType(o&7);break}}return a},t.fromObject=function(n){if(n instanceof Ze.Record)return n;var i=new Ze.Record;return n.key!=null&&(typeof n.key=="string"?ne.base64.decode(n.key,i.key=ne.newBuffer(ne.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.value!=null&&(typeof n.value=="string"?ne.base64.decode(n.value,i.value=ne.newBuffer(ne.base64.length(n.value)),0):n.value.length&&(i.value=n.value)),n.author!=null&&(typeof n.author=="string"?ne.base64.decode(n.author,i.author=ne.newBuffer(ne.base64.length(n.author)),0):n.author.length&&(i.author=n.author)),n.signature!=null&&(typeof n.signature=="string"?ne.base64.decode(n.signature,i.signature=ne.newBuffer(ne.base64.length(n.signature)),0):n.signature.length&&(i.signature=n.signature)),n.timeReceived!=null&&(i.timeReceived=String(n.timeReceived)),i},t.toObject=function(n,i){i||(i={});var s={};return n.key!=null&&n.hasOwnProperty("key")&&(s.key=i.bytes===String?ne.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(s._key="key")),n.value!=null&&n.hasOwnProperty("value")&&(s.value=i.bytes===String?ne.base64.encode(n.value,0,n.value.length):i.bytes===Array?Array.prototype.slice.call(n.value):n.value,i.oneofs&&(s._value="value")),n.author!=null&&n.hasOwnProperty("author")&&(s.author=i.bytes===String?ne.base64.encode(n.author,0,n.author.length):i.bytes===Array?Array.prototype.slice.call(n.author):n.author,i.oneofs&&(s._author="author")),n.signature!=null&&n.hasOwnProperty("signature")&&(s.signature=i.bytes===String?ne.base64.encode(n.signature,0,n.signature.length):i.bytes===Array?Array.prototype.slice.call(n.signature):n.signature,i.oneofs&&(s._signature="signature")),n.timeReceived!=null&&n.hasOwnProperty("timeReceived")&&(s.timeReceived=n.timeReceived,i.oneofs&&(s._timeReceived="timeReceived")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Qn.util.toJSONOptions)},t}();Ze.Message=function(){function t(r){if(this.closerPeers=[],this.providerPeers=[],r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.type=null,t.prototype.clusterLevelRaw=null,t.prototype.key=null,t.prototype.record=null,t.prototype.closerPeers=ne.emptyArray,t.prototype.providerPeers=ne.emptyArray;var e;return Object.defineProperty(t.prototype,"_type",{get:ne.oneOfGetter(e=["type"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_clusterLevelRaw",{get:ne.oneOfGetter(e=["clusterLevelRaw"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_key",{get:ne.oneOfGetter(e=["key"]),set:ne.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_record",{get:ne.oneOfGetter(e=["record"]),set:ne.oneOfSetter(e)}),t.encode=function(n,i){if(i||(i=sh.create()),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&i.uint32(8).int32(n.type),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(18).bytes(n.key),n.record!=null&&Object.hasOwnProperty.call(n,"record")&&i.uint32(26).bytes(n.record),n.closerPeers!=null&&n.closerPeers.length)for(var s=0;s<n.closerPeers.length;++s)Ze.Message.Peer.encode(n.closerPeers[s],i.uint32(66).fork()).ldelim();if(n.providerPeers!=null&&n.providerPeers.length)for(var s=0;s<n.providerPeers.length;++s)Ze.Message.Peer.encode(n.providerPeers[s],i.uint32(74).fork()).ldelim();return n.clusterLevelRaw!=null&&Object.hasOwnProperty.call(n,"clusterLevelRaw")&&i.uint32(80).int32(n.clusterLevelRaw),i},t.decode=function(n,i){n instanceof Cs||(n=Cs.create(n));for(var s=i===void 0?n.len:n.pos+i,a=new Ze.Message;n.pos<s;){var o=n.uint32();switch(o>>>3){case 1:a.type=n.int32();break;case 10:a.clusterLevelRaw=n.int32();break;case 2:a.key=n.bytes();break;case 3:a.record=n.bytes();break;case 8:a.closerPeers&&a.closerPeers.length||(a.closerPeers=[]),a.closerPeers.push(Ze.Message.Peer.decode(n,n.uint32()));break;case 9:a.providerPeers&&a.providerPeers.length||(a.providerPeers=[]),a.providerPeers.push(Ze.Message.Peer.decode(n,n.uint32()));break;default:n.skipType(o&7);break}}return a},t.fromObject=function(n){if(n instanceof Ze.Message)return n;var i=new Ze.Message;switch(n.type){case"PUT_VALUE":case 0:i.type=0;break;case"GET_VALUE":case 1:i.type=1;break;case"ADD_PROVIDER":case 2:i.type=2;break;case"GET_PROVIDERS":case 3:i.type=3;break;case"FIND_NODE":case 4:i.type=4;break;case"PING":case 5:i.type=5;break}if(n.clusterLevelRaw!=null&&(i.clusterLevelRaw=n.clusterLevelRaw|0),n.key!=null&&(typeof n.key=="string"?ne.base64.decode(n.key,i.key=ne.newBuffer(ne.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.record!=null&&(typeof n.record=="string"?ne.base64.decode(n.record,i.record=ne.newBuffer(ne.base64.length(n.record)),0):n.record.length&&(i.record=n.record)),n.closerPeers){if(!Array.isArray(n.closerPeers))throw TypeError(".Message.closerPeers: array expected");i.closerPeers=[];for(var s=0;s<n.closerPeers.length;++s){if(typeof n.closerPeers[s]!="object")throw TypeError(".Message.closerPeers: object expected");i.closerPeers[s]=Ze.Message.Peer.fromObject(n.closerPeers[s])}}if(n.providerPeers){if(!Array.isArray(n.providerPeers))throw TypeError(".Message.providerPeers: array expected");i.providerPeers=[];for(var s=0;s<n.providerPeers.length;++s){if(typeof n.providerPeers[s]!="object")throw TypeError(".Message.providerPeers: object expected");i.providerPeers[s]=Ze.Message.Peer.fromObject(n.providerPeers[s])}}return i},t.toObject=function(n,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.closerPeers=[],s.providerPeers=[]),n.type!=null&&n.hasOwnProperty("type")&&(s.type=i.enums===String?Ze.Message.MessageType[n.type]:n.type,i.oneofs&&(s._type="type")),n.key!=null&&n.hasOwnProperty("key")&&(s.key=i.bytes===String?ne.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(s._key="key")),n.record!=null&&n.hasOwnProperty("record")&&(s.record=i.bytes===String?ne.base64.encode(n.record,0,n.record.length):i.bytes===Array?Array.prototype.slice.call(n.record):n.record,i.oneofs&&(s._record="record")),n.closerPeers&&n.closerPeers.length){s.closerPeers=[];for(var a=0;a<n.closerPeers.length;++a)s.closerPeers[a]=Ze.Message.Peer.toObject(n.closerPeers[a],i)}if(n.providerPeers&&n.providerPeers.length){s.providerPeers=[];for(var a=0;a<n.providerPeers.length;++a)s.providerPeers[a]=Ze.Message.Peer.toObject(n.providerPeers[a],i)}return n.clusterLevelRaw!=null&&n.hasOwnProperty("clusterLevelRaw")&&(s.clusterLevelRaw=n.clusterLevelRaw,i.oneofs&&(s._clusterLevelRaw="clusterLevelRaw")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Qn.util.toJSONOptions)},t.MessageType=function(){var r={},n=Object.create(r);return n[r[0]="PUT_VALUE"]=0,n[r[1]="GET_VALUE"]=1,n[r[2]="ADD_PROVIDER"]=2,n[r[3]="GET_PROVIDERS"]=3,n[r[4]="FIND_NODE"]=4,n[r[5]="PING"]=5,n}(),t.ConnectionType=function(){var r={},n=Object.create(r);return n[r[0]="NOT_CONNECTED"]=0,n[r[1]="CONNECTED"]=1,n[r[2]="CAN_CONNECT"]=2,n[r[3]="CANNOT_CONNECT"]=3,n}(),t.Peer=function(){function r(i){if(this.addrs=[],i)for(var s=Object.keys(i),a=0;a<s.length;++a)i[s[a]]!=null&&(this[s[a]]=i[s[a]])}r.prototype.id=null,r.prototype.addrs=ne.emptyArray,r.prototype.connection=null;var n;return Object.defineProperty(r.prototype,"_id",{get:ne.oneOfGetter(n=["id"]),set:ne.oneOfSetter(n)}),Object.defineProperty(r.prototype,"_connection",{get:ne.oneOfGetter(n=["connection"]),set:ne.oneOfSetter(n)}),r.encode=function(s,a){if(a||(a=sh.create()),s.id!=null&&Object.hasOwnProperty.call(s,"id")&&a.uint32(10).bytes(s.id),s.addrs!=null&&s.addrs.length)for(var o=0;o<s.addrs.length;++o)a.uint32(18).bytes(s.addrs[o]);return s.connection!=null&&Object.hasOwnProperty.call(s,"connection")&&a.uint32(24).int32(s.connection),a},r.decode=function(s,a){s instanceof Cs||(s=Cs.create(s));for(var o=a===void 0?s.len:s.pos+a,f=new Ze.Message.Peer;s.pos<o;){var u=s.uint32();switch(u>>>3){case 1:f.id=s.bytes();break;case 2:f.addrs&&f.addrs.length||(f.addrs=[]),f.addrs.push(s.bytes());break;case 3:f.connection=s.int32();break;default:s.skipType(u&7);break}}return f},r.fromObject=function(s){if(s instanceof Ze.Message.Peer)return s;var a=new Ze.Message.Peer;if(s.id!=null&&(typeof s.id=="string"?ne.base64.decode(s.id,a.id=ne.newBuffer(ne.base64.length(s.id)),0):s.id.length&&(a.id=s.id)),s.addrs){if(!Array.isArray(s.addrs))throw TypeError(".Message.Peer.addrs: array expected");a.addrs=[];for(var o=0;o<s.addrs.length;++o)typeof s.addrs[o]=="string"?ne.base64.decode(s.addrs[o],a.addrs[o]=ne.newBuffer(ne.base64.length(s.addrs[o])),0):s.addrs[o].length&&(a.addrs[o]=s.addrs[o])}switch(s.connection){case"NOT_CONNECTED":case 0:a.connection=0;break;case"CONNECTED":case 1:a.connection=1;break;case"CAN_CONNECT":case 2:a.connection=2;break;case"CANNOT_CONNECT":case 3:a.connection=3;break}return a},r.toObject=function(s,a){a||(a={});var o={};if((a.arrays||a.defaults)&&(o.addrs=[]),s.id!=null&&s.hasOwnProperty("id")&&(o.id=a.bytes===String?ne.base64.encode(s.id,0,s.id.length):a.bytes===Array?Array.prototype.slice.call(s.id):s.id,a.oneofs&&(o._id="id")),s.addrs&&s.addrs.length){o.addrs=[];for(var f=0;f<s.addrs.length;++f)o.addrs[f]=a.bytes===String?ne.base64.encode(s.addrs[f],0,s.addrs[f].length):a.bytes===Array?Array.prototype.slice.call(s.addrs[f]):s.addrs[f]}return s.connection!=null&&s.hasOwnProperty("connection")&&(o.connection=a.enums===String?Ze.Message.ConnectionType[s.connection]:s.connection,a.oneofs&&(o._connection="connection")),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,Qn.util.toJSONOptions)},r}(),t}();o4.exports=Ze});var fn=I((_R,l4)=>{"use strict";var pB=Es(),{Multiaddr:yB}=a4(),{Record:bB}=Ui(),Tf=f4(),vB=Tf.Message.MessageType,u4=Tf.Message.ConnectionType,Ts=class{constructor(e,r,n){if(r&&!(r instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=r,this._clusterLevelRaw=n,this.closerPeers=[],this.providerPeers=[],this.record=void 0}get clusterLevel(){let e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){let e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(c4),providerPeers:this.providerPeers.map(c4),record:void 0};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),Tf.Message.encode(e).finish()}static deserialize(e){let r=Tf.Message.decode(e),n=new Ts(r.type||0,r.key||Uint8Array.from([]),r.clusterLevelRaw||0);return n.closerPeers=r.closerPeers.map(h4),n.providerPeers=r.providerPeers.map(h4),r.record&&r.record.length&&(n.record=bB.deserialize(r.record)),n}};Ts.TYPES=vB;Ts.CONNECTION_TYPES=u4;function c4(t){return{id:t.id.id,addrs:(t.multiaddrs||[]).map(r=>r.bytes),connection:u4.CONNECTED}}function h4(t){return{id:new pB(t.id),multiaddrs:(t.addrs||[]).map(e=>new yB(e))}}l4.exports=Ts});var y4=I((AR,p4)=>{"use strict";var{Record:gB}=Ui(),mB=ke(),d4=fn(),ah=tt();p4.exports=t=>{let e=ah.logger(t.peerId,"rpc:get-value");async function r(n,i){let s=i.key;if(e("key: %b",s),!s||s.length===0)throw mB(new Error("Invalid key"),"ERR_INVALID_KEY");let a=new d4(d4.TYPES.GET_VALUE,s,i.clusterLevel);if(ah.isPublicKeyKey(s)){e("is public key");let u=ah.fromPublicKeyKey(s),c;if(t._isSelf(u))c=t.peerId;else{let l=t.peerStore.get(u);c=l&&l.id}if(c&&c.pubKey)return e("returning found public key"),a.record=new gB(s,c.pubKey.bytes),a}let[o,f]=await Promise.all([t._checkLocalDatastore(s),t._betterPeersToQuery(i,n)]);return o&&(e("got record"),a.record=o),f.length>0&&(e("got closer %s",f.length),a.closerPeers=f),a}return r}});var g4=I((BR,v4)=>{"use strict";var b4=tt(),xB=ke();v4.exports=t=>{let e=b4.logger(t.peerId,"rpc:put-value");async function r(n,i){let s=i.key;e("key: %b",s);let a=i.record;if(!a){let f=`Empty record from: ${n.toB58String()}`;throw e.error(f),xB(new Error(f),"ERR_EMPTY_RECORD")}await t._verifyRecordLocally(a),a.timeReceived=new Date;let o=b4.bufferToKey(a.key);return await t.datastore.put(o,a.serialize()),t.onPut(a,n),i}return r}});var x4=I((IR,m4)=>{"use strict";var{equals:wB}=(Gs(),$s),EB=fn(),SB=tt();m4.exports=t=>{let e=SB.logger(t.peerId,"rpc:find-node");async function r(n,i){e("start");let s;wB(i.key,t.peerId.id)?s=[{id:t.peerId,multiaddrs:t.libp2p.multiaddrs}]:s=await t._betterPeersToQuery(i,n);let a=new EB(i.type,new Uint8Array(0),i.clusterLevel);return s.length>0?a.closerPeers=s:e("handle FindNode %s: could not find anything",n.toB58String()),a}return r}});var S4=I((CR,E4)=>{"use strict";var{CID:_B}=(ti(),Ki),w4=ke(),AB=tt();E4.exports=t=>{let e=AB.logger(t.peerId,"rpc:add-provider");async function r(n,i){if(e("start"),!i.key||i.key.length===0)throw w4(new Error("Missing key"),"ERR_MISSING_KEY");let s;try{s=_B.decode(i.key)}catch(a){let o=`Invalid CID: ${a.message}`;throw w4(new Error(o),"ERR_INVALID_CID")}return i.providerPeers.forEach(a=>{if(!a.id.isEqual(n)){e("invalid provider peer %s from %s",a.id.toB58String(),n.toB58String());return}if(a.multiaddrs.length<1){e("no valid addresses for provider %s. Ignore",n.toB58String());return}if(e("received provider %s for %s (addrs %s)",n.toB58String(),s.toString(),a.multiaddrs.map(o=>o.toString())),!t._isSelf(a.id))return t.peerStore.addressBook.add(a.id,a.multiaddrs),t.providers.addProvider(s,a.id)}),t.providers.addProvider(s,n)}return r}});var B4=I((TR,A4)=>{"use strict";var{CID:BB}=(ti(),Ki),IB=ke(),CB=fn(),_4=tt();A4.exports=t=>{let e=_4.logger(t.peerId,"rpc:get-providers");async function r(n,i){let s;try{s=BB.decode(i.key)}catch(x){throw IB(new Error(`Invalid CID: ${x.message}`),"ERR_INVALID_CID")}e("%s",s.toString());let a=_4.bufferToKey(s.bytes),[o,f,u]=await Promise.all([t.datastore.has(a),t.providers.getProviders(s),t._betterPeersToQuery(i,n)]),c=f.map(x=>({id:x,multiaddrs:[]})),l=u.map(x=>({id:x.id,multiaddrs:[]}));o&&c.push({id:t.peerId,multiaddrs:[]});let y=new CB(i.type,i.key,i.clusterLevel);return c.length>0&&(y.providerPeers=c),l.length>0&&(y.closerPeers=l),e("got %s providers %s closerPeers",c.length,l.length),y}return r}});var C4=I((PR,I4)=>{"use strict";var TB=tt();I4.exports=t=>{let e=TB.logger(t.peerId,"rpc:ping");function r(n,i){return e("from %s",n.toB58String()),i}return r}});var P4=I((MR,T4)=>{"use strict";var Ps=fn().TYPES;T4.exports=t=>{let e={[Ps.GET_VALUE]:y4()(t),[Ps.PUT_VALUE]:g4()(t),[Ps.FIND_NODE]:x4()(t),[Ps.ADD_PROVIDER]:S4()(t),[Ps.GET_PROVIDERS]:B4()(t),[Ps.PING]:C4()(t)};function r(n){return e[n]}return r}});var q4=I((RR,R4)=>{"use strict";var{pipe:PB}=Nc(),M4=jc(),MB=fn(),RB=P4(),qB=tt();R4.exports=t=>{let e=qB.logger(t.peerId,"rpc"),r=RB(t);async function n(s,a){let o=r(a.type);try{await t._add(s)}catch(f){e.error("Failed to update the kbucket store",f)}if(!o){e.error(`no handler found for message type: ${a.type}`);return}return o(s,a)}async function i({stream:s,connection:a}){let o=a.remotePeer;try{await t._add(o)}catch(u){e.error(u)}let f=o.toB58String();e("from: %s",f),await PB(s.source,M4.decode(),u=>async function*(){for await(let c of u){let l=MB.deserialize(c.slice()),y=await n(o,l);y&&(yield y.serialize())}}(),M4.encode(),s.sink)}return i}});var D4=I((qR,N4)=>{"use strict";var Pf=ke(),{pipe:k4}=Nc(),oh=jc(),kB=Ss(),{consume:LB}=n3(),NB=s3(),DB=p3(),OB=q4(),KB=Gn(),FB=fn(),UB=tt(),L4=class{constructor(e){this.dht=e,this.readMessageTimeout=KB.READ_MESSAGE_TIMEOUT,this._log=UB.logger(this.dht.peerId,"net"),this._rpc=OB(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(){if(this._running)return;if(!this.dht.isStarted)throw Pf(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,this.dht._clientMode===!1&&this.dht.registrar.handle(this.dht.protocol,this._rpc);let e=new DB({multicodecs:[this.dht.protocol],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=this.dht.registrar.register(e)}stop(){!this.dht.isStarted&&!this.isStarted||(this._running=!1,this._registrarId&&this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(e){await this.dht._add(e),this._log("added to the routing table: %s",e.toB58String())}async sendRequest(e,r){if(!this.isConnected)throw Pf(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));let{stream:s}=await i.newStream(this.dht.protocol);return this._writeReadMessage(s,r.serialize())}async sendMessage(e,r){if(!this.isConnected)throw Pf(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));let{stream:s}=await i.newStream(this.dht.protocol);return this._writeMessage(s,r.serialize())}async _writeReadMessage(e,r){return kB(zB(e,r),this.readMessageTimeout)}_writeMessage(e,r){return k4([r],oh.encode(),e,LB)}};async function zB(t,e){let r=await k4([e],oh.encode(),t,oh.decode(),async n=>{let i=await NB(n);if(i)return i.slice()});if(r.length===0)throw Pf(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return FB.deserialize(r)}N4.exports=L4});var U4=I((kR,F4)=>{"use strict";var Mf=vo(),O4=tt(),VB=go(),{equals:HB}=(Gs(),$s),K4=class{constructor(e,r){this.originDhtKey=e,this.capacity=r,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(i=>HB(i.peerId.id,e.id)))return;let r=await O4.convertPeerId(e),n={peerId:e,distance:Mf(this.originDhtKey,r)};this.peerDistances.push(n),this.peerDistances.sort((i,s)=>Mf.compare(i.distance,s.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;let r=await VB(e,i=>O4.convertPeerId(i)),n=this.peerDistances[this.peerDistances.length-1].distance;for(let i of r){let s=Mf(this.originDhtKey,i);if(Mf.compare(s,n)<0)return!0}return!1}};F4.exports=K4});var V4=I((fh,z4)=>{(function(){var t,e,r,n,i,s,a,o,f,u,c,l,y,x,v;r=Math.floor,u=Math.min,e=function(b,_){return b<_?-1:b>_?1:0},f=function(b,_,A,M,q){var z;if(A==null&&(A=0),q==null&&(q=e),A<0)throw new Error("lo must be non-negative");for(M==null&&(M=b.length);A<M;)z=r((A+M)/2),q(_,b[z])<0?M=z:A=z+1;return[].splice.apply(b,[A,A-A].concat(_)),_},s=function(b,_,A){return A==null&&(A=e),b.push(_),x(b,0,b.length-1,A)},i=function(b,_){var A,M;return _==null&&(_=e),A=b.pop(),b.length?(M=b[0],b[0]=A,v(b,0,_)):M=A,M},o=function(b,_,A){var M;return A==null&&(A=e),M=b[0],b[0]=_,v(b,0,A),M},a=function(b,_,A){var M;return A==null&&(A=e),b.length&&A(b[0],_)<0&&(M=[b[0],_],_=M[0],b[0]=M[1],v(b,0,A)),_},n=function(b,_){var A,M,q,z,O,U,G,H;for(_==null&&(_=e),U=function(){H=[];for(var X=0,B=r(b.length/2);0<=B?X<B:X>B;0<=B?X++:X--)H.push(X);return H}.apply(this).reverse(),G=[],M=0,z=U.length;M<z;M++)A=U[M],G.push(v(b,A,_));return G},y=function(b,_,A){var M;if(A==null&&(A=e),M=b.indexOf(_),M!==-1)return x(b,0,M,A),v(b,M,A)},c=function(b,_,A){var M,q,z,O,U;if(A==null&&(A=e),q=b.slice(0,_),!q.length)return q;for(n(q,A),U=b.slice(_),z=0,O=U.length;z<O;z++)M=U[z],a(q,M,A);return q.sort(A).reverse()},l=function(b,_,A){var M,q,z,O,U,G,H,X,B,h;if(A==null&&(A=e),_*10<=b.length){if(O=b.slice(0,_).sort(A),!O.length)return O;for(z=O[O.length-1],X=b.slice(_),U=0,H=X.length;U<H;U++)M=X[U],A(M,z)<0&&(f(O,M,0,null,A),O.pop(),z=O[O.length-1]);return O}for(n(b,A),h=[],q=G=0,B=u(_,b.length);0<=B?G<B:G>B;q=0<=B?++G:--G)h.push(i(b,A));return h},x=function(b,_,A,M){var q,z,O;for(M==null&&(M=e),q=b[A];A>_;){if(O=A-1>>1,z=b[O],M(q,z)<0){b[A]=z,A=O;continue}break}return b[A]=q},v=function(b,_,A){var M,q,z,O,U;for(A==null&&(A=e),q=b.length,U=_,z=b[_],M=2*_+1;M<q;)O=M+1,O<q&&!(A(b[M],b[O])<0)&&(M=O),b[_]=b[M],_=M,M=2*_+1;return b[_]=z,x(b,U,_,A)},t=function(){b.push=s,b.pop=i,b.replace=o,b.pushpop=a,b.heapify=n,b.updateItem=y,b.nlargest=c,b.nsmallest=l;function b(_){this.cmp=_??e,this.nodes=[]}return b.prototype.push=function(_){return s(this.nodes,_,this.cmp)},b.prototype.pop=function(){return i(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(_){return this.nodes.indexOf(_)!==-1},b.prototype.replace=function(_){return o(this.nodes,_,this.cmp)},b.prototype.pushpop=function(_){return a(this.nodes,_,this.cmp)},b.prototype.heapify=function(){return n(this.nodes,this.cmp)},b.prototype.updateItem=function(_){return y(this.nodes,_,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var _;return _=new b,_.nodes=this.nodes.slice(0),_},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,_){return typeof define=="function"&&define.amd?define([],_):typeof fh=="object"?z4.exports=_():b.Heap=_()}(this,function(){return t})}).call(fh)});var j4=I((LR,H4)=>{H4.exports=V4()});var G4=I((NR,$4)=>{"use strict";var jB=j4(),$B=vo(),GB=hu(),Rf=tt(),uh=GB("libp2p:dht:peer-queue"),Ta=class{static async fromPeerId(e){let r=await Rf.convertPeerId(e);return new Ta(r)}static async fromKey(e){let r=await Rf.convertBuffer(e);return new Ta(r)}constructor(e){uh("create: %b",e),this.from=e,this.heap=new jB(Rf.xorCompare)}async enqueue(e){uh("enqueue %s",e.toB58String());let r=await Rf.convertPeerId(e),n={id:e,distance:$B(this.from,r)};this.heap.push(n)}dequeue(){let e=this.heap.pop();return uh("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}};$4.exports=Ta});var Q4=I((DR,W4)=>{"use strict";var YB=G4(),WB=tt(),QB=3e4,Y4=class{constructor(e,r){if(this.run=e,this.queryFunc=WB.withTimeout(r,QB),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if(typeof this.queryFunc!="function")throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null,this.res=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){let e=await YB.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map(r=>this.addPeerToQuery(r))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e.toB58String())||this.peersToQuery&&await this.peersToQuery.enqueue(e)}};W4.exports=Y4});var Z4=I((OR,ch)=>{"use strict";var JB=Object.prototype.hasOwnProperty,Gt="~";function Pa(){}Object.create&&(Pa.prototype=Object.create(null),new Pa().__proto__||(Gt=!1));function ZB(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function J4(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new ZB(r,n||t,i),a=Gt?Gt+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function qf(t,e){--t._eventsCount==0?t._events=new Pa:delete t._events[e]}function zt(){this._events=new Pa,this._eventsCount=0}zt.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)JB.call(r,n)&&e.push(Gt?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};zt.prototype.listeners=function(e){var r=Gt?Gt+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a};zt.prototype.listenerCount=function(e){var r=Gt?Gt+e:e,n=this._events[r];return n?n.fn?1:n.length:0};zt.prototype.emit=function(e,r,n,i,s,a){var o=Gt?Gt+e:e;if(!this._events[o])return!1;var f=this._events[o],u=arguments.length,c,l;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,r),!0;case 3:return f.fn.call(f.context,r,n),!0;case 4:return f.fn.call(f.context,r,n,i),!0;case 5:return f.fn.call(f.context,r,n,i,s),!0;case 6:return f.fn.call(f.context,r,n,i,s,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];f.fn.apply(f.context,c)}else{var y=f.length,x;for(l=0;l<y;l++)switch(f[l].once&&this.removeListener(e,f[l].fn,void 0,!0),u){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,r);break;case 3:f[l].fn.call(f[l].context,r,n);break;case 4:f[l].fn.call(f[l].context,r,n,i);break;default:if(!c)for(x=1,c=new Array(u-1);x<u;x++)c[x-1]=arguments[x];f[l].fn.apply(f[l].context,c)}}return!0};zt.prototype.on=function(e,r,n){return J4(this,e,r,n,!1)};zt.prototype.once=function(e,r,n){return J4(this,e,r,n,!0)};zt.prototype.removeListener=function(e,r,n,i){var s=Gt?Gt+e:e;if(!this._events[s])return this;if(!r)return qf(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&qf(this,s);else{for(var o=0,f=[],u=a.length;o<u;o++)(a[o].fn!==r||i&&!a[o].once||n&&a[o].context!==n)&&f.push(a[o]);f.length?this._events[s]=f.length===1?f[0]:f:qf(this,s)}return this};zt.prototype.removeAllListeners=function(e){var r;return e?(r=Gt?Gt+e:e,this._events[r]&&qf(this,r)):(this._events=new Pa,this._eventsCount=0),this};zt.prototype.off=zt.prototype.removeListener;zt.prototype.addListener=zt.prototype.on;zt.prefixed=Gt;zt.EventEmitter=zt;typeof ch!="undefined"&&(ch.exports=zt)});var e6=I((KR,X4)=>{"use strict";X4.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(n=>{n(e())}).then(()=>r),r=>new Promise(n=>{n(e())}).then(()=>{throw r})))});var r6=I((FR,kf)=>{"use strict";var XB=e6(),hh=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},t6=(t,e,r)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(t);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(f){i(f)}return}let a=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,o=r instanceof Error?r:new hh(a);typeof t.cancel=="function"&&t.cancel(),i(o)},e);XB(t.then(n,i),()=>{clearTimeout(s)})});kf.exports=t6;kf.exports.default=t6;kf.exports.TimeoutError=hh});var n6=I(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});function eI(t,e,r){let n=0,i=t.length;for(;i>0;){let s=i/2|0,a=n+s;r(t[a],e)<=0?(n=++a,i-=s+1):i=s}return n}lh.default=eI});var s6=I(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var tI=n6(),i6=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=tI.default(this._queue,n,(s,a)=>a.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};dh.default=i6});var yh=I(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var rI=Z4(),a6=r6(),nI=s6(),Lf=()=>{},iI=new a6.TimeoutError,o6=class extends rI{constructor(e){var r,n,i,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Lf,this._resolveIdle=Lf,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:nI.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Lf,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Lf,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let a=this._timeout===void 0&&r.timeout===void 0?e():a6.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(iI)});n(await a)}catch(a){i(a)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};ph.default=o6});var c6=I((HR,u6)=>{"use strict";var{default:sI}=yh(),f6=class{constructor(e,r,n,i){this.dht=e,this.run=r,this.path=n,this.log=i,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null,this.queuedPeerIds=new Set}setupQueue(){let e=new sI({concurrency:this.concurrency});return e.on("idle",()=>{this.path.peersToQuery&&!this.path.peersToQuery.length&&(this.log("queue:drain"),this.stop())}),e.on("next",()=>{!this.running||e.pending<this.concurrency&&this.fill()}),e}stop(e){!this.running||(this.running=!1,this.queue.clear(),this.log("worker:stop, %d workers still running",this.run.workers.filter(r=>r.running).length),this.execution&&(e?this.execution.reject(e):this.execution.resolve()))}async execute(){this.running=!0,this.execution=null;let e=new Promise((r,n)=>{this.execution={resolve:r,reject:n}});this.fill(),await e}fill(){if(!!this.path.peersToQuery)for(;this.queue.pending+this.queue.size<this.concurrency&&this.path.peersToQuery.length>0;){let e=this.path.peersToQuery.dequeue();this.queuedPeerIds.add(e),this.queue.add(()=>this.processNext(e).catch(r=>{this.log.error("queue",r),this.stop(r)}).finally(()=>{this.queuedPeerIds.delete(e)}))}}async processNext(e){if(!this.running||this.run.peersSeen.has(e.toB58String()))return;let r,n;try{r=await this.run.continueQuerying(this)}catch(a){n=a}if(!this.running)return;if(n)throw n;if(!r){this.stop();return}if(this.run.peersSeen.has(e.toB58String()))return;this.run.peersSeen.add(e.toB58String()),this.log("queue:work");let i,s;try{i=await this.execQuery(e)}catch(a){s=a}if(!!this.running){if(this.log("queue:work:done",s,i),s)throw s;if(i&&i.queryComplete){this.log("query:complete"),this.run.stop();return}i&&i.pathComplete&&this.stop()}}async execQuery(e){let r,n;try{r=await this.path.queryFunc(e)}catch(i){n=i}if(!!this.running){if(n){this.run.errors.push(n);return}if(this.run.peersQueried&&await this.run.peersQueried.add(e),!!r){if(r.pathComplete||r.queryComplete)return this.path.res=r,{pathComplete:r.pathComplete,queryComplete:r.queryComplete};if(r.closerPeers&&r.closerPeers.length>0){let i=async s=>{this.dht._isSelf(s.id)||(this.dht._peerDiscovered(s.id,s.multiaddrs),await this.path.addPeerToQuery(s.id))};await Promise.all(r.closerPeers.map(i))}}}}};u6.exports=f6});var d6=I((jR,l6)=>{"use strict";var aI=U4(),oI=Fa(),fI=Q4(),uI=c6(),cI=tt(),h6=class extends oI{constructor(e){super();this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(!!this.running){this.running=!1;for(let e of this.workers)e.stop()}}async execute(e){let r=[],n=Math.min(this.query.dht.disjointPaths,e.length);for(let s=0;s<n;s++)r.push(new fI(this,this.query.makePath(s,n)));e.forEach((s,a)=>{r[a%n].addInitialPeer(s)}),await this.executePaths(r);let i={finalSet:new Set(this.peersQueried&&this.peersQueried.peers),paths:[]};for(let s of r)s.res&&(s.res.pathComplete||s.res.queryComplete)&&(s.res.success=!0,i.paths.push(s.res));return i}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map(r=>r.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){let r=new uI(this.query.dht,this,e,this.query._log);this.workers.push(r),await r.execute()}async init(){if(!this.peersQueried){if(this.peersQueriedPromise){await this.peersQueriedPromise;return}this.peersQueriedPromise=(async()=>{let e=await cI.convertBuffer(this.query.key);this.peersQueried=new aI(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise}}async continueQuerying(e){if(this.peersQueried&&this.peersQueried.length<this.peersQueried.capacity)return!0;let r=Array.from(e.queuedPeerIds);return!!(this.peersQueried&&await this.peersQueried.anyCloser(r))}};l6.exports=h6});var Nf=I(($R,y6)=>{"use strict";var{base58btc:hI}=(Dr(),Nr),lI=tt(),dI=d6(),p6=class{constructor(e,r,n){this.dht=e,this.key=r,this.makePath=n,this._log=lI.logger(this.dht.peerId,"query:"+hI.baseEncode(r)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?e.length===0?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new dI(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-(this._startTime||0)}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),!!this.running&&(this.running=!1,this._run&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this._run.stop()),this.dht._queryManager.queryCompleted(this))}};y6.exports=p6});var m6=I((GR,g6)=>{"use strict";var bh=ke(),pI=Ss(),{equals:yI}=(Gs(),$s),{toString:b6}=(Ws(),Ys),v6=Ui(),vh=Gn(),bI=Nf(),Bi=tt(),vI=v6.Record;g6.exports=t=>{let e=async(i,s)=>t.datastore.put(Bi.bufferToKey(i),s),r=async i=>{t._log(`getLocal ${b6(i,"base32")}`);let s=await t.datastore.get(Bi.bufferToKey(i));t._log(`found ${b6(i,"base32")} in local datastore`);let a=vI.deserialize(s);return await t._verifyRecordLocally(a),a},n=async(i,s,a)=>{let o=await Bi.createPutRecord(i,a);return Promise.all(s.map(async f=>{if(!yI(f.val,a)){if(t._isSelf(f.from)){try{await t._putLocal(i,o)}catch(u){t._log.error("Failed error correcting self",u)}return}try{await t._putValueToPeer(i,o,f.from)}catch(u){t._log.error("Failed error correcting entry",u)}}}))};return{async _putLocal(i,s){return e(i,s)},async put(i,s,a={}){t._log("PutValue %b",i);let o=await Bi.createPutRecord(i,s);await e(i,o);let f=0,u=0;await Bi.mapParallel(t.getClosestPeers(i,{shallow:!0}),async l=>{try{f+=1,await t._putValueToPeer(i,o,l),u+=1}catch(y){t._log.error("Failed to put to peer (%b): %s",l.id,y)}});let c=a.minPeers||f;if(c>u){let l=bh(new Error(`Failed to put value to enough peers: ${u}/${c}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw t._log.error(l),l}},async get(i,s={}){s.timeout=s.timeout||vh.minute,t._log("_get %b",i);let a=await t.getMany(i,vh.GET_MANY_RECORD_COUNT,s),o=a.map(c=>c.val),f=0;try{f=v6.selection.bestRecord(t.selectors,i,o)}catch(c){if(c.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw c}let u=o[f];if(t._log("GetValue %b %s",i,u),!u)throw bh(new Error("best value was not found"),"ERR_NOT_FOUND");return await n(i,a,u),u},async getMany(i,s,a={}){a.timeout=a.timeout||vh.minute,t._log("getMany %b (%s)",i,s);let o=[],f;try{f=await r(i)}catch(v){if(s===0)throw v}if(f&&o.push({val:f.value,from:t.peerId}),o.length>=s)return o;let u=await Bi.convertBuffer(i),c=t.routingTable.closestPeers(u,t.kBucketSize);if(t._log("peers in rt: %d",c.length),c.length===0){let v="Failed to lookup key! No peers from routing table!";if(t._log.error(v),o.length===0)throw bh(new Error(v),"ERR_NO_PEERS_IN_ROUTING_TABLE");return o}let l=o.length;function y(v,b){let _=Bi.pathSize(s-l,b),A=0;async function M(q){let z,O,U;try{let H=await t._getValueOrPeers(q,i);z=H.record,O=H.peers}catch(H){if(H.code!=="ERR_INVALID_RECORD")throw H;U=H}let G={closerPeers:O};return z&&z.value?(o.push({val:z.value,from:q}),A++):U&&(o.push({err:U,from:q}),A++),A>=_&&(G.pathComplete=!0),G}return M}let x=new bI(t,i,y);try{await pI(x.run(c),a.timeout)}catch(v){if(o.length===0)throw v}finally{x.stop()}return o}}}});var E6=I((YR,w6)=>{"use strict";var x6=class{constructor(){this.list=[]}push(e){return this.has(e.id)?!1:(this.list.push(e),!0)}has(e){let r=this.list.find(n=>n.id.equals(e));return Boolean(r)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}};w6.exports=x6});var A6=I((WR,_6)=>{"use strict";var gI=E6(),S6=class extends gI{constructor(e){super();this.limit=e}push(e){return this.length<this.limit?super.push(e):!1}};_6.exports=S6});var M6=I((QR,P6)=>{"use strict";var mI=ke(),B6=Ss(),I6=Gn(),C6=A6(),Df=fn(),xI=Nf(),T6=tt();P6.exports=t=>{let e=async(r,n)=>{let i=new Df(Df.TYPES.GET_PROVIDERS,n.bytes,0);return t.network.sendRequest(r,i)};return{async provide(r){t._log(`provide: ${r}`);let n=[];await t.providers.addProvider(r,t.peerId);let i=t.libp2p?t.libp2p.multiaddrs:[],s=new Df(Df.TYPES.ADD_PROVIDER,r.bytes,0);s.providerPeers=[{id:t.peerId,multiaddrs:i}];async function a(o){t._log(`putProvider ${r} to ${o.toB58String()}`);try{await t.network.sendMessage(o,s)}catch(f){n.push(f)}}if(await T6.mapParallel(t.getClosestPeers(r.bytes),a),n.length)throw mI(new Error(`Failed to provide to ${n.length} of ${t.kBucketSize} peers`),"ERR_SOME_PROVIDES_FAILED",{errors:n})},async*findProviders(r,n={timeout:6e4,maxNumProviders:5}){let i=n.timeout||I6.minute,s=n.maxNumProviders||I6.K;t._log(`findProviders ${r}`);let a=new C6(s);if((await t.providers.getProviders(r)).forEach(y=>{let x=t.peerStore.get(y);x?a.push({id:x.id,multiaddrs:x.addresses.map(v=>v.multiaddr)}):a.push({id:y,multiaddrs:[]})}),a.length>=s){for(let y of a.toArray())yield y;return}let f=[];function u(y,x){let v=T6.pathSize(s-a.length,x),b=new C6(v);f.push(b);async function _(A){let M=await e(A,r),q=M.providerPeers;return t._log(`Found ${q.length} provider entries for ${r}`),q.forEach(z=>{b.push({...z})}),b.length>=v?{pathComplete:!0}:{closerPeers:M.closerPeers}}return _}let c=new xI(t,r.bytes,u),l=t.routingTable.closestPeers(r.bytes,t.kBucketSize);try{await B6(c.run(l),i)}catch(y){if(y.name!==B6.TimeoutError.name)throw y}finally{c.stop()}f.forEach(y=>{y.toArray().forEach(x=>{a.push(x)})});for(let y of a.toArray())yield y}}}});var k6=I((JR,q6)=>{"use strict";Co();var Of=Be(),Ms=Nn(),R6=Ln();q6.exports={createCipheriv:(t,e,r)=>{let n=Of.cipher.createCipher("AES-CTR",Ms(e,"ascii"));return n.start({iv:Ms(r,"ascii")}),{update:i=>(n.update(Of.util.createBuffer(Ms(i,"ascii"))),R6(n.output.getBytes(),"ascii"))}},createDecipheriv:(t,e,r)=>{let n=Of.cipher.createDecipher("AES-CTR",Ms(e,"ascii"));return n.start({iv:Ms(r,"ascii")}),{update:i=>(n.update(Of.util.createBuffer(Ms(i,"ascii"))),R6(n.output.getBytes(),"ascii"))}}}});var D6=I((ZR,N6)=>{"use strict";var wI=ke(),L6={16:"aes-128-ctr",32:"aes-256-ctr"};N6.exports=function(t){let e=L6[t.length];if(!e){let r=Object.entries(L6).map(([n,i])=>`${n} (${i})`).join(" / ");throw wI(new Error(`Invalid key length ${t.length} bytes. Must be ${r}`),"ERR_INVALID_KEY_LENGTH")}return e}});var F6=I(K6=>{"use strict";var O6=k6(),EI=D6();K6.create=async function(t,e){let r=EI(t),n=O6.createCipheriv(r,t,e),i=O6.createDecipheriv(r,t,e);return{async encrypt(a){return n.update(a)},async decrypt(a){return i.update(a)}}}});var V6=I((eq,z6)=>{"use strict";var SI=_u(),_I=Qe(),AI=ke(),U6={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function BI(t,e,r,n,i){let s=U6[i];if(!s){let o=Object.keys(U6).join(" / ");throw AI(new Error(`Hash '${i}' is unknown or not supported. Must be ${o}`),"ERR_UNSUPPORTED_HASH_TYPE")}let a=SI(t,e,r,n,s);return _I.encode64(a)}z6.exports=BI});var gh=I(Rs=>{"use strict";var II=Ec(),CI=F6(),TI=Ac();Rs.aes=CI;Rs.hmac=II;Rs.keys=TI;Rs.randomBytes=zo();Rs.pbkdf2=V6()});var $6=I((rq,j6)=>{"use strict";var Ma=ke(),PI=Ss(),mh=Es(),MI=gh(),{toString:RI}=(Ws(),Ys),qI=Gn(),Kf=fn(),H6=Nf(),Ra=tt();j6.exports=t=>{let e=async s=>{t._log(`findPeerLocal ${s.toB58String()}`);let a=await t.routingTable.find(s),o=a&&t.peerStore.get(a);if(o)return{id:o.id,multiaddrs:o.addresses.map(f=>f.multiaddr)}},r=async(s,a)=>{let o=new Kf(Kf.TYPES.GET_VALUE,a,0);return t.network.sendRequest(s,o)},n=async(s,a)=>(t._log(`closerPeersSingle ${RI(s,"base32")} from ${a.toB58String()}`),(await t.peerRouting._findPeerSingle(a,new mh(s))).closerPeers.filter(f=>!t._isSelf(f.id)).map(f=>(t.peerStore.addressBook.add(f.id,f.multiaddrs),f))),i=async s=>{let a=Ra.keyForPublicKey(s),o=await r(s,a);if(!o.record||!o.record.value)throw Ma(new Error(`Node not responding with its public key: ${s.toB58String()}`),"ERR_INVALID_RECORD");let f=await mh.createFromPubKey(o.record.value);if(!f.equals(s))throw Ma(new Error("public key does not match id"),"ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return f.pubKey};return{async _findPeerSingle(s,a){t._log("findPeerSingle %s",s.toB58String());let o=new Kf(Kf.TYPES.FIND_NODE,a.id,0);return t.network.sendRequest(s,o)},async findPeer(s,a={timeout:6e4}){a.timeout=a.timeout||qI.minute,t._log("findPeer %s",s.toB58String());let o=await e(s);if(o!=null)return t._log("found local"),o;let f=await Ra.convertPeerId(s),u=t.routingTable.closestPeers(f,t.kBucketSize);if(u.length===0)throw Ma(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(u.find(b=>b.isEqual(s))){let b=t.peerStore.get(s);if(b)return t._log("found in peerStore"),{id:b.id,multiaddrs:b.addresses.map(_=>_.multiaddr)}}let l=new H6(t,s.id,()=>async _=>{let A=await this._findPeerSingle(_,s),M=A.closerPeers.find(q=>q.id.isEqual(s));return M?{peer:M,queryComplete:!0}:{closerPeers:A.closerPeers}}),y;try{y=await PI(l.run(u),a.timeout)}finally{l.stop()}let x=!1;if(y.paths.forEach(b=>{b.success&&b.peer&&(x=!0,t.peerStore.addressBook.add(b.peer.id,b.peer.multiaddrs))}),t._log("findPeer %s: %s",s.toB58String(),x),!x)throw Ma(new Error("No peer found"),"ERR_NOT_FOUND");let v=t.peerStore.get(s);if(!v)throw Ma(new Error("No peer found in peer store"),"ERR_NOT_FOUND");return{id:v.id,multiaddrs:v.addresses.map(b=>b.multiaddr)}},async*getClosestPeers(s,a={shallow:!1}){t._log("getClosestPeers to %b",s);let o=await Ra.convertBuffer(s),f=t.routingTable.closestPeers(o,t.kBucketSize),c=await new H6(t,s,()=>async y=>({closerPeers:await n(s,y),pathComplete:a.shallow?!0:void 0})).run(f);if(!c||!c.finalSet)return[];let l=await Ra.sortClosestPeers(Array.from(c.finalSet),o);for(let y of l.slice(0,t.kBucketSize))yield y},async getPublicKey(s){t._log("getPublicKey %s",s.toB58String());let a=t.peerStore.get(s);if(a&&a.id.pubKey)return t._log("getPublicKey: found local copy"),a.id.pubKey;let o;try{o=await i(s)}catch(c){let l=Ra.keyForPublicKey(s),y=await t.get(l);o=MI.keys.unmarshalPublicKey(y)}let f=new mh(s.id,void 0,o),u=(a&&a.addresses||[]).map(c=>c.multiaddr);return t.peerStore.addressBook.add(f,u),t.peerStore.keyBook.set(f,o),o}}}});var Y6=I((nq,G6)=>{G6.exports=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,r=Object.create(null),n=Object.create(null);function i(s,a){r[s]=a,e++,e>=t&&(e=0,n=r,r=Object.create(null))}return{has:function(s){return r[s]!==void 0||n[s]!==void 0},remove:function(s){r[s]!==void 0&&(r[s]=void 0),n[s]!==void 0&&(n[s]=void 0)},get:function(s){var a=r[s];if(a!==void 0)return a;if((a=n[s])!==void 0)return i(s,a),a},set:function(s,a){r[s]!==void 0?r[s]=a:i(s,a)},clear:function(){r=Object.create(null),n=Object.create(null)}}}});var e8=I((iq,X6)=>{"use strict";var kI=Y6(),W6=_i(),LI=Es(),{Key:NI}=oo(),{default:DI}=yh(),qa=Gn(),ka=tt(),Q6=class{constructor(e,r,n){this.datastore=e,this._log=ka.logger(r,"providers"),this.cleanupInterval=qa.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=qa.PROVIDERS_VALIDITY,this.lruCacheSize=n||qa.PROVIDERS_LRU_CACHE_SIZE,this.providers=kI(this.lruCacheSize),this.syncQueue=new DI({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");let e=Date.now(),r=0,n=0,i=new Map,s=this.datastore.batch(),a=this.datastore.query({prefix:qa.PROVIDERS_KEY_PREFIX});for await(let o of a)try{let{cid:f,peerId:u}=J6(o.key),c=Z6(o.value),l=Date.now(),y=l-c,x=y>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",l,c,y,this.provideValidity,x?"(expired)":""),x){n++,s.delete(o.key);let v=i.get(f)||new Set;v.add(u),i.set(f,v)}r++}catch(f){this._log.error(f.message)}this._log("deleting %d / %d entries",n,r),i.size&&await s.commit();for(let[o,f]of i){let u=La(o),c=this.providers.get(u);if(c){for(let l of f)c.delete(l);c.size===0?this.providers.remove(u):this.providers.set(u,c)}}this._log("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){let r=La(e),n=this.providers.get(r);return n||(n=await KI(this.datastore,e),this.providers.set(r,n)),n}async addProvider(e,r){return this.syncQueue.add(async()=>{this._log("addProvider %s",e.toString());let n=await this._getProvidersMap(e);this._log("loaded %s provs",n.size);let i=new Date;n.set(ka.encodeBase32(r.id),i);let s=La(e);return this.providers.set(s,n),OI(this.datastore,e,r,i)})}async getProviders(e){return this.syncQueue.add(async()=>(this._log("getProviders %s",e.toString()),[...(await this._getProvidersMap(e)).keys()].map(n=>new LI(ka.decodeBase32(n)))))}};function La(t){return t=typeof t=="string"?t:ka.encodeBase32(t.bytes),qa.PROVIDERS_KEY_PREFIX+t}async function OI(t,e,r,n){let i=[La(e),"/",ka.encodeBase32(r.id)].join(""),s=new NI(i),a=Uint8Array.from(W6.encode(n.getTime()));return t.put(s,a)}function J6(t){let e=t.toString().split("/");if(e.length!==4)throw new Error("incorrectly formatted provider entry key in datastore: "+t);return{cid:e[2],peerId:e[3]}}async function KI(t,e){let r=new Map,n=t.query({prefix:La(e)});for await(let i of n){let{peerId:s}=J6(i.key);r.set(s,Z6(i.value))}return r}function Z6(t){return W6.decode(t)}X6.exports=Q6});var r8=I((sq,Ff)=>{"use strict";var{AbortController:t8,AbortSignal:FI}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Ff.exports=t8;Ff.exports.AbortSignal=FI;Ff.exports.default=t8});var i8=I((aq,xh)=>{"use strict";var UI=go(),n8=async(t,e,r)=>UI(new Array(t).fill(),(n,i)=>e(i),r);xh.exports=n8;xh.exports.default=n8});var o8=I((oq,a8)=>{"use strict";var zI=gh(),{sha256:VI}=(un(),Or),HI=Es(),{AbortController:jI}=r8(),$I=ke(),GI=i8(),YI=Gn(),{logger:WI}=tt(),s8=class{constructor(e,r){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...YI.defaultRandomWalk,...r},this.log=WI(e.peerId,"random-walk"),this._timeoutId=void 0}start(){this._running||(this._running=!0,!(this._timeoutId||!this._options.enabled)&&(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay)))}stop(){this._running=!1,this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}if(!this._running)return;await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,r){this.log("start"),this._controller=new jI;try{await GI(e,async n=>{this.log("running query %d",n);try{let i=await this._randomPeerId();if(!this._controller)return;await this._query(i,{timeout:r,signal:this._controller.signal})}catch(i){if(i&&i.code!=="ETIMEDOUT")throw this.log.error("query %d finished with error",n,i),i}this.log("finished query %d",n)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,r){this.log("query:%s",e.toB58String());let n;try{n=await this._kadDHT.findPeer(e,r)}catch(i){if(i&&i.code==="ERR_NOT_FOUND")return;throw i}throw this.log("query:found",n),$I(new Error(`random-walk: ACTUALLY FOUND PEER: ${n}, ${e.toB58String()}`),"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){let e=await VI.digest(zI.randomBytes(16));return new HI(e.bytes)}};a8.exports=s8});var c8=I((fq,u8)=>{"use strict";var f8=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(let e of this.queries)e.stop();this.queries.clear()}};u8.exports=f8});var aC=I((uq,Sh)=>{"use strict";var{EventEmitter:QI}=Fa(),Uf=ke(),Na=Ui(),{MemoryDatastore:JI}=oo(),{equals:h8}=(Gs(),$s),{toString:wh}=(Ws(),Ys),ZI=mg(),qs=tt(),Da=Gn(),XI=D4(),eC=m6(),tC=M6(),rC=$6(),zf=fn(),nC=e8(),iC=o8(),sC=c8(),Eh=Na.Record,l8=class extends QI{constructor({libp2p:e,dialer:r,peerId:n,peerStore:i,registrar:s,protocolPrefix:a="/ipfs",forceProtocolLegacy:o=!1,datastore:f=new JI,kBucketSize:u=Da.K,clientMode:c=!1,concurrency:l=Da.ALPHA,validators:y={},selectors:x={},randomWalk:v={enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:3e4,delay:1e4},onPut:b=()=>{},onRemove:_=()=>{}}){super();if(!r)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=e,this.dialer=r,this.peerId=n,this.peerStore=i,this.registrar=s,this.protocol=a+(o?"":Da.PROTOCOL_DHT),this.kBucketSize=u,this._clientMode=c,this.concurrency=l,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new ZI(this.peerId,this.kBucketSize),this.datastore=f,this.providers=new nC(this.datastore,this.peerId),this.validators={pk:Na.validator.validators.pk,...y},this.selectors={pk:Na.selection.selectors.pk,...x},this.network=new XI(this),this._log=qs.logger(this.peerId),this.randomWalk=new iC(this,v),this._queryManager=new sC,this._running=!1,this.contentFetching=eC(this),this.contentRouting=tC(this),this.peerRouting=rC(this),this.onPut=b,this.onRemove=_}get isStarted(){return this._running}start(){this._running||(this._running=!0,this.providers.start(),this._queryManager.start(),this.network.start(),this.randomWalk.start())}stop(){this._running=!1,this.randomWalk.stop(),this.network.stop(),this._queryManager.stop(),this.providers.stop()}async put(e,r,n={}){return this.contentFetching.put(e,r,n)}async get(e,r={}){return this.contentFetching.get(e,r)}async getMany(e,r,n={}){return this.contentFetching.getMany(e,r,n)}async removeLocal(e){this._log(`removeLocal: ${wh(e,"base32")}`);let r=qs.bufferToKey(e);try{await this.datastore.delete(r)}catch(n){if(n.code==="ERR_NOT_FOUND")return;throw n}}async _putLocal(e,r){this._log(`_putLocal: ${wh(e,"base32")}`);let n=qs.bufferToKey(e);await this.datastore.put(n,r)}async provide(e){return this.contentRouting.provide(e)}async*findProviders(e,r={timeout:6e3,maxNumProviders:5}){for await(let n of this.contentRouting.findProviders(e,r))yield n}async findPeer(e,r={timeout:6e4}){return this.peerRouting.findPeer(e,r)}async*getClosestPeers(e,r={shallow:!1}){yield*this.peerRouting.getClosestPeers(e,r)}getPublicKey(e){return this.peerRouting.getPublicKey(e)}_peerDiscovered(e,r){this.emit("peer",{id:e,multiaddrs:r})}async _nearestPeersToQuery(e){let r=await qs.convertBuffer(e.key);return this.routingTable.closestPeers(r,this.kBucketSize).map(i=>{let s=this.peerStore.get(i);return{id:i,multiaddrs:s?s.addresses.map(a=>a.multiaddr):[]}})}async _betterPeersToQuery(e,r){return this._log("betterPeersToQuery"),(await this._nearestPeersToQuery(e)).filter(i=>this._isSelf(i.id)?(this._log.error("trying to return self as closer"),!1):!i.id.isEqual(r))}async _checkLocalDatastore(e){this._log(`checkLocalDatastore: ${wh(e)} %b`,e);let r=qs.bufferToKey(e),n;try{n=await this.datastore.get(r)}catch(s){if(s.code==="ERR_NOT_FOUND")return;throw s}let i=Eh.deserialize(n);if(!i)throw Uf(new Error("Invalid record"),"ERR_INVALID_RECORD");if(i.timeReceived==null||qs.now()-i.timeReceived.getTime()>Da.MAX_RECORD_AGE){await this.datastore.delete(r),this.onRemove(i);return}return i}async _add(e){await this.routingTable.add(e)}async _verifyRecordLocally(e){this._log("verifyRecordLocally"),await Na.validator.verifyRecord(this.validators,e)}_isSelf(e){return e&&h8(this.peerId.id,e.id)}async _putValueToPeer(e,r,n){let i=new zf(zf.TYPES.PUT_VALUE,e,0);i.record=Eh.deserialize(r);let s=await this.network.sendRequest(n,i);if(s.record&&!h8(s.record.value,Eh.deserialize(r).value))throw Uf(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(e,r){let n=await this._getValueSingle(e,r),i=n.closerPeers,s=n.record;if(s){try{await this._verifyRecordOnline(s)}catch(a){let o="invalid record received, discarded";throw this._log(o),Uf(new Error(o),"ERR_INVALID_RECORD")}return{record:s,peers:i}}if(i.length>0)return{peers:i};throw Uf(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(e,r){let n=new zf(zf.TYPES.GET_VALUE,r,0);return this.network.sendRequest(e,n)}async _verifyRecordOnline(e){await Na.validator.verifyRecord(this.validators,e)}};Sh.exports=l8;Sh.exports.multicodec="/ipfs"+Da.PROTOCOL_DHT});return aC();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pKadDht}));
