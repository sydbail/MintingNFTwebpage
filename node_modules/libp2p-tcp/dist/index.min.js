(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pTcp = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pTcp=(()=>{var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var wn=S((Gl,vn)=>{"use strict";var mn="[a-fA-F\\d:]",Ce=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${mn})|(?<=${mn})(?=\\s|$))`:"",fe="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",N="[a-fA-F\\d]{1,4}",Et=`
(?:
(?:${N}:){7}(?:${N}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${N}:){6}(?:${fe}|:${N}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${N}:){5}(?::${fe}|(?::${N}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${N}:){4}(?:(?::${N}){0,1}:${fe}|(?::${N}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${N}:){3}(?:(?::${N}){0,2}:${fe}|(?::${N}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${N}:){2}(?:(?::${N}){0,3}:${fe}|(?::${N}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${N}:){1}(?:(?::${N}){0,4}:${fe}|(?::${N}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${N}){0,5}:${fe}|(?::${N}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Pa=new RegExp(`(?:^${fe}$)|(?:^${Et}$)`),Fa=new RegExp(`^${fe}$`),Na=new RegExp(`^${Et}$`),hr=t=>t&&t.exact?Pa:new RegExp(`(?:${Ce(t)}${fe}${Ce(t)})|(?:${Ce(t)}${Et}${Ce(t)})`,"g");hr.v4=t=>t&&t.exact?Fa:new RegExp(`${Ce(t)}${fe}${Ce(t)}`,"g");hr.v6=t=>t&&t.exact?Na:new RegExp(`${Ce(t)}${Et}${Ce(t)}`,"g");vn.exports=hr});var Sn=S((Zl,An)=>{"use strict";var dr=wn(),$e=t=>dr({exact:!0}).test(t);$e.v4=t=>dr.v4({exact:!0}).test(t);$e.v6=t=>dr.v6({exact:!0}).test(t);$e.version=t=>$e(t)?$e.v4(t)?4:6:void 0;An.exports=$e});var Tn=S((Hl,En)=>{"use strict";function $a(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),c=o.charCodeAt(0);if(e[c]!==255)throw new TypeError(o+" is ambiguous");e[c]=n}var f=t.length,p=t.charAt(0),b=Math.log(f)/Math.log(256),m=Math.log(256)/Math.log(f);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,R=0,_=0,T=g.length;_!==T&&g[_]===0;)_++,y++;for(var B=(T-_)*m+1>>>0,x=new Uint8Array(B);_!==T;){for(var O=g[_],F=0,M=B-1;(O!==0||F<R)&&M!==-1;M--,F++)O+=256*x[M]>>>0,x[M]=O%f>>>0,O=O/f>>>0;if(O!==0)throw new Error("Non-zero carry");R=F,_++}for(var q=B-R;q!==B&&x[q]===0;)q++;for(var K=p.repeat(y);q<B;++q)K+=t.charAt(x[q]);return K}function A(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var R=0,_=0;g[y]===p;)R++,y++;for(var T=(g.length-y)*b+1>>>0,B=new Uint8Array(T);g[y];){var x=e[g.charCodeAt(y)];if(x===255)return;for(var O=0,F=T-1;(x!==0||O<_)&&F!==-1;F--,O++)x+=f*B[F]>>>0,B[F]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");_=O,y++}if(g[y]!==" "){for(var M=T-_;M!==T&&B[M]===0;)M++;for(var q=new Uint8Array(R+(T-M)),K=R;M!==T;)q[K++]=B[M++];return q}}}function E(g){var y=A(g);if(y)return y;throw new Error("Non-base"+f+" character")}return{encode:l,decodeUnsafe:A,decode:E}}En.exports=$a});var Tt=S((Wl,Cn)=>{"use strict";var Ua=new TextDecoder,ka=t=>Ua.decode(t),La=new TextEncoder,za=t=>La.encode(t);function Va(t,e){let r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}Cn.exports={decodeText:ka,encodeText:za,concat:Va}});var In=S((Yl,_n)=>{"use strict";var{encodeText:Ga}=Tt(),Bn=class{constructor(e,r,n,o){this.name=e,this.code=r,this.codeBuf=Ga(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};_n.exports=Bn});var xn=S((Jl,Rn)=>{"use strict";var Za=(t,e,r)=>{let n={};for(let m=0;m<e.length;++m)n[e[m]]=m;let o=t.length;for(;t[o-1]==="=";)--o;let c=new Uint8Array(o*r/8|0),f=0,p=0,b=0;for(let m=0;m<o;++m){let l=n[t[m]];if(l===void 0)throw new SyntaxError("Invalid character "+t[m]);p=p<<r|l,f+=r,f>=8&&(f-=8,c[b++]=255&p>>f)}if(f>=r||255&p<<8-f)throw new SyntaxError("Unexpected end of data");return c},Ha=(t,e,r)=>{let n=e[e.length-1]==="=",o=(1<<r)-1,c="",f=0,p=0;for(let b=0;b<t.length;++b)for(p=p<<8|t[b],f+=8;f>r;)f-=r,c+=e[o&p>>f];if(f&&(c+=e[o&p<<r-f]),n)for(;c.length*r&7;)c+="=";return c},Wa=t=>e=>({encode(r){return Ha(r,e,t)},decode(r){return Za(r,e,t)}});Rn.exports={rfc4648:Wa}});var jn=S((Xl,Mn)=>{"use strict";var at=Tn(),Ya=In(),{rfc4648:z}=xn(),{decodeText:Ja,encodeText:Xa}=Tt(),Ka=()=>({encode:Ja,decode:Xa}),On=[["identity","\0",Ka,""],["base2","0",z(1),"01"],["base8","7",z(3),"01234567"],["base10","9",at,"0123456789"],["base16","f",z(4),"0123456789abcdef"],["base16upper","F",z(4),"0123456789ABCDEF"],["base32hex","v",z(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",z(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",z(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",z(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",z(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",z(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",z(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",z(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",z(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",at,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",at,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",at,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",at,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",z(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",z(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",z(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",z(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Dn=On.reduce((t,e)=>(t[e[0]]=new Ya(e[0],e[1],e[2],e[3]),t),{}),Qa=On.reduce((t,e)=>(t[e[1]]=Dn[e[0]],t),{});Mn.exports={names:Dn,codes:Qa}});var gr=S((me,qn)=>{"use strict";var Ue=jn(),{encodeText:ec,decodeText:Ct,concat:Pn}=Tt();function rc(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=Oe(t);return tc(r,e),Pn([n,e],n.length+e.length)}function nc(t,e){let r=Oe(t),n=ec(r.encode(e));return Pn([r.codeBuf,n],r.codeBuf.length+n.length)}function sc(t){t instanceof Uint8Array&&(t=Ct(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),Oe(t[0]).decode(t.substring(1))}function ic(t){if(t instanceof Uint8Array&&(t=Ct(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return Oe(t[0]).name}catch(e){return!1}}function tc(t,e){Oe(t).decode(Ct(e))}function Oe(t){if(Object.prototype.hasOwnProperty.call(Ue.names,t))return Ue.names[t];if(Object.prototype.hasOwnProperty.call(Ue.codes,t))return Ue.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function oc(t){return t instanceof Uint8Array&&(t=Ct(t)),Oe(t[0])}me=qn.exports=rc;me.encode=nc;me.decode=sc;me.isEncoded=ic;me.encoding=Oe;me.encodingFromData=oc;var ac=Object.freeze(Ue.names),cc=Object.freeze(Ue.codes);me.names=ac;me.codes=cc});var ct=S((Kl,Fn)=>{"use strict";var{encoding:uc}=gr(),fc=new TextDecoder("utf8");function lc(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function pc(t,e="utf8"){return e==="utf8"||e==="utf-8"?fc.decode(t):e==="ascii"?lc(t):uc(e).encode(t)}Fn.exports=pc});var Ln=S((Ql,Nn)=>{"use strict";var br=Sn(),$n=ct(),hc=br,yr=br.v4,Un=br.v6,kn=function(t,e,r){r=~~r;let n;if(yr(t))n=e||new Uint8Array(r+4),t.split(/\./g).map(function(o){n[r++]=parseInt(o,10)&255});else if(Un(t)){let o=t.split(":",8),c;for(c=0;c<o.length;c++){let f=yr(o[c]),p;f&&(p=kn(o[c]),o[c]=$n(p.slice(0,2),"base16")),p&&++c<8&&o.splice(c,0,$n(p.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(c=0;c<o.length&&o[c]!=="";c++);let f=[c,"1"];for(c=9-o.length;c>0;c--)f.push("0");o.splice.apply(o,f)}for(n=e||new Uint8Array(r+16),c=0;c<o.length;c++){let f=parseInt(o[c],16);n[r++]=f>>8&255,n[r++]=f&255}}if(!n)throw Error("Invalid ip address: "+t);return n},dc=function(t,e,r){e=~~e,r=r||t.length-e;let n=[],o,c=new DataView(t.buffer);if(r===4){for(let f=0;f<r;f++)n.push(t[e+f]);o=n.join(".")}else if(r===16){for(let f=0;f<r;f+=2)n.push(c.getUint16(e+f).toString(16));o=n.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o};Nn.exports={isIP:hc,isV4:yr,isV6:Un,toBytes:kn,toString:dc}});var _t=S((ep,zn)=>{"use strict";function Q(t){if(typeof t=="number"){if(Q.codes[t])return Q.codes[t];throw new Error("no protocol with code: "+t)}else if(typeof t=="string"){if(Q.names[t])return Q.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}var se=-1;Q.lengthPrefixedVarSize=se;Q.V=se;Q.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,se,"ip6zone"],[53,se,"dns","resolvable"],[54,se,"dns4","resolvable"],[55,se,"dns6","resolvable"],[56,se,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,se,"unix",!1,"path"],[421,se,"ipfs"],[421,se,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,se,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,se,"memory"]];Q.names={};Q.codes={};Q.table.map(t=>{let e=Vn.apply(null,t);return Q.codes[e.code]=e,Q.names[e.name]=e,null});Q.object=Vn;function Vn(t,e,r,n,o){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(o)}}zn.exports=Q});var Yn=S((tp,Gn)=>{"use strict";var gc=Zn,Hn=128,bc=127,yc=~bc,vc=Math.pow(2,31);function Zn(t,e,r){e=e||[],r=r||0;for(var n=r;t>=vc;)e[r++]=t&255|Hn,t/=128;for(;t&yc;)e[r++]=t&255|Hn,t>>>=7;return e[r]=t|0,Zn.bytes=r-n+1,e}var mc=vr,wc=128,Wn=127;function vr(t,e){var r=0,e=e||0,n=0,o=e,c,f=t.length;do{if(o>=f)throw vr.bytes=0,new RangeError("Could not decode varint");c=t[o++],r+=n<28?(c&Wn)<<n:(c&Wn)*Math.pow(2,n),n+=7}while(c>=wc);return vr.bytes=o-e,r}var Ac=Math.pow(2,7),Sc=Math.pow(2,14),Ec=Math.pow(2,21),Tc=Math.pow(2,28),Cc=Math.pow(2,35),_c=Math.pow(2,42),Bc=Math.pow(2,49),Ic=Math.pow(2,56),Rc=Math.pow(2,63),xc=function(t){return t<Ac?1:t<Sc?2:t<Ec?3:t<Tc?4:t<Cc?5:t<_c?6:t<Bc?7:t<Ic?8:t<Rc?9:10},Mc={encode:gc,decode:mc,encodingLength:xc},Oc=Mc;Gn.exports=Oc});var mr=S(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});var Bt=Yn(),Dc=t=>[Bt.decode(t),Bt.decode.bytes],jc=(t,e,r=0)=>(Bt.encode(t,e,r),e),qc=t=>Bt.encodingLength(t);ut.decode=Dc;ut.encodeTo=jc;ut.encodingLength=qc});var It=S(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var Jn=new Uint8Array(0),Pc=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),Fc=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Jn},Nc=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},$c=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Uc=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),kc=t=>new TextEncoder().encode(t),Lc=t=>new TextDecoder().decode(t);de.coerce=$c;de.empty=Jn;de.equals=Nc;de.fromHex=Fc;de.fromString=kc;de.isBinary=Uc;de.toHex=Pc;de.toString=Lc});var wr=S(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});var Xn=It(),Le=mr(),zc=(t,e)=>{let r=e.byteLength,n=Le.encodingLength(t),o=n+Le.encodingLength(r),c=new Uint8Array(o+r);return Le.encodeTo(t,c,0),Le.encodeTo(r,c,n),c.set(e,o),new Rt(t,r,e,c)},Vc=t=>{let e=Xn.coerce(t),[r,n]=Le.decode(e),[o,c]=Le.decode(e.subarray(n)),f=e.subarray(n+c);if(f.byteLength!==o)throw new Error("Incorrect length");return new Rt(r,o,f,e)},Gc=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Xn.equals(t.bytes,e.bytes),Rt=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};ke.Digest=Rt;ke.create=zc;ke.decode=Vc;ke.equals=Gc});var Qn=S((ip,Kn)=>{"use strict";function Zc(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),c=o.charCodeAt(0);if(e[c]!==255)throw new TypeError(o+" is ambiguous");e[c]=n}var f=t.length,p=t.charAt(0),b=Math.log(f)/Math.log(256),m=Math.log(256)/Math.log(f);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,R=0,_=0,T=g.length;_!==T&&g[_]===0;)_++,y++;for(var B=(T-_)*m+1>>>0,x=new Uint8Array(B);_!==T;){for(var O=g[_],F=0,M=B-1;(O!==0||F<R)&&M!==-1;M--,F++)O+=256*x[M]>>>0,x[M]=O%f>>>0,O=O/f>>>0;if(O!==0)throw new Error("Non-zero carry");R=F,_++}for(var q=B-R;q!==B&&x[q]===0;)q++;for(var K=p.repeat(y);q<B;++q)K+=t.charAt(x[q]);return K}function A(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var R=0,_=0;g[y]===p;)R++,y++;for(var T=(g.length-y)*b+1>>>0,B=new Uint8Array(T);g[y];){var x=e[g.charCodeAt(y)];if(x===255)return;for(var O=0,F=T-1;(x!==0||O<_)&&F!==-1;F--,O++)x+=f*B[F]>>>0,B[F]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");_=O,y++}if(g[y]!==" "){for(var M=T-_;M!==T&&B[M]===0;)M++;for(var q=new Uint8Array(R+(T-M)),K=R;M!==T;)q[K++]=B[M++];return q}}}function E(g){var y=A(g);if(y)return y;throw new Error("Non-base"+f+" character")}return{encode:l,decodeUnsafe:A,decode:E}}var Hc=Zc,Wc=Hc;Kn.exports=Wc});var Er=S(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var es=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ts=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new xt(r)}},xt=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new xt({...this.decoders,...r})}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Ar=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new es(e,r,n),this.decoder=new ts(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Yc=({name:t,prefix:e,encode:r,decode:n,alphabet:o})=>Sr({name:t,prefix:e,encode:c=>r(c,o),decode:c=>{for(let f of c)if(o.indexOf(f)<0)throw new Error(`invalid ${t} character`);return n(c,o)}}),Jc=({name:t,prefix:e,settings:r,encode:n,decode:o})=>Sr({name:t,prefix:e,encode:c=>n(c,r),decode:c=>o(c,r)}),Sr=({name:t,prefix:e,encode:r,decode:n})=>new Ar(t,e,r,n);ze.Codec=Ar;ze.from=Sr;ze.withAlphabet=Yc;ze.withSettings=Jc});var Ot=S(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var Xc=Qn(),Kc=It(),rs=Er(),ns=t=>{let{encode:e,decode:r}=Xc(t);return{encode:e,decode:n=>Kc.coerce(r(n))}},Qc=rs.from({name:"base58btc",prefix:"z",...ns("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),eu=rs.from({name:"base58flickr",prefix:"Z",...ns("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")});Mt.base58btc=Qc;Mt.base58flickr=eu});var Tr=S(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});var we=Er();function Ae(t,e){t=t.replace(/=/g,"");let r=t.length,n=0,o=0,c=0,f=new Uint8Array(r*5/8|0);for(let p=0;p<r;p++)o=o<<5|e.indexOf(t[p]),n+=5,n>=8&&(f[c++]=o>>>n-8&255,n-=8);return f}function Se(t,e){let r=t.byteLength,n=new Uint8Array(t),o=e.indexOf("=")===e.length-1;o&&(e=e.substring(0,e.length-1));let c=0,f=0,p="";for(let b=0;b<r;b++)for(f=f<<8|n[b],c+=8;c>=5;)p+=e[f>>>c-5&31],c-=5;if(c>0&&(p+=e[f<<5-c&31]),o)for(;p.length%8!=0;)p+="=";return p}var tu=we.withAlphabet({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",encode:Se,decode:Ae}),ru=we.withAlphabet({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",encode:Se,decode:Ae}),nu=we.withAlphabet({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",encode:Se,decode:Ae}),su=we.withAlphabet({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",encode:Se,decode:Ae}),iu=we.withAlphabet({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",encode:Se,decode:Ae}),ou=we.withAlphabet({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",encode:Se,decode:Ae}),au=we.withAlphabet({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",encode:Se,decode:Ae}),cu=we.withAlphabet({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",encode:Se,decode:Ae}),uu=we.withAlphabet({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",encode:Se,decode:Ae});le.base32=tu;le.base32hex=iu;le.base32hexpad=au;le.base32hexpadupper=cu;le.base32hexupper=ou;le.base32pad=nu;le.base32padupper=su;le.base32upper=ru;le.base32z=uu});var _r=S(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});var ft=mr(),Dt=wr(),_e=Ot(),jt=Tr(),fu=It(),V=class{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Pt,byteLength:Pt,code:qt,version:qt,multihash:qt,bytes:qt,_baseCache:Pt,asCID:Pt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==lt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==du)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return V.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Dt.create(e,r);return V.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Dt.equals(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return pu(r,o,e||_e.base58btc.encoder);default:return hu(r,o,e||jt.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return gu(/^0\.0/,bu),!!(e&&(e[is]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof V)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:o,bytes:c}=e;return new V(r,n,o,c||ss(r,n,o.bytes))}else if(e!=null&&e[is]===!0){let{version:r,multihash:n,code:o}=e,c=Dt.decode(n);return V.create(r,o,c)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==lt)throw new Error(`Version 0 CID must use dag-pb (code: ${lt}) block encoding`);return new V(e,r,n,n.bytes)}case 1:{let o=ss(e,r,n.bytes);return new V(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return V.create(0,lt,e)}static createV1(e,r){return V.create(1,e,r)}static decode(e){let[r,n]=V.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=V.inspectBytes(e),n=r.size-r.multihashSize,o=fu.coerce(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let c=o.subarray(r.multihashSize-r.digestSize),f=new Dt.Digest(r.multihashCode,r.digestSize,c,o);return[r.version===0?V.createV0(f):V.createV1(r.codec,f),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[A,E]=ft.decode(e.subarray(r));return r+=E,A},o=n(),c=lt;if(o===18?(o=0,r=0):o===1&&(c=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let f=r,p=n(),b=n(),m=r+b,l=m-f;return{version:o,codec:c,multihashCode:p,digestSize:b,multihashSize:l,size:m}}static parse(e,r){let[n,o]=lu(e,r),c=V.decode(o);return c._baseCache.set(n,e),c}},lu=(t,e)=>{switch(t[0]){case"Q":{let r=e||_e.base58btc;return[_e.base58btc.prefix,r.decode(`${_e.base58btc.prefix}${t}`)]}case _e.base58btc.prefix:{let r=e||_e.base58btc;return[_e.base58btc.prefix,r.decode(t)]}case jt.base32.prefix:{let r=e||jt.base32;return[jt.base32.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},pu=(t,e,r)=>{let{prefix:n}=r;if(n!==_e.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=e.get(n);if(o==null){let c=r.encode(t).slice(1);return e.set(n,c),c}else return o},hu=(t,e,r)=>{let{prefix:n}=r,o=e.get(n);if(o==null){let c=r.encode(t);return e.set(n,c),c}else return o},lt=112,du=18,ss=(t,e,r)=>{let n=ft.encodingLength(t),o=n+ft.encodingLength(e),c=new Uint8Array(o+r.byteLength);return ft.encodeTo(t,c,0),ft.encodeTo(e,c,n),c.set(r,o),c},is=Symbol.for("@ipld/js-cid/CID"),qt={writable:!1,configurable:!1,enumerable:!0},Pt={writable:!1,enumerable:!1,configurable:!1},yu="0.0.0-dev",gu=(t,e)=>{if(t.test(yu))console.warn(e);else throw new Error(e)},bu=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;Cr.CID=V});var cs=S((fp,os)=>{os.exports=Br;var as=128,vu=127,mu=~vu,wu=Math.pow(2,31);function Br(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw Br.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=wu;)e[r++]=t&255|as,t/=128;for(;t&mu;)e[r++]=t&255|as,t>>>=7;return e[r]=t|0,Br.bytes=r-n+1,e}});var ls=S((lp,us)=>{us.exports=Ir;var Au=128,fs=127;function Ir(t,e){var r=0,e=e||0,n=0,o=e,c,f=t.length;do{if(o>=f||n>49)throw Ir.bytes=0,new RangeError("Could not decode varint");c=t[o++],r+=n<28?(c&fs)<<n:(c&fs)*Math.pow(2,n),n+=7}while(c>=Au);return Ir.bytes=o-e,r}});var hs=S((pp,ps)=>{var Su=Math.pow(2,7),Eu=Math.pow(2,14),Tu=Math.pow(2,21),Cu=Math.pow(2,28),_u=Math.pow(2,35),Bu=Math.pow(2,42),Iu=Math.pow(2,49),Ru=Math.pow(2,56),xu=Math.pow(2,63);ps.exports=function(t){return t<Su?1:t<Eu?2:t<Tu?3:t<Cu?4:t<_u?5:t<Bu?6:t<Iu?7:t<Ru?8:t<xu?9:10}});var Ft=S((hp,ds)=>{ds.exports={encode:cs(),decode:ls(),encodingLength:hs()}});var bs=S((dp,gs)=>{"use strict";var{encoding:Mu}=gr(),Ou=new TextEncoder;function Du(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function ju(t,e="utf8"){return e==="utf8"||e==="utf-8"?Ou.encode(t):e==="ascii"?Du(t):Mu(e).decode(t)}gs.exports=ju});var Rr=S((gp,ys)=>{"use strict";function qu(t,e){e||(e=t.reduce((o,c)=>o+c.length,0));let r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}ys.exports=qu});var Cs=S((bp,vs)=>{"use strict";var Nt=Ln(),ms=_t(),{CID:Pu}=_r(),{base32:ws}=Tr(),{base58btc:Fu}=Ot(),Nu=wr(),Ve=Ft(),$t=ct(),As=bs(),Ut=Rr();vs.exports=pt;function pt(t,e){return e instanceof Uint8Array?pt.toString(t,e):pt.toBytes(t,e)}pt.toString=function(e,r){switch(ms(e).code){case 4:case 41:return $u(r);case 6:case 273:case 33:case 132:return Ss(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return Uu(r);case 421:return ku(r);case 444:return Es(r);case 445:return Es(r);default:return $t(r,"base16")}};pt.toBytes=function(e,r){switch(ms(e).code){case 4:return Ts(r);case 41:return Ts(r);case 6:case 273:case 33:case 132:return xr(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return Lu(r);case 421:return zu(r);case 444:return Vu(r);case 445:return Gu(r);default:return As(r,"base16")}};function Ts(t){if(!Nt.isIP(t))throw new Error("invalid ip address");return Nt.toBytes(t)}function $u(t){let e=Nt.toString(t);if(!e||!Nt.isIP(e))throw new Error("invalid ip address");return e}function xr(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function Ss(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function Lu(t){let e=As(t),r=Uint8Array.from(Ve.encode(e.length));return Ut([r,e],r.length+e.length)}function Uu(t){let e=Ve.decode(t);if(t=t.slice(Ve.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return $t(t)}function zu(t){let e;t[0]==="Q"||t[0]==="1"?e=Nu.decode(Fu.decode(`z${t}`)).bytes:e=Pu.parse(t).multihash.bytes;let r=Uint8Array.from(Ve.encode(e.length));return Ut([r,e],r.length+e.length)}function ku(t){let e=Ve.decode(t),r=t.slice(Ve.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return $t(r,"base58btc")}function Vu(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let r=ws.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=xr(n);return Ut([r,o],r.length+o.length)}function Gu(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let r=ws.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=xr(n);return Ut([r,o],r.length+o.length)}function Es(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=$t(e,"base32"),o=Ss(r);return n+":"+o}});var Fs=S((yp,_s)=>{"use strict";var Bs=Cs(),Mr=_t(),ht=Ft(),Is=Rr(),Zu=ct();_s.exports={stringToStringTuples:Rs,stringTuplesToString:xs,tuplesToStringTuples:Os,stringTuplesToTuples:Ms,bytesToTuples:Or,tuplesToBytes:Ds,bytesToString:Hu,stringToBytes:qs,fromString:Wu,fromBytes:Ps,validateBytes:Dr,isValidBytes:Yu,cleanPath:kt,ParseError:jr,protoFromTuple:dt,sizeForAddr:js};function Rs(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let o=r[n],c=Mr(o);if(c.size===0){e.push([o]);continue}if(n++,n>=r.length)throw jr("invalid address: "+t);if(c.path){e.push([o,kt(r.slice(n).join("/"))]);break}e.push([o,r[n]])}return e}function xs(t){let e=[];return t.map(r=>{let n=dt(r);return e.push(n.name),r.length>1&&e.push(r[1]),null}),kt(e.join("/"))}function Ms(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=dt(e);return e.length>1?[r.code,Bs.toBytes(r.code,e[1])]:[r.code]})}function Os(t){return t.map(e=>{let r=dt(e);return e[1]?[r.code,Bs.toString(r.code,e[1])]:[r.code]})}function Ds(t){return Ps(Is(t.map(e=>{let r=dt(e),n=Uint8Array.from(ht.encode(r.code));return e.length>1&&(n=Is([n,e[1]])),n})))}function js(t,e){return t.size>0?t.size/8:t.size===0?0:ht.decode(e)+ht.decode.bytes}function Or(t){let e=[],r=0;for(;r<t.length;){let n=ht.decode(t,r),o=ht.decode.bytes,c=Mr(n),f=js(c,t.slice(r+o));if(f===0){e.push([n]),r+=o;continue}let p=t.slice(r+o,r+o+f);if(r+=f+o,r>t.length)throw jr("Invalid address Uint8Array: "+Zu(t,"base16"));e.push([n,p])}return e}function Hu(t){let e=Or(t),r=Os(e);return xs(r)}function qs(t){t=kt(t);let e=Rs(t),r=Ms(e);return Ds(r)}function Wu(t){return qs(t)}function Ps(t){let e=Dr(t);if(e)throw e;return Uint8Array.from(t)}function Dr(t){try{Or(t)}catch(e){return e}}function Yu(t){return Dr(t)===void 0}function kt(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function jr(t){return new Error("Error parsing address: "+t)}function dt(t){return Mr(t[0])}});var Lt=S((vp,Ns)=>{"use strict";function $s(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Ju(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return $s(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),$s(new o,r)}}Ns.exports=Ju});var ks=S((mp,Us)=>{"use strict";function Xu(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Us.exports=Xu});var Vt=S((wp,Ls)=>{"use strict";var pe=Fs(),Ge=_t(),zs=Ft(),{CID:Ku}=_r(),{base58btc:Qu}=Ot(),ef=Lt(),tf=Symbol.for("nodejs.util.inspect.custom"),zt=ct(),rf=ks(),qr=new Map,Vs=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Y=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,Vs,{value:!0}),e instanceof Uint8Array)this.bytes=pe.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=pe.fromString(e)}else if(Y.isMultiaddr(e))this.bytes=pe.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return pe.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},r=this.toString().split("/");return e.family=r[1]==="ip4"?4:6,e.host=r[2],e.transport=r[3],e.port=parseInt(r[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Ge(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let o=zs.decode(r,n),c=zs.decode.bytes,f=Ge(o);n+=pe.sizeForAddr(f,r.slice(n+c))+c,e.push(o)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return pe.bytesToTuples(this.bytes)}stringTuples(){let e=pe.bytesToTuples(this.bytes);return pe.tuplesToStringTuples(e)}encapsulate(e){return e=new Y(e),new Y(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),o=n.lastIndexOf(r);if(o<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new Y(n.slice(0,o))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new Y(pe.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Ge.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?zt(Qu.decode(`z${n}`),"base58btc"):zt(Ku.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>!!Ge(r[0]).path)[0][1],e||(e=null)}catch(r){e=null}return e}equals(e){return rf(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(o=>o.resolvable);if(!e)return[this];let r=qr.get(e.name);if(!r)throw ef(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(o=>new Y(o))}nodeAddress(){let e=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let r=(e||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(e,r){if(!e)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new Y("/"+[n,e.address,r,e.port].join("/"))}static isName(e){return Y.isMultiaddr(e)?e.protos().some(r=>r.resolvable):!1}static isMultiaddr(e){return e instanceof Y||Boolean(e&&e[Vs])}[tf](){return"<Multiaddr "+zt(this.bytes,"base16")+" - "+pe.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+zt(this.bytes,"base16")+" - "+pe.bytesToString(this.bytes)+">"}};Y.protocols=Ge;Y.resolvers=qr;function nf(t){return new Y(t)}Ls.exports={Multiaddr:Y,multiaddr:nf,protocols:Ge,resolvers:qr}});var ti=S((Ap,Gs)=>{"use strict";var{Multiaddr:Pr}=Vt(),Zs=C("dns4"),Hs=C("dns6"),Ws=C("dnsaddr"),De=Z(C("dns"),Ws,Zs,Hs),gt=Z(C("ip4"),C("ip6")),Ze=Z(I(gt,C("tcp")),I(De,C("tcp"))),Fr=I(gt,C("udp")),Ys=I(Fr,C("utp")),Js=I(Fr,C("quic")),He=Z(I(Ze,C("ws")),I(De,C("ws"))),We=Z(I(Ze,C("wss")),I(De,C("wss"))),Gt=Z(I(Ze,C("http")),I(gt,C("http")),I(De,C("http"))),Zt=Z(I(Ze,C("https")),I(gt,C("https")),I(De,C("https"))),Nr=Z(I(He,C("p2p-webrtc-star"),C("p2p")),I(We,C("p2p-webrtc-star"),C("p2p")),I(He,C("p2p-webrtc-star")),I(We,C("p2p-webrtc-star"))),sf=Z(I(He,C("p2p-websocket-star"),C("p2p")),I(We,C("p2p-websocket-star"),C("p2p")),I(He,C("p2p-websocket-star")),I(We,C("p2p-websocket-star"))),$r=Z(I(Gt,C("p2p-webrtc-direct"),C("p2p")),I(Zt,C("p2p-webrtc-direct"),C("p2p")),I(Gt,C("p2p-webrtc-direct")),I(Zt,C("p2p-webrtc-direct"))),Ye=Z(He,We,Gt,Zt,Nr,$r,Ze,Ys,Js,De),of=Z(I(Ye,C("p2p-stardust"),C("p2p")),I(Ye,C("p2p-stardust"))),Be=Z(I(Ye,C("p2p")),Nr,$r,C("p2p")),Xs=Z(I(Be,C("p2p-circuit"),Be),I(Be,C("p2p-circuit")),I(C("p2p-circuit"),Be),I(Ye,C("p2p-circuit")),I(C("p2p-circuit"),Ye),C("p2p-circuit")),Ks=()=>Z(I(Xs,Ks),Xs),Je=Ks(),Qs=Z(I(Je,Be,Je),I(Be,Je),I(Je,Be),Je,Be);Gs.exports={DNS:De,DNS4:Zs,DNS6:Hs,DNSADDR:Ws,IP:gt,TCP:Ze,UDP:Fr,QUIC:Js,UTP:Ys,HTTP:Gt,HTTPS:Zt,WebSockets:He,WebSocketsSecure:We,WebSocketStar:sf,WebRTCStar:Nr,WebRTCDirect:$r,Reliable:Ye,Stardust:of,Circuit:Je,P2P:Qs,IPFS:Qs};function ei(t){function e(r){if(!Pr.isMultiaddr(r))try{r=new Pr(r)}catch(o){return!1}let n=t(r.protoNames());return n===null?!1:n===!0||n===!1?n:n.length===0}return e}function I(...t){function e(r){if(r.length<t.length)return null;let n=r;return t.some(o=>(n=typeof o=="function"?o().partialMatch(r):o.partialMatch(r),Array.isArray(n)&&(r=n),n===null)),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:ei(e),partialMatch:e}}function Z(...t){function e(n){let o=null;return t.some(c=>{let f=typeof c=="function"?c().partialMatch(n):c.partialMatch(n);return f?(o=f,!0):!1}),o}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:ei(e),partialMatch:e}}function C(t){let e=t;function r(o){let c;if(typeof o=="string"||o instanceof Uint8Array)try{c=new Pr(o)}catch(p){return!1}else c=o;let f=c.protoNames();return f.length===1&&f[0]===e}function n(o){return o.length===0?null:o[0]===e?o.slice(1):null}return{toString:function(){return e},matches:r,partialMatch:n}}});var ri=S((Sp,Ur)=>{"use strict";function af(t,{className:e,symbolName:r}){let n=Symbol.for(r),o={[e]:class extends t{constructor(...c){super(...c);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return o[`is${e}`]=c=>!!(c&&c[n]),o}function cf(t,{className:e,symbolName:r,withoutNew:n}){let o=Symbol.for(r),c={[e]:function(...f){if(n&&!(this instanceof c))return new c(...f);let p=t.call(this,...f)||this;return p&&!p[o]&&Object.defineProperty(p,o,{value:!0}),p}}[e];return c.prototype=Object.create(t.prototype),c.prototype.constructor=c,Object.defineProperty(c.prototype,Symbol.toStringTag,{get(){return e}}),c[`is${e}`]=f=>!!(f&&f[o]),c}Ur.exports=af;Ur.exports.proto=cf});var si=S((Ep,ni)=>{var Xe=1e3,Ke=Xe*60,Qe=Ke*60,je=Qe*24,uf=je*7,ff=je*365.25;ni.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return lf(t);if(r==="number"&&isFinite(t))return e.long?hf(t):pf(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function lf(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ff;case"weeks":case"week":case"w":return r*uf;case"days":case"day":case"d":return r*je;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qe;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ke;case"seconds":case"second":case"secs":case"sec":case"s":return r*Xe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function pf(t){var e=Math.abs(t);return e>=je?Math.round(t/je)+"d":e>=Qe?Math.round(t/Qe)+"h":e>=Ke?Math.round(t/Ke)+"m":e>=Xe?Math.round(t/Xe)+"s":t+"ms"}function hf(t){var e=Math.abs(t);return e>=je?Ht(t,e,je,"day"):e>=Qe?Ht(t,e,Qe,"hour"):e>=Ke?Ht(t,e,Ke,"minute"):e>=Xe?Ht(t,e,Xe,"second"):t+" ms"}function Ht(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}});var kr=S((Tp,ii)=>{function df(t){r.debug=r,r.default=r,r.coerce=b,r.disable=c,r.enable=o,r.enabled=f,r.humanize=si(),r.destroy=m,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let A=0;for(let E=0;E<l.length;E++)A=(A<<5)-A+l.charCodeAt(E),A|=0;return r.colors[Math.abs(A)%r.colors.length]}r.selectColor=e;function r(l){let A,E=null,g,y;function R(..._){if(!R.enabled)return;let T=R,B=Number(new Date),x=B-(A||B);T.diff=x,T.prev=A,T.curr=B,A=B,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let O=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(M,q)=>{if(M==="%%")return"%";O++;let K=r.formatters[q];if(typeof K=="function"){let Ne=_[O];M=K.call(T,Ne),_.splice(O,1),O--}return M}),r.formatArgs.call(T,_),(T.log||r.log).apply(T,_)}return R.namespace=l,R.useColors=r.useColors(),R.color=r.selectColor(l),R.extend=n,R.destroy=r.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(g!==r.namespaces&&(g=r.namespaces,y=r.enabled(l)),y),set:_=>{E=_}}),typeof r.init=="function"&&r.init(R),R}function n(l,A){let E=r(this.namespace+(typeof A=="undefined"?":":A)+l);return E.log=this.log,E}function o(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let A,E=(typeof l=="string"?l:"").split(/[\s,]+/),g=E.length;for(A=0;A<g;A++)!E[A]||(l=E[A].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.substr(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function c(){let l=[...r.names.map(p),...r.skips.map(p).map(A=>"-"+A)].join(",");return r.enable(""),l}function f(l){if(l[l.length-1]==="*")return!0;let A,E;for(A=0,E=r.skips.length;A<E;A++)if(r.skips[A].test(l))return!1;for(A=0,E=r.names.length;A<E;A++)if(r.names[A].test(l))return!0;return!1}function p(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function b(l){return l instanceof Error?l.stack||l.message:l}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}ii.exports=df});var oi=S((re,Wt)=>{re.formatArgs=gf;re.save=bf;re.load=yf;re.useColors=vf;re.storage=mf();re.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();re.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vf(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function gf(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Wt.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),t.splice(n,0,e)}re.log=console.debug||console.log||(()=>{});function bf(t){try{t?re.storage.setItem("debug",t):re.storage.removeItem("debug")}catch(e){}}function yf(){let t;try{t=re.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function mf(){try{return localStorage}catch(t){}}Wt.exports=kr()(re);var{formatters:wf}=Wt.exports;wf.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ci=S((Cp,ai)=>{"use strict";ai.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return n!==-1&&(o===-1||n<o)}});var li=S((_p,ui)=>{"use strict";var Af=require("os"),fi=require("tty"),ie=ci(),{env:k}=process,Ie;ie("no-color")||ie("no-colors")||ie("color=false")||ie("color=never")?Ie=0:(ie("color")||ie("colors")||ie("color=true")||ie("color=always"))&&(Ie=1);"FORCE_COLOR"in k&&(k.FORCE_COLOR==="true"?Ie=1:k.FORCE_COLOR==="false"?Ie=0:Ie=k.FORCE_COLOR.length===0?1:Math.min(parseInt(k.FORCE_COLOR,10),3));function Lr(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function zr(t,e){if(Ie===0)return 0;if(ie("color=16m")||ie("color=full")||ie("color=truecolor"))return 3;if(ie("color=256"))return 2;if(t&&!e&&Ie===void 0)return 0;let r=Ie||0;if(k.TERM==="dumb")return r;if(process.platform==="win32"){let n=Af.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in k)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in k)||k.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in k)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k.TEAMCITY_VERSION)?1:0;if(k.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in k){let n=parseInt((k.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(k.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k.TERM)||"COLORTERM"in k?1:r}function Sf(t){let e=zr(t,t&&t.isTTY);return Lr(e)}ui.exports={supportsColor:Sf,stdout:Lr(zr(!0,fi.isatty(1))),stderr:Lr(zr(!0,fi.isatty(2)))}});var hi=S((G,Yt)=>{var Ef=require("tty"),Jt=require("util");G.init=Tf;G.log=Cf;G.formatArgs=_f;G.save=Bf;G.load=If;G.useColors=Rf;G.destroy=Jt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");G.colors=[6,2,3,4,5,1];try{let t=li();t&&(t.stderr||t).level>=2&&(G.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}G.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,c)=>c.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Rf(){return"colors"in G.inspectOpts?Boolean(G.inspectOpts.colors):Ef.isatty(process.stderr.fd)}function _f(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,o="[3"+(n<8?n:"8;5;"+n),c=`  ${o};1m${e} [0m`;t[0]=c+t[0].split(`
`).join(`
`+c),t.push(o+"m+"+Yt.exports.humanize(this.diff)+"[0m")}else t[0]=xf()+e+" "+t[0]}function xf(){return G.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Cf(...t){return process.stderr.write(Jt.format(...t)+`
`)}function Bf(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function If(){return process.env.DEBUG}function Tf(t){t.inspectOpts={};let e=Object.keys(G.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=G.inspectOpts[e[r]]}Yt.exports=kr()(G);var{formatters:pi}=Yt.exports;pi.o=function(t){return this.inspectOpts.colors=this.useColors,Jt.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};pi.O=function(t){return this.inspectOpts.colors=this.useColors,Jt.inspect(t,this.inspectOpts)}});var bt=S((Bp,Vr)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Vr.exports=oi():Vr.exports=hi()});var Gr=S((Ip,di)=>{di.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var bi=S((xp,gi)=>{gi.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var Wr=S((Mp,qe)=>{var Mf=Gr(),Zr=bi(),yi=(t,e,r)=>Hr(t,Array.isArray(e)?e:[{signal:e,options:r}]),Hr=(t,e)=>{t=Mf(t),e=e.map(({signal:n,options:o})=>({signal:n,options:o||{}}));async function*r(){let n,o=()=>{n&&n()};for(let{signal:c}of e)c.addEventListener("abort",o);for(;;){let c;try{for(let{signal:p,options:b}of e)if(p.aborted){let{abortMessage:m,abortCode:l}=b;throw new Zr(m,l)}let f=new Promise((p,b)=>{n=()=>{let{options:m}=e.find(({signal:E})=>E.aborted),{abortMessage:l,abortCode:A}=m;b(new Zr(l,A))}});c=await Promise.race([f,t.next()]),n=null}catch(f){for(let{signal:m}of e)m.removeEventListener("abort",o);let p=e.find(({signal:m})=>m.aborted),b=f.type==="aborted"&&p;if(b&&p.options.onAbort&&await p.options.onAbort(t),typeof t.return=="function"&&await t.return(),b&&p.options.returnOnAbort)return;throw f}if(c.done)break;yield c.value}for(let{signal:c}of e)c.removeEventListener("abort",o)}return r()},mi=(t,e,r)=>vi(t,Array.isArray(e)?e:[{signal:e,options:r}]),vi=(t,e)=>r=>t(Hr(r,e)),Df=(t,e,r)=>Of(t,Array.isArray(e)?e:[{signal:e,options:r}]),Of=(t,e)=>({sink:vi(t.sink,e),source:Hr(t.source,e)});qe.exports=yi;qe.exports.AbortError=Zr;qe.exports.source=yi;qe.exports.sink=mi;qe.exports.transform=mi;qe.exports.duplex=Df});var Xt=S((Op,wi)=>{wi.exports=t=>{if(t[Symbol.asyncIterator])return t;if(t.getReader)return async function*(){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}();throw new Error("unknown stream")}});var Yr=S((Dp,Ai)=>{var jf=Gr();Ai.exports=t=>async e=>{e=jf(e);let r=T=>{typeof T.return=="function"&&T.return()},n=null,o=null,c=T=>{n=T,o&&o(T),r(e)},f=null,p=!1,b=()=>{p=!0,f&&f()},m=null,l=!1,A=()=>{l=!0,m&&m()},E=null,g=()=>{E&&E()},y=()=>new Promise((T,B)=>{f=E=T,o=B,t.once("drain",g)}),R=()=>(r(e),new Promise((T,B)=>{if(p||l||n)return T();m=f=T,o=B})),_=()=>{t.removeListener("error",c),t.removeListener("close",b),t.removeListener("finish",A),t.removeListener("drain",g)};t.once("error",c),t.once("close",b),t.once("finish",A);try{for await(let T of e){if(!t.writable||t.destroyed||n)break;t.write(T)===!1&&await y()}}catch(T){n||t.destroy(),n=T}try{if(t.writable&&t.end(),await R(),n)throw n}finally{_()}}});var Jr=S((jp,Si)=>{var qf=Yr(),Pf=Xt();Si.exports=t=>({sink:qf(t),source:Pf(t)})});var Ti=S((qp,Ei)=>{var Ff=Jr();Ei.exports=t=>async function*(e){let r=Ff(t),n;if(r.sink(e).catch(o=>{n=o}),yield*r.source,n)throw n}});var Ci=S((Pp,et)=>{et.exports=Xt();et.exports.source=Xt();et.exports.sink=Yr();et.exports.transform=Ti();et.exports.duplex=Jr()});var Xr=S(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.isCorrect=tt.isInSubnet=void 0;function Nf(t){return this.subnetMask<t.subnetMask?!1:this.mask(t.subnetMask)===t.mask()}tt.isInSubnet=Nf;function $f(t){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===t&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}tt.isCorrect=$f});var Kr=S(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.RE_SUBNET_STRING=ge.RE_ADDRESS=ge.GROUPS=ge.BITS=void 0;ge.BITS=32;ge.GROUPS=4;ge.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;ge.RE_SUBNET_STRING=/\/\d{1,2}$/});var Kt=S(rt=>{"use strict";var Uf=rt&&rt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(rt,"__esModule",{value:!0});rt.AddressError=void 0;var kf=function(t){Uf(e,t);function e(r,n){var o=t.call(this,r)||this;return o.name="AddressError",n!==null&&(o.parseMessage=n),o}return e}(Error);rt.AddressError=kf});var Qr=S((Qt,_i)=>{(function(){var t,e=244837814094590,r=(e&16777215)==15715070;function n(s,i,a){s!=null&&(typeof s=="number"?this.fromNumber(s,i,a):i==null&&typeof s!="string"?this.fromString(s,256):this.fromString(s,i))}function o(){return new n(null)}function c(s,i,a,u,h,d){for(;--d>=0;){var v=i*this[s++]+a[u]+h;h=Math.floor(v/67108864),a[u++]=v&67108863}return h}function f(s,i,a,u,h,d){for(var v=i&32767,w=i>>15;--d>=0;){var j=this[s]&32767,U=this[s++]>>15,ne=w*j+U*v;j=v*j+((ne&32767)<<15)+a[u]+(h&1073741823),h=(j>>>30)+(ne>>>15)+w*U+(h>>>30),a[u++]=j&1073741823}return h}function p(s,i,a,u,h,d){for(var v=i&16383,w=i>>14;--d>=0;){var j=this[s]&16383,U=this[s++]>>14,ne=w*j+U*v;j=v*j+((ne&16383)<<14)+a[u]+h,h=(j>>28)+(ne>>14)+w*U,a[u++]=j&268435455}return h}var b=typeof navigator!="undefined";b&&r&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=f,t=30):b&&r&&navigator.appName!="Netscape"?(n.prototype.am=c,t=26):(n.prototype.am=p,t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;var m=52;n.prototype.FV=Math.pow(2,m),n.prototype.F1=m-t,n.prototype.F2=2*t-m;var l="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array,E,g;for(E="0".charCodeAt(0),g=0;g<=9;++g)A[E++]=g;for(E="a".charCodeAt(0),g=10;g<36;++g)A[E++]=g;for(E="A".charCodeAt(0),g=10;g<36;++g)A[E++]=g;function y(s){return l.charAt(s)}function R(s,i){var a=A[s.charCodeAt(i)];return a??-1}function _(s){for(var i=this.t-1;i>=0;--i)s[i]=this[i];s.t=this.t,s.s=this.s}function T(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0}function B(s){var i=o();return i.fromInt(s),i}function x(s,i){var a;if(i==16)a=4;else if(i==8)a=3;else if(i==256)a=8;else if(i==2)a=1;else if(i==32)a=5;else if(i==4)a=2;else{this.fromRadix(s,i);return}this.t=0,this.s=0;for(var u=s.length,h=!1,d=0;--u>=0;){var v=a==8?s[u]&255:R(s,u);if(v<0){s.charAt(u)=="-"&&(h=!0);continue}h=!1,d==0?this[this.t++]=v:d+a>this.DB?(this[this.t-1]|=(v&(1<<this.DB-d)-1)<<d,this[this.t++]=v>>this.DB-d):this[this.t-1]|=v<<d,d+=a,d>=this.DB&&(d-=this.DB)}a==8&&(s[0]&128)!=0&&(this.s=-1,d>0&&(this[this.t-1]|=(1<<this.DB-d)-1<<d)),this.clamp(),h&&n.ZERO.subTo(this,this)}function O(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t}function F(s){if(this.s<0)return"-"+this.negate().toString(s);var i;if(s==16)i=4;else if(s==8)i=3;else if(s==2)i=1;else if(s==32)i=5;else if(s==4)i=2;else return this.toRadix(s);var a=(1<<i)-1,u,h=!1,d="",v=this.t,w=this.DB-v*this.DB%i;if(v-- >0)for(w<this.DB&&(u=this[v]>>w)>0&&(h=!0,d=y(u));v>=0;)w<i?(u=(this[v]&(1<<w)-1)<<i-w,u|=this[--v]>>(w+=this.DB-i)):(u=this[v]>>(w-=i)&a,w<=0&&(w+=this.DB,--v)),u>0&&(h=!0),h&&(d+=y(u));return h?d:"0"}function M(){var s=o();return n.ZERO.subTo(this,s),s}function q(){return this.s<0?this.negate():this}function K(s){var i=this.s-s.s;if(i!=0)return i;var a=this.t;if(i=a-s.t,i!=0)return this.s<0?-i:i;for(;--a>=0;)if((i=this[a]-s[a])!=0)return i;return 0}function Ne(s){var i=1,a;return(a=s>>>16)!=0&&(s=a,i+=16),(a=s>>8)!=0&&(s=a,i+=8),(a=s>>4)!=0&&(s=a,i+=4),(a=s>>2)!=0&&(s=a,i+=2),(a=s>>1)!=0&&(s=a,i+=1),i}function to(){return this.t<=0?0:this.DB*(this.t-1)+Ne(this[this.t-1]^this.s&this.DM)}function ro(s,i){var a;for(a=this.t-1;a>=0;--a)i[a+s]=this[a];for(a=s-1;a>=0;--a)i[a]=0;i.t=this.t+s,i.s=this.s}function no(s,i){for(var a=s;a<this.t;++a)i[a-s]=this[a];i.t=Math.max(this.t-s,0),i.s=this.s}function so(s,i){var a=s%this.DB,u=this.DB-a,h=(1<<u)-1,d=Math.floor(s/this.DB),v=this.s<<a&this.DM,w;for(w=this.t-1;w>=0;--w)i[w+d+1]=this[w]>>u|v,v=(this[w]&h)<<a;for(w=d-1;w>=0;--w)i[w]=0;i[d]=v,i.t=this.t+d+1,i.s=this.s,i.clamp()}function io(s,i){i.s=this.s;var a=Math.floor(s/this.DB);if(a>=this.t){i.t=0;return}var u=s%this.DB,h=this.DB-u,d=(1<<u)-1;i[0]=this[a]>>u;for(var v=a+1;v<this.t;++v)i[v-a-1]|=(this[v]&d)<<h,i[v-a]=this[v]>>u;u>0&&(i[this.t-a-1]|=(this.s&d)<<h),i.t=this.t-a,i.clamp()}function oo(s,i){for(var a=0,u=0,h=Math.min(s.t,this.t);a<h;)u+=this[a]-s[a],i[a++]=u&this.DM,u>>=this.DB;if(s.t<this.t){for(u-=s.s;a<this.t;)u+=this[a],i[a++]=u&this.DM,u>>=this.DB;u+=this.s}else{for(u+=this.s;a<s.t;)u-=s[a],i[a++]=u&this.DM,u>>=this.DB;u-=s.s}i.s=u<0?-1:0,u<-1?i[a++]=this.DV+u:u>0&&(i[a++]=u),i.t=a,i.clamp()}function ao(s,i){var a=this.abs(),u=s.abs(),h=a.t;for(i.t=h+u.t;--h>=0;)i[h]=0;for(h=0;h<u.t;++h)i[h+a.t]=a.am(0,u[h],i,h,0,a.t);i.s=0,i.clamp(),this.s!=s.s&&n.ZERO.subTo(i,i)}function co(s){for(var i=this.abs(),a=s.t=2*i.t;--a>=0;)s[a]=0;for(a=0;a<i.t-1;++a){var u=i.am(a,i[a],s,2*a,0,1);(s[a+i.t]+=i.am(a+1,2*i[a],s,2*a+1,u,i.t-a-1))>=i.DV&&(s[a+i.t]-=i.DV,s[a+i.t+1]=1)}s.t>0&&(s[s.t-1]+=i.am(a,i[a],s,2*a,0,1)),s.s=0,s.clamp()}function uo(s,i,a){var u=s.abs();if(!(u.t<=0)){var h=this.abs();if(h.t<u.t){i!=null&&i.fromInt(0),a!=null&&this.copyTo(a);return}a==null&&(a=o());var d=o(),v=this.s,w=s.s,j=this.DB-Ne(u[u.t-1]);j>0?(u.lShiftTo(j,d),h.lShiftTo(j,a)):(u.copyTo(d),h.copyTo(a));var U=d.t,ne=d[U-1];if(ne!=0){var te=ne*(1<<this.F1)+(U>1?d[U-2]>>this.F2:0),ve=this.FV/te,At=(1<<this.F1)/te,ce=1<<this.F2,ue=a.t,St=ue-U,Te=i??o();for(d.dlShiftTo(St,Te),a.compareTo(Te)>=0&&(a[a.t++]=1,a.subTo(Te,a)),n.ONE.dlShiftTo(U,Te),Te.subTo(d,d);d.t<U;)d[d.t++]=0;for(;--St>=0;){var pr=a[--ue]==ne?this.DM:Math.floor(a[ue]*ve+(a[ue-1]+ce)*At);if((a[ue]+=d.am(0,pr,a,St,0,U))<pr)for(d.dlShiftTo(St,Te),a.subTo(Te,a);a[ue]<--pr;)a.subTo(Te,a)}i!=null&&(a.drShiftTo(U,i),v!=w&&n.ZERO.subTo(i,i)),a.t=U,a.clamp(),j>0&&a.rShiftTo(j,a),v<0&&n.ZERO.subTo(a,a)}}}function fo(s){var i=o();return this.abs().divRemTo(s,null,i),this.s<0&&i.compareTo(n.ZERO)>0&&s.subTo(i,i),i}function Re(s){this.m=s}function lo(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s}function po(s){return s}function ho(s){s.divRemTo(this.m,null,s)}function go(s,i,a){s.multiplyTo(i,a),this.reduce(a)}function bo(s,i){s.squareTo(i),this.reduce(i)}Re.prototype.convert=lo,Re.prototype.revert=po,Re.prototype.reduce=ho,Re.prototype.mulTo=go,Re.prototype.sqrTo=bo;function yo(){if(this.t<1)return 0;var s=this[0];if((s&1)==0)return 0;var i=s&3;return i=i*(2-(s&15)*i)&15,i=i*(2-(s&255)*i)&255,i=i*(2-((s&65535)*i&65535))&65535,i=i*(2-s*i%this.DV)%this.DV,i>0?this.DV-i:-i}function xe(s){this.m=s,this.mp=s.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function vo(s){var i=o();return s.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),s.s<0&&i.compareTo(n.ZERO)>0&&this.m.subTo(i,i),i}function mo(s){var i=o();return s.copyTo(i),this.reduce(i),i}function wo(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var i=0;i<this.m.t;++i){var a=s[i]&32767,u=a*this.mpl+((a*this.mph+(s[i]>>15)*this.mpl&this.um)<<15)&s.DM;for(a=i+this.m.t,s[a]+=this.m.am(0,u,s,i,0,this.m.t);s[a]>=s.DV;)s[a]-=s.DV,s[++a]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)}function Ao(s,i){s.squareTo(i),this.reduce(i)}function So(s,i,a){s.multiplyTo(i,a),this.reduce(a)}xe.prototype.convert=vo,xe.prototype.revert=mo,xe.prototype.reduce=wo,xe.prototype.mulTo=So,xe.prototype.sqrTo=Ao;function Eo(){return(this.t>0?this[0]&1:this.s)==0}function To(s,i){if(s>4294967295||s<1)return n.ONE;var a=o(),u=o(),h=i.convert(this),d=Ne(s)-1;for(h.copyTo(a);--d>=0;)if(i.sqrTo(a,u),(s&1<<d)>0)i.mulTo(u,h,a);else{var v=a;a=u,u=v}return i.revert(a)}function Co(s,i){var a;return s<256||i.isEven()?a=new Re(i):a=new xe(i),this.exp(s,a)}n.prototype.copyTo=_,n.prototype.fromInt=T,n.prototype.fromString=x,n.prototype.clamp=O,n.prototype.dlShiftTo=ro,n.prototype.drShiftTo=no,n.prototype.lShiftTo=so,n.prototype.rShiftTo=io,n.prototype.subTo=oo,n.prototype.multiplyTo=ao,n.prototype.squareTo=co,n.prototype.divRemTo=uo,n.prototype.invDigit=yo,n.prototype.isEven=Eo,n.prototype.exp=To,n.prototype.toString=F,n.prototype.negate=M,n.prototype.abs=q,n.prototype.compareTo=K,n.prototype.bitLength=to,n.prototype.mod=fo,n.prototype.modPowInt=Co,n.ZERO=B(0),n.ONE=B(1);function _o(){var s=o();return this.copyTo(s),s}function Bo(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Io(){return this.t==0?this.s:this[0]<<24>>24}function Ro(){return this.t==0?this.s:this[0]<<16>>16}function xo(s){return Math.floor(Math.LN2*this.DB/Math.log(s))}function Mo(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Oo(s){if(s==null&&(s=10),this.signum()==0||s<2||s>36)return"0";var i=this.chunkSize(s),a=Math.pow(s,i),u=B(a),h=o(),d=o(),v="";for(this.divRemTo(u,h,d);h.signum()>0;)v=(a+d.intValue()).toString(s).substr(1)+v,h.divRemTo(u,h,d);return d.intValue().toString(s)+v}function Do(s,i){this.fromInt(0),i==null&&(i=10);for(var a=this.chunkSize(i),u=Math.pow(i,a),h=!1,d=0,v=0,w=0;w<s.length;++w){var j=R(s,w);if(j<0){s.charAt(w)=="-"&&this.signum()==0&&(h=!0);continue}v=i*v+j,++d>=a&&(this.dMultiply(u),this.dAddOffset(v,0),d=0,v=0)}d>0&&(this.dMultiply(Math.pow(i,d)),this.dAddOffset(v,0)),h&&n.ZERO.subTo(this,this)}function jo(s,i,a){if(typeof i=="number")if(s<2)this.fromInt(1);else for(this.fromNumber(s,a),this.testBit(s-1)||this.bitwiseTo(n.ONE.shiftLeft(s-1),cr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(n.ONE.shiftLeft(s-1),this);else{var u=new Array,h=s&7;u.length=(s>>3)+1,i.nextBytes(u),h>0?u[0]&=(1<<h)-1:u[0]=0,this.fromString(u,256)}}function qo(){var s=this.t,i=new Array;i[0]=this.s;var a=this.DB-s*this.DB%8,u,h=0;if(s-- >0)for(a<this.DB&&(u=this[s]>>a)!=(this.s&this.DM)>>a&&(i[h++]=u|this.s<<this.DB-a);s>=0;)a<8?(u=(this[s]&(1<<a)-1)<<8-a,u|=this[--s]>>(a+=this.DB-8)):(u=this[s]>>(a-=8)&255,a<=0&&(a+=this.DB,--s)),(u&128)!=0&&(u|=-256),h==0&&(this.s&128)!=(u&128)&&++h,(h>0||u!=this.s)&&(i[h++]=u);return i}function Po(s){return this.compareTo(s)==0}function Fo(s){return this.compareTo(s)<0?this:s}function No(s){return this.compareTo(s)>0?this:s}function $o(s,i,a){var u,h,d=Math.min(s.t,this.t);for(u=0;u<d;++u)a[u]=i(this[u],s[u]);if(s.t<this.t){for(h=s.s&this.DM,u=d;u<this.t;++u)a[u]=i(this[u],h);a.t=this.t}else{for(h=this.s&this.DM,u=d;u<s.t;++u)a[u]=i(h,s[u]);a.t=s.t}a.s=i(this.s,s.s),a.clamp()}function Uo(s,i){return s&i}function ko(s){var i=o();return this.bitwiseTo(s,Uo,i),i}function cr(s,i){return s|i}function Lo(s){var i=o();return this.bitwiseTo(s,cr,i),i}function pn(s,i){return s^i}function zo(s){var i=o();return this.bitwiseTo(s,pn,i),i}function hn(s,i){return s&~i}function Vo(s){var i=o();return this.bitwiseTo(s,hn,i),i}function Go(){for(var s=o(),i=0;i<this.t;++i)s[i]=this.DM&~this[i];return s.t=this.t,s.s=~this.s,s}function Zo(s){var i=o();return s<0?this.rShiftTo(-s,i):this.lShiftTo(s,i),i}function Ho(s){var i=o();return s<0?this.lShiftTo(-s,i):this.rShiftTo(s,i),i}function Wo(s){if(s==0)return-1;var i=0;return(s&65535)==0&&(s>>=16,i+=16),(s&255)==0&&(s>>=8,i+=8),(s&15)==0&&(s>>=4,i+=4),(s&3)==0&&(s>>=2,i+=2),(s&1)==0&&++i,i}function Yo(){for(var s=0;s<this.t;++s)if(this[s]!=0)return s*this.DB+Wo(this[s]);return this.s<0?this.t*this.DB:-1}function Jo(s){for(var i=0;s!=0;)s&=s-1,++i;return i}function Xo(){for(var s=0,i=this.s&this.DM,a=0;a<this.t;++a)s+=Jo(this[a]^i);return s}function Ko(s){var i=Math.floor(s/this.DB);return i>=this.t?this.s!=0:(this[i]&1<<s%this.DB)!=0}function Qo(s,i){var a=n.ONE.shiftLeft(s);return this.bitwiseTo(a,i,a),a}function ea(s){return this.changeBit(s,cr)}function ta(s){return this.changeBit(s,hn)}function ra(s){return this.changeBit(s,pn)}function na(s,i){for(var a=0,u=0,h=Math.min(s.t,this.t);a<h;)u+=this[a]+s[a],i[a++]=u&this.DM,u>>=this.DB;if(s.t<this.t){for(u+=s.s;a<this.t;)u+=this[a],i[a++]=u&this.DM,u>>=this.DB;u+=this.s}else{for(u+=this.s;a<s.t;)u+=s[a],i[a++]=u&this.DM,u>>=this.DB;u+=s.s}i.s=u<0?-1:0,u>0?i[a++]=u:u<-1&&(i[a++]=this.DV+u),i.t=a,i.clamp()}function sa(s){var i=o();return this.addTo(s,i),i}function ia(s){var i=o();return this.subTo(s,i),i}function oa(s){var i=o();return this.multiplyTo(s,i),i}function aa(){var s=o();return this.squareTo(s),s}function ca(s){var i=o();return this.divRemTo(s,i,null),i}function ua(s){var i=o();return this.divRemTo(s,null,i),i}function fa(s){var i=o(),a=o();return this.divRemTo(s,i,a),new Array(i,a)}function la(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()}function pa(s,i){if(s!=0){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=s;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}}function ot(){}function dn(s){return s}function ha(s,i,a){s.multiplyTo(i,a)}function da(s,i){s.squareTo(i)}ot.prototype.convert=dn,ot.prototype.revert=dn,ot.prototype.mulTo=ha,ot.prototype.sqrTo=da;function ga(s){return this.exp(s,new ot)}function ba(s,i,a){var u=Math.min(this.t+s.t,i);for(a.s=0,a.t=u;u>0;)a[--u]=0;var h;for(h=a.t-this.t;u<h;++u)a[u+this.t]=this.am(0,s[u],a,u,0,this.t);for(h=Math.min(s.t,i);u<h;++u)this.am(0,s[u],a,u,0,i-u);a.clamp()}function ya(s,i,a){--i;var u=a.t=this.t+s.t-i;for(a.s=0;--u>=0;)a[u]=0;for(u=Math.max(i-this.t,0);u<s.t;++u)a[this.t+u-i]=this.am(i-u,s[u],a,0,0,this.t+u-i);a.clamp(),a.drShiftTo(1,a)}function Me(s){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}function va(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var i=o();return s.copyTo(i),this.reduce(i),i}function ma(s){return s}function wa(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)}function Aa(s,i){s.squareTo(i),this.reduce(i)}function Sa(s,i,a){s.multiplyTo(i,a),this.reduce(a)}Me.prototype.convert=va,Me.prototype.revert=ma,Me.prototype.reduce=wa,Me.prototype.mulTo=Sa,Me.prototype.sqrTo=Aa;function Ea(s,i){var a=s.bitLength(),u,h=B(1),d;if(a<=0)return h;a<18?u=1:a<48?u=3:a<144?u=4:a<768?u=5:u=6,a<8?d=new Re(i):i.isEven()?d=new Me(i):d=new xe(i);var v=new Array,w=3,j=u-1,U=(1<<u)-1;if(v[1]=d.convert(this),u>1){var ne=o();for(d.sqrTo(v[1],ne);w<=U;)v[w]=o(),d.mulTo(ne,v[w-2],v[w]),w+=2}var te=s.t-1,ve,At=!0,ce=o(),ue;for(a=Ne(s[te])-1;te>=0;){for(a>=j?ve=s[te]>>a-j&U:(ve=(s[te]&(1<<a+1)-1)<<j-a,te>0&&(ve|=s[te-1]>>this.DB+a-j)),w=u;(ve&1)==0;)ve>>=1,--w;if((a-=w)<0&&(a+=this.DB,--te),At)v[ve].copyTo(h),At=!1;else{for(;w>1;)d.sqrTo(h,ce),d.sqrTo(ce,h),w-=2;w>0?d.sqrTo(h,ce):(ue=h,h=ce,ce=ue),d.mulTo(ce,v[ve],h)}for(;te>=0&&(s[te]&1<<a)==0;)d.sqrTo(h,ce),ue=h,h=ce,ce=ue,--a<0&&(a=this.DB-1,--te)}return d.revert(h)}function Ta(s){var i=this.s<0?this.negate():this.clone(),a=s.s<0?s.negate():s.clone();if(i.compareTo(a)<0){var u=i;i=a,a=u}var h=i.getLowestSetBit(),d=a.getLowestSetBit();if(d<0)return i;for(h<d&&(d=h),d>0&&(i.rShiftTo(d,i),a.rShiftTo(d,a));i.signum()>0;)(h=i.getLowestSetBit())>0&&i.rShiftTo(h,i),(h=a.getLowestSetBit())>0&&a.rShiftTo(h,a),i.compareTo(a)>=0?(i.subTo(a,i),i.rShiftTo(1,i)):(a.subTo(i,a),a.rShiftTo(1,a));return d>0&&a.lShiftTo(d,a),a}function Ca(s){if(s<=0)return 0;var i=this.DV%s,a=this.s<0?s-1:0;if(this.t>0)if(i==0)a=this[0]%s;else for(var u=this.t-1;u>=0;--u)a=(i*a+this[u])%s;return a}function _a(s){var i=s.isEven();if(this.isEven()&&i||s.signum()==0)return n.ZERO;for(var a=s.clone(),u=this.clone(),h=B(1),d=B(0),v=B(0),w=B(1);a.signum()!=0;){for(;a.isEven();)a.rShiftTo(1,a),i?((!h.isEven()||!d.isEven())&&(h.addTo(this,h),d.subTo(s,d)),h.rShiftTo(1,h)):d.isEven()||d.subTo(s,d),d.rShiftTo(1,d);for(;u.isEven();)u.rShiftTo(1,u),i?((!v.isEven()||!w.isEven())&&(v.addTo(this,v),w.subTo(s,w)),v.rShiftTo(1,v)):w.isEven()||w.subTo(s,w),w.rShiftTo(1,w);a.compareTo(u)>=0?(a.subTo(u,a),i&&h.subTo(v,h),d.subTo(w,d)):(u.subTo(a,u),i&&v.subTo(h,v),w.subTo(d,w))}if(u.compareTo(n.ONE)!=0)return n.ZERO;if(w.compareTo(s)>=0)return w.subtract(s);if(w.signum()<0)w.addTo(s,w);else return w;return w.signum()<0?w.add(s):w}var W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ba=(1<<26)/W[W.length-1];function Ia(s){var i,a=this.abs();if(a.t==1&&a[0]<=W[W.length-1]){for(i=0;i<W.length;++i)if(a[0]==W[i])return!0;return!1}if(a.isEven())return!1;for(i=1;i<W.length;){for(var u=W[i],h=i+1;h<W.length&&u<Ba;)u*=W[h++];for(u=a.modInt(u);i<h;)if(u%W[i++]==0)return!1}return a.millerRabin(s)}function Ra(s){var i=this.subtract(n.ONE),a=i.getLowestSetBit();if(a<=0)return!1;var u=i.shiftRight(a);s=s+1>>1,s>W.length&&(s=W.length);for(var h=o(),d=0;d<s;++d){h.fromInt(W[Math.floor(Math.random()*W.length)]);var v=h.modPow(u,this);if(v.compareTo(n.ONE)!=0&&v.compareTo(i)!=0){for(var w=1;w++<a&&v.compareTo(i)!=0;)if(v=v.modPowInt(2,this),v.compareTo(n.ONE)==0)return!1;if(v.compareTo(i)!=0)return!1}}return!0}n.prototype.chunkSize=xo,n.prototype.toRadix=Oo,n.prototype.fromRadix=Do,n.prototype.fromNumber=jo,n.prototype.bitwiseTo=$o,n.prototype.changeBit=Qo,n.prototype.addTo=na,n.prototype.dMultiply=la,n.prototype.dAddOffset=pa,n.prototype.multiplyLowerTo=ba,n.prototype.multiplyUpperTo=ya,n.prototype.modInt=Ca,n.prototype.millerRabin=Ra,n.prototype.clone=_o,n.prototype.intValue=Bo,n.prototype.byteValue=Io,n.prototype.shortValue=Ro,n.prototype.signum=Mo,n.prototype.toByteArray=qo,n.prototype.equals=Po,n.prototype.min=Fo,n.prototype.max=No,n.prototype.and=ko,n.prototype.or=Lo,n.prototype.xor=zo,n.prototype.andNot=Vo,n.prototype.not=Go,n.prototype.shiftLeft=Zo,n.prototype.shiftRight=Ho,n.prototype.getLowestSetBit=Yo,n.prototype.bitCount=Xo,n.prototype.testBit=Ko,n.prototype.setBit=ea,n.prototype.clearBit=ta,n.prototype.flipBit=ra,n.prototype.add=sa,n.prototype.subtract=ia,n.prototype.multiply=oa,n.prototype.divide=ca,n.prototype.remainder=ua,n.prototype.divideAndRemainder=fa,n.prototype.modPow=Ea,n.prototype.modInverse=_a,n.prototype.pow=ga,n.prototype.gcd=Ta,n.prototype.isProbablePrime=Ia,n.prototype.square=aa,n.prototype.Barrett=Me;var wt,ee,$;function xa(s){ee[$++]^=s&255,ee[$++]^=s>>8&255,ee[$++]^=s>>16&255,ee[$++]^=s>>24&255,$>=lr&&($-=lr)}function gn(){xa(new Date().getTime())}if(ee==null){ee=new Array,$=0;var ae;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var bn=new Uint8Array(32);for(window.crypto.getRandomValues(bn),ae=0;ae<32;++ae)ee[$++]=bn[ae]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var yn=window.crypto.random(32);for(ae=0;ae<yn.length;++ae)ee[$++]=yn.charCodeAt(ae)&255}}for(;$<lr;)ae=Math.floor(65536*Math.random()),ee[$++]=ae>>>8,ee[$++]=ae&255;$=0,gn()}function Ma(){if(wt==null){for(gn(),wt=qa(),wt.init(ee),$=0;$<ee.length;++$)ee[$]=0;$=0}return wt.next()}function Oa(s){var i;for(i=0;i<s.length;++i)s[i]=Ma()}function ur(){}ur.prototype.nextBytes=Oa;function fr(){this.i=0,this.j=0,this.S=new Array}function Da(s){var i,a,u;for(i=0;i<256;++i)this.S[i]=i;for(a=0,i=0;i<256;++i)a=a+this.S[i]+s[i%s.length]&255,u=this.S[i],this.S[i]=this.S[a],this.S[a]=u;this.i=0,this.j=0}function ja(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]}fr.prototype.init=Da,fr.prototype.next=ja;function qa(){return new fr}var lr=256;typeof Qt!="undefined"?Qt=_i.exports={default:n,BigInteger:n,SecureRandom:ur}:this.jsbn={BigInteger:n,SecureRandom:ur}}).call(Qt)});var yt=S(er=>{(function(){"use strict";var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(f){return n(c(f),arguments)}function r(f,p){return e.apply(null,[f].concat(p||[]))}function n(f,p){var b=1,m=f.length,l,A="",E,g,y,R,_,T,B,x;for(E=0;E<m;E++)if(typeof f[E]=="string")A+=f[E];else if(typeof f[E]=="object"){if(y=f[E],y.keys)for(l=p[b],g=0;g<y.keys.length;g++){if(l==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[g],y.keys[g-1]));l=l[y.keys[g]]}else y.param_no?l=p[y.param_no]:l=p[b++];if(t.not_type.test(y.type)&&t.not_primitive.test(y.type)&&l instanceof Function&&(l=l()),t.numeric_arg.test(y.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(e("[sprintf] expecting number but found %T",l));switch(t.number.test(y.type)&&(B=l>=0),y.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=JSON.stringify(l,null,y.width?parseInt(y.width):0);break;case"e":l=y.precision?parseFloat(l).toExponential(y.precision):parseFloat(l).toExponential();break;case"f":l=y.precision?parseFloat(l).toFixed(y.precision):parseFloat(l);break;case"g":l=y.precision?String(Number(l.toPrecision(y.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=y.precision?l.substring(0,y.precision):l;break;case"t":l=String(!!l),l=y.precision?l.substring(0,y.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=y.precision?l.substring(0,y.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=y.precision?l.substring(0,y.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase();break}t.json.test(y.type)?A+=l:(t.number.test(y.type)&&(!B||y.sign)?(x=B?"+":"-",l=l.toString().replace(t.sign,"")):x="",_=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",T=y.width-(x+l).length,R=y.width&&T>0?_.repeat(T):"",A+=y.align?x+l+R:_==="0"?x+R+l:R+x+l)}return A}var o=Object.create(null);function c(f){if(o[f])return o[f];for(var p=f,b,m=[],l=0;p;){if((b=t.text.exec(p))!==null)m.push(b[0]);else if((b=t.modulo.exec(p))!==null)m.push("%");else if((b=t.placeholder.exec(p))!==null){if(b[2]){l|=1;var A=[],E=b[2],g=[];if((g=t.key.exec(E))!==null)for(A.push(g[1]);(E=E.substring(g[0].length))!=="";)if((g=t.key_access.exec(E))!==null)A.push(g[1]);else if((g=t.index_access.exec(E))!==null)A.push(g[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");b[2]=A}else l|=2;if(l===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");m.push({placeholder:b[0],param_no:b[1],keys:b[2],sign:b[3],pad_char:b[4],align:b[5],width:b[6],precision:b[7],type:b[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");p=p.substring(b[0].length)}return o[f]=m}typeof er!="undefined"&&(er.sprintf=e,er.vsprintf=r),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:e,vsprintf:r}}))})()});var en=S(be=>{"use strict";var Lf=be&&be.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zf=be&&be.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bi=be&&be.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lf(e,t,r);return zf(e,t),e};Object.defineProperty(be,"__esModule",{value:!0});be.Address4=void 0;var Ii=Bi(Xr()),he=Bi(Kr()),Ri=Kt(),vt=Qr(),mt=yt(),Vf=function(){function t(e){this.groups=he.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=Ii.isCorrect(he.BITS),this.isInSubnet=Ii.isInSubnet,this.address=e;var r=he.RE_SUBNET_STRING.exec(e);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>he.BITS)throw new Ri.AddressError("Invalid subnet mask.");e=e.replace(he.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}return t.isValid=function(e){try{return new t(e),!0}catch(r){return!1}},t.prototype.parse=function(e){var r=e.split(".");if(!e.match(he.RE_ADDRESS))throw new Ri.AddressError("Invalid IPv4 address.");return r},t.prototype.correctForm=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)}).join(".")},t.fromHex=function(e){var r=e.replace(/:/g,"").padStart(8,"0"),n=[],o;for(o=0;o<8;o+=2){var c=r.slice(o,o+2);n.push(parseInt(c,16))}return new t(n.join("."))},t.fromInteger=function(e){return t.fromHex(e.toString(16))},t.prototype.toHex=function(){return this.parsedAddress.map(function(e){return mt.sprintf("%02x",parseInt(e,10))}).join(":")},t.prototype.toArray=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)})},t.prototype.toGroup6=function(){var e=[],r;for(r=0;r<he.GROUPS;r+=2){var n=mt.sprintf("%02x%02x",parseInt(this.parsedAddress[r],10),parseInt(this.parsedAddress[r+1],10));e.push(mt.sprintf("%x",parseInt(n,16)))}return e.join(":")},t.prototype.bigInteger=function(){return new vt.BigInteger(this.parsedAddress.map(function(e){return mt.sprintf("%02x",parseInt(e,10))}).join(""),16)},t.prototype._startAddress=function(){return new vt.BigInteger(this.mask()+"0".repeat(he.BITS-this.subnetMask),2)},t.prototype.startAddress=function(){return t.fromBigInteger(this._startAddress())},t.prototype.startAddressExclusive=function(){var e=new vt.BigInteger("1");return t.fromBigInteger(this._startAddress().add(e))},t.prototype._endAddress=function(){return new vt.BigInteger(this.mask()+"1".repeat(he.BITS-this.subnetMask),2)},t.prototype.endAddress=function(){return t.fromBigInteger(this._endAddress())},t.prototype.endAddressExclusive=function(){var e=new vt.BigInteger("1");return t.fromBigInteger(this._endAddress().subtract(e))},t.fromBigInteger=function(e){return t.fromInteger(parseInt(e.toString(),10))},t.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},t.prototype.getBitsBase2=function(e,r){return this.binaryZeroPad().slice(e,r)},t.prototype.isMulticast=function(){return this.isInSubnet(new t("224.0.0.0/4"))},t.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(he.BITS,"0")},t.prototype.groupForV6=function(){var e=this.parsedAddress;return this.address.replace(he.RE_ADDRESS,mt.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))},t}();be.Address4=Vf});var tn=S(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.RE_URL_WITH_PORT=P.RE_URL=P.RE_ZONE_STRING=P.RE_SUBNET_STRING=P.RE_BAD_ADDRESS=P.RE_BAD_CHARACTERS=P.TYPES=P.SCOPES=P.GROUPS=P.BITS=void 0;P.BITS=128;P.GROUPS=8;P.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};P.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};P.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;P.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;P.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;P.RE_ZONE_STRING=/%.*$/;P.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);P.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var rn=S(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.simpleGroup=ye.spanLeadingZeroes=ye.spanAll=ye.spanAllZeroes=void 0;var xi=yt();function Mi(t){return t.replace(/(0+)/g,'<span class="zero">$1</span>')}ye.spanAllZeroes=Mi;function Gf(t,e){e===void 0&&(e=0);var r=t.split("");return r.map(function(n,o){return xi.sprintf('<span class="digit value-%s position-%d">%s</span>',n,o+e,Mi(n))}).join("")}ye.spanAll=Gf;function Oi(t){return t.replace(/^(0+)/,'<span class="zero">$1</span>')}function Zf(t){var e=t.split(":");return e.map(function(r){return Oi(r)}).join(":")}ye.spanLeadingZeroes=Zf;function Hf(t,e){e===void 0&&(e=0);var r=t.split(":");return r.map(function(n,o){return/group-v4/.test(n)?n:xi.sprintf('<span class="hover-group group-%d">%s</span>',o+e,Oi(n))})}ye.simpleGroup=Hf});var Di=S(L=>{"use strict";var Wf=L&&L.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yf=L&&L.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jf=L&&L.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wf(e,t,r);return Yf(e,t),e};Object.defineProperty(L,"__esModule",{value:!0});L.possibleElisions=L.simpleRegularExpression=L.ADDRESS_BOUNDARY=L.padGroup=L.groupPossibilities=void 0;var Xf=Jf(tn()),nt=yt();function tr(t){return nt.sprintf("(%s)",t.join("|"))}L.groupPossibilities=tr;function rr(t){return t.length<4?nt.sprintf("0{0,%d}%s",4-t.length,t):t}L.padGroup=rr;L.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function Kf(t){var e=[];t.forEach(function(n,o){var c=parseInt(n,16);c===0&&e.push(o)});var r=e.map(function(n){return t.map(function(o,c){if(c===n){var f=c===0||c===Xf.GROUPS-1?":":"";return tr([rr(o),f])}return rr(o)}).join(":")});return r.push(t.map(rr).join(":")),tr(r)}L.simpleRegularExpression=Kf;function Qf(t,e,r){var n=e?"":":",o=r?"":":",c=[];!e&&!r&&c.push("::"),e&&r&&c.push(""),(r&&!e||!r&&e)&&c.push(":"),c.push(nt.sprintf("%s(:0{1,4}){1,%d}",n,t-1)),c.push(nt.sprintf("(0{1,4}:){1,%d}%s",t-1,o)),c.push(nt.sprintf("(0{1,4}:){%d}0{1,4}",t-1));for(var f=1;f<t-1;f++)for(var p=1;p<t-f;p++)c.push(nt.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",p,t-p-f-1));return tr(c)}L.possibleElisions=Qf});var Ni=S(oe=>{"use strict";var el=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tl=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nr=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&el(e,t,r);return tl(e,t),e},ji=oe&&oe.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(oe,"__esModule",{value:!0});oe.Address6=void 0;var qi=nr(Xr()),nn=nr(Kr()),D=nr(tn()),sn=nr(rn()),Pe=en(),Fe=Di(),Ee=Kt(),J=Qr(),X=yt();function sr(t){if(!t)throw new Error("Assertion failed.")}function rl(t){for(var e=/(\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}function nl(t){return t=t.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),t=t.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),t}function sl(t,e){var r=[],n=[],o;for(o=0;o<t.length;o++)o<e[0]?r.push(t[o]):o>e[1]&&n.push(t[o]);return r.concat(["compact"]).concat(n)}function Pi(t){return X.sprintf("%04x",parseInt(t,16))}function Fi(t){return t&255}var il=function(){function t(e,r){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=qi.isInSubnet,this.isCorrect=qi.isCorrect(D.BITS),r===void 0?this.groups=D.GROUPS:this.groups=r,this.address=e;var n=D.RE_SUBNET_STRING.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>D.BITS)throw new Ee.AddressError("Invalid subnet mask.");e=e.replace(D.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new Ee.AddressError("Invalid subnet mask.");var o=D.RE_ZONE_STRING.exec(e);o&&(this.zone=o[0],e=e.replace(D.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}return t.isValid=function(e){try{return new t(e),!0}catch(r){return!1}},t.fromBigInteger=function(e){var r=e.toString(16).padStart(32,"0"),n=[],o;for(o=0;o<D.GROUPS;o++)n.push(r.slice(o*4,(o+1)*4));return new t(n.join(":"))},t.fromURL=function(e){var r,n=null,o;if(e.indexOf("[")!==-1&&e.indexOf("]:")!==-1){if(o=D.RE_URL_WITH_PORT.exec(e),o===null)return{error:"failed to parse address with port",address:null,port:null};r=o[1],n=o[2]}else if(e.indexOf("/")!==-1){if(e=e.replace(/^[a-z0-9]+:\/\//,""),o=D.RE_URL.exec(e),o===null)return{error:"failed to parse address from URL",address:null,port:null};r=o[1]}else r=e;return n?(n=parseInt(n,10),(n<0||n>65536)&&(n=null)):n=null,{address:new t(r),port:n}},t.fromAddress4=function(e){var r=new Pe.Address4(e),n=D.BITS-(nn.BITS-r.subnetMask);return new t("::ffff:"+r.correctForm()+"/"+n)},t.fromArpa=function(e){var r=e.replace(/(\.ip6\.arpa)?\.$/,""),n=7;if(r.length!==63)throw new Ee.AddressError("Invalid 'ip6.arpa' form.");for(var o=r.split(".").reverse(),c=n;c>0;c--){var f=c*4;o.splice(f,0,":")}return r=o.join(""),new t(r)},t.prototype.microsoftTranscription=function(){return X.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},t.prototype.mask=function(e){return e===void 0&&(e=this.subnetMask),this.getBitsBase2(0,e)},t.prototype.possibleSubnets=function(e){e===void 0&&(e=128);var r=D.BITS-this.subnetMask,n=Math.abs(e-D.BITS),o=r-n;return o<0?"0":rl(new J.BigInteger("2",10).pow(o).toString(10))},t.prototype._startAddress=function(){return new J.BigInteger(this.mask()+"0".repeat(D.BITS-this.subnetMask),2)},t.prototype.startAddress=function(){return t.fromBigInteger(this._startAddress())},t.prototype.startAddressExclusive=function(){var e=new J.BigInteger("1");return t.fromBigInteger(this._startAddress().add(e))},t.prototype._endAddress=function(){return new J.BigInteger(this.mask()+"1".repeat(D.BITS-this.subnetMask),2)},t.prototype.endAddress=function(){return t.fromBigInteger(this._endAddress())},t.prototype.endAddressExclusive=function(){var e=new J.BigInteger("1");return t.fromBigInteger(this._endAddress().subtract(e))},t.prototype.getScope=function(){var e=D.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&e!=="Link local"&&(e="Global"),e||"Unknown"},t.prototype.getType=function(){for(var e=0,r=Object.keys(D.TYPES);e<r.length;e++){var n=r[e];if(this.isInSubnet(new t(n)))return D.TYPES[n]}return"Global unicast"},t.prototype.getBits=function(e,r){return new J.BigInteger(this.getBitsBase2(e,r),2)},t.prototype.getBitsBase2=function(e,r){return this.binaryZeroPad().slice(e,r)},t.prototype.getBitsBase16=function(e,r){var n=r-e;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,r).toString(16).padStart(n/4,"0")},t.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,D.BITS)},t.prototype.reverseForm=function(e){e||(e={});var r=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,r).reverse().join(".");return r>0?e.omitSuffix?n:X.sprintf("%s.ip6.arpa.",n):e.omitSuffix?"":"ip6.arpa."},t.prototype.correctForm=function(){var e,r=[],n=0,o=[];for(e=0;e<this.parsedAddress.length;e++){var c=parseInt(this.parsedAddress[e],16);c===0&&n++,c!==0&&n>0&&(n>1&&o.push([e-n,e-1]),n=0)}n>1&&o.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);var f=o.map(function(m){return m[1]-m[0]+1});if(o.length>0){var p=f.indexOf(Math.max.apply(Math,f));r=sl(this.parsedAddress,o[p])}else r=this.parsedAddress;for(e=0;e<r.length;e++)r[e]!=="compact"&&(r[e]=parseInt(r[e],16).toString(16));var b=r.join(":");return b=b.replace(/^compact$/,"::"),b=b.replace(/^compact|compact$/,":"),b=b.replace(/compact/,""),b},t.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(D.BITS,"0")},t.prototype.parse4in6=function(e){var r=e.split(":"),n=r.slice(-1)[0],o=n.match(nn.RE_ADDRESS);if(o){this.parsedAddress4=o[0],this.address4=new Pe.Address4(this.parsedAddress4);for(var c=0;c<this.address4.groups;c++)if(/^0[0-9]+/.test(this.address4.parsedAddress[c]))throw new Ee.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(nn.RE_ADDRESS,this.address4.parsedAddress.map(nl).join(".")));this.v4=!0,r[r.length-1]=this.address4.toGroup6(),e=r.join(":")}return e},t.prototype.parse=function(e){e=this.parse4in6(e);var r=e.match(D.RE_BAD_CHARACTERS);if(r)throw new Ee.AddressError(X.sprintf("Bad character%s detected in address: %s",r.length>1?"s":"",r.join("")),e.replace(D.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var n=e.match(D.RE_BAD_ADDRESS);if(n)throw new Ee.AddressError(X.sprintf("Address failed regex: %s",n.join("")),e.replace(D.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var o=[],c=e.split("::");if(c.length===2){var f=c[0].split(":"),p=c[1].split(":");f.length===1&&f[0]===""&&(f=[]),p.length===1&&p[0]===""&&(p=[]);var b=this.groups-(f.length+p.length);if(!b)throw new Ee.AddressError("Error parsing groups");this.elidedGroups=b,this.elisionBegin=f.length,this.elisionEnd=f.length+this.elidedGroups,o=o.concat(f);for(var m=0;m<b;m++)o.push("0");o=o.concat(p)}else if(c.length===1)o=e.split(":"),this.elidedGroups=0;else throw new Ee.AddressError("Too many :: groups found");if(o=o.map(function(l){return X.sprintf("%x",parseInt(l,16))}),o.length!==this.groups)throw new Ee.AddressError("Incorrect number of groups found");return o},t.prototype.canonicalForm=function(){return this.parsedAddress.map(Pi).join(":")},t.prototype.decimal=function(){return this.parsedAddress.map(function(e){return X.sprintf("%05d",parseInt(e,16))}).join(":")},t.prototype.bigInteger=function(){return new J.BigInteger(this.parsedAddress.map(Pi).join(""),16)},t.prototype.to4=function(){var e=this.binaryZeroPad().split("");return Pe.Address4.fromHex(new J.BigInteger(e.slice(96,128).join(""),2).toString(16))},t.prototype.to4in6=function(){var e=this.to4(),r=new t(this.parsedAddress.slice(0,6).join(":"),6),n=r.correctForm(),o="";return/:$/.test(n)||(o=":"),n+o+e.address},t.prototype.inspectTeredo=function(){var e=this.getBitsBase16(0,32),r=this.getBits(80,96).xor(new J.BigInteger("ffff",16)).toString(),n=Pe.Address4.fromHex(this.getBitsBase16(32,64)),o=Pe.Address4.fromHex(this.getBits(96,128).xor(new J.BigInteger("ffffffff",16)).toString(16)),c=this.getBits(64,80),f=this.getBitsBase2(64,80),p=c.testBit(15),b=c.testBit(14),m=c.testBit(8),l=c.testBit(9),A=new J.BigInteger(f.slice(2,6)+f.slice(8,16),2).toString(10);return{prefix:X.sprintf("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:o.address,flags:f,coneNat:p,microsoft:{reserved:b,universalLocal:l,groupIndividual:m,nonce:A},udpPort:r}},t.prototype.inspect6to4=function(){var e=this.getBitsBase16(0,16),r=Pe.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:X.sprintf("%s",e.slice(0,4)),gateway:r.address}},t.prototype.to6to4=function(){if(!this.is4())return null;var e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new t(e)},t.prototype.toByteArray=function(){var e=this.bigInteger().toByteArray();return e.length===17&&e[0]===0?e.slice(1):e},t.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(Fi)},t.fromByteArray=function(e){return this.fromUnsignedByteArray(e.map(Fi))},t.fromUnsignedByteArray=function(e){for(var r=new J.BigInteger("256",10),n=new J.BigInteger("0",10),o=new J.BigInteger("1",10),c=e.length-1;c>=0;c--)n=n.add(o.multiply(new J.BigInteger(e[c].toString(10),10))),o=o.multiply(r);return t.fromBigInteger(n)},t.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},t.prototype.isLinkLocal=function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"},t.prototype.isMulticast=function(){return this.getType()==="Multicast"},t.prototype.is4=function(){return this.v4},t.prototype.isTeredo=function(){return this.isInSubnet(new t("2001::/32"))},t.prototype.is6to4=function(){return this.isInSubnet(new t("2002::/16"))},t.prototype.isLoopback=function(){return this.getType()==="Loopback"},t.prototype.href=function(e){return e===void 0?e="":e=X.sprintf(":%s",e),X.sprintf("http://[%s]%s/",this.correctForm(),e)},t.prototype.link=function(e){e||(e={}),e.className===void 0&&(e.className=""),e.prefix===void 0&&(e.prefix="/#address="),e.v4===void 0&&(e.v4=!1);var r=this.correctForm;return e.v4&&(r=this.to4in6),e.className?X.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,r.call(this),e.className):X.sprintf('<a href="%1$s%2$s">%2$s</a>',e.prefix,r.call(this))},t.prototype.group=function(){if(this.elidedGroups===0)return sn.simpleGroup(this.address).join(":");sr(typeof this.elidedGroups=="number"),sr(typeof this.elisionBegin=="number");var e=[],r=this.address.split("::"),n=r[0],o=r[1];n.length?e.push.apply(e,sn.simpleGroup(n)):e.push("");for(var c=["hover-group"],f=this.elisionBegin;f<this.elisionBegin+this.elidedGroups;f++)c.push(X.sprintf("group-%d",f));return e.push(X.sprintf('<span class="%s"></span>',c.join(" "))),o.length?e.push.apply(e,sn.simpleGroup(o,this.elisionEnd)):e.push(""),this.is4()&&(sr(this.address4 instanceof Pe.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")},t.prototype.regularExpressionString=function(e){e===void 0&&(e=!1);var r=[],n=new t(this.correctForm());if(n.elidedGroups===0)r.push(Fe.simpleRegularExpression(n.parsedAddress));else if(n.elidedGroups===D.GROUPS)r.push(Fe.possibleElisions(D.GROUPS));else{var o=n.address.split("::");o[0].length&&r.push(Fe.simpleRegularExpression(o[0].split(":"))),sr(typeof n.elidedGroups=="number"),r.push(Fe.possibleElisions(n.elidedGroups,o[0].length!==0,o[1].length!==0)),o[1].length&&r.push(Fe.simpleRegularExpression(o[1].split(":"))),r=[r.join(":")]}return e||(r=ji(ji(["(?=^|",Fe.ADDRESS_BOUNDARY,"|[^\\w\\:])("],r),[")(?=[^\\w\\:]|",Fe.ADDRESS_BOUNDARY,"|$)"])),r.join("")},t.prototype.regularExpression=function(e){return e===void 0&&(e=!1),new RegExp(this.regularExpressionString(e),"i")},t}();oe.Address6=il});var $i=S(H=>{"use strict";var ol=H&&H.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),al=H&&H.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cl=H&&H.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ol(e,t,r);return al(e,t),e};Object.defineProperty(H,"__esModule",{value:!0});H.v6=H.AddressError=H.Address6=H.Address4=void 0;var ul=en();Object.defineProperty(H,"Address4",{enumerable:!0,get:function(){return ul.Address4}});var fl=Ni();Object.defineProperty(H,"Address6",{enumerable:!0,get:function(){return fl.Address6}});var ll=Kt();Object.defineProperty(H,"AddressError",{enumerable:!0,get:function(){return ll.AddressError}});var pl=cl(rn());H.v6={helpers:pl}});var ki=S((Hp,on)=>{"use strict";var Ui=bt(),hl=Object.assign(Ui("libp2p:ip-port-to-multiaddr"),{error:Ui("libp2p:ip-port-to-multiaddr:err")}),{Multiaddr:an}=Vt(),cn=Lt(),{Address4:dl,Address6:gl}=$i(),ir={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function bl(t,e){if(typeof t!="string")throw cn(new Error(`invalid ip provided: ${t}`),ir.ERR_INVALID_IP_PARAMETER);if(typeof e=="string"&&(e=parseInt(e)),isNaN(e))throw cn(new Error(`invalid port provided: ${e}`),ir.ERR_INVALID_PORT_PARAMETER);try{return new dl(t),new an(`/ip4/${t}/tcp/${e}`)}catch{}try{let r=new gl(t);return r.is4()?new an(`/ip4/${r.to4().correctForm()}/tcp/${e}`):new an(`/ip6/${t}/tcp/${e}`)}catch(r){let n=`invalid ip:port for creating a multiaddr: ${t}:${e}`;throw hl.error(n),cn(new Error(n),ir.ERR_INVALID_IP)}}on.exports=bl;on.exports.Errors=ir});var ar=S(or=>{"use strict";or.CODE_P2P=421;or.CODE_CIRCUIT=290;or.CLOSE_TIMEOUT=2e3});var fn=S((Yp,Li)=>{"use strict";var zi=Wr(),un=bt()("libp2p:tcp:socket"),yl=Ci(),Vi=ki(),{CLOSE_TIMEOUT:vl}=ar(),ml=(t,e)=>{e=e||{},e.listeningAddr&&e.listeningAddr.getPath()&&(e.remoteAddr=e.listeningAddr),e.remoteAddr&&e.remoteAddr.getPath()&&(e.localAddr=e.remoteAddr);let{sink:r,source:n}=yl.duplex(t),o={async sink(c){e.signal&&(c=zi(c,e.signal));try{await r(async function*(){for await(let f of c)yield Buffer.isBuffer(f)?f:f.slice()}())}catch(f){f.type!=="aborted"&&un(f)}},source:e.signal?zi(n,e.signal):n,conn:t,localAddr:e.localAddr||Vi(t.localAddress,t.localPort),remoteAddr:e.remoteAddr||Vi(t.remoteAddress||"",t.remotePort||""),timeline:{open:Date.now()},async close(){if(!t.destroyed)return new Promise((c,f)=>{let p=Date.now(),b=setTimeout(()=>{let{host:m,port:l}=o.remoteAddr.toOptions();un("timeout closing socket to %s:%s after %dms, destroying it manually",m,l,Date.now()-p),t.destroyed?un("%s:%s is already destroyed",m,l):t.destroy(),c()},vl);t.once("close",()=>{clearTimeout(b),c()}),t.end(m=>{if(o.timeline.close=Date.now(),m)return f(m);c()})})}};return t.once("close",()=>{o.timeline.close||(o.timeline.close=Date.now())}),o};Li.exports=ml});var ln=S((Jp,Gi)=>{"use strict";var{Multiaddr:wl}=Vt(),Al=require("os"),{resolve:Sl}=require("path"),El={ip4:"IPv4",ip6:"IPv6"};function Tl(t){let e=t.getPath();return e?Sl(e):t.toOptions()}function _l(t,e,r){let n=o=>new wl(`/${t}/${o}/tcp/${r}`);return(Zi(e)?Cl(El[t]):[e]).map(n)}function Zi(t){return["0.0.0.0","::"].includes(t)}var Bl=Al.networkInterfaces();function Cl(t){let e=[];for(let[,r]of Object.entries(Bl))if(r)for(let n of r)n.family===t&&e.push(n.address);return e}Gi.exports={multiaddrToNetConfig:Tl,isAnyAddr:Zi,getMultiaddrs:_l}});var Xi=S((Xp,Hi)=>{"use strict";var Il=require("net"),Rl=require("events"),Wi=bt(),st=Object.assign(Wi("libp2p:tcp:listener"),{error:Wi("libp2p:tcp:listener:error")}),xl=fn(),{CODE_P2P:Ml}=ar(),{getMultiaddrs:Yi,multiaddrToNetConfig:Ol}=ln();async function Ji(t){try{t&&await t.close()}catch(e){st.error("an error occurred closing the connection",e)}}Hi.exports=({handler:t,upgrader:e},r)=>{let n,o,c,f=Object.assign(new Rl,{getAddrs:()=>{let p=[],b=n.address();if(!b)throw new Error("Listener is not ready yet");return c.toString().startsWith("/ip4")?p=p.concat(Yi("ip4",b.address,b.port)):b.family==="IPv6"&&(p=p.concat(Yi("ip6",b.address,b.port))),p.map(m=>o?m.encapsulate(`/p2p/${o}`):m)},listen:async p=>(c=p,o=p.getPeerId(),o&&(c=p.decapsulateCode(Ml)),new Promise((b,m)=>{let l=Ol(c);n.listen(l,A=>{if(A)return m(A);st("Listening on %s",n.address()),b(void 0)})})),close:async()=>{if(!!n.listening)return new Promise((p,b)=>{n.__connections.forEach(m=>Ji(m)),n.close(m=>m?b(m):p(void 0))})}});return n=Object.assign(Il.createServer(async p=>{p.on("error",l=>st("socket error",l));let b,m;try{b=xl(p,{listeningAddr:c}),st("new inbound connection %s",b.remoteAddr),m=await e.upgradeInbound(b)}catch(l){return st.error("inbound connection failed",l),Ji(b)}st("inbound connection %s upgraded",b.remoteAddr),Dl(n,b),t&&t(m),f.emit("connection",m)}),{__connections:[]}),n.on("listening",()=>f.emit("listening")).on("error",p=>f.emit("error",p)).on("close",()=>f.emit("close")),f};function Dl(t,e){t.__connections.push(e);let r=()=>{t.__connections=t.__connections.filter(n=>n!==e)};e.conn.once("close",r)}});var zl=S((Kp,Ki)=>{"use strict";var jl=require("net"),ql=ti(),Pl=ri(),Fl=Lt(),it=bt()("libp2p:tcp"),Nl=fn(),$l=Xi(),{multiaddrToNetConfig:Ul}=ln(),{AbortError:Qi}=Wr(),{CODE_CIRCUIT:kl,CODE_P2P:Ll}=ar(),eo=class{constructor({upgrader:e}){if(!e)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e}async dial(e,r){r=r||{};let n=await this._connect(e,r),o=Nl(n,{remoteAddr:e,signal:r.signal});it("new outbound connection %s",o.remoteAddr);let c=await this._upgrader.upgradeOutbound(o);return it("outbound connection %s upgraded",o.remoteAddr),c}_connect(e,r={}){if(r.signal&&r.signal.aborted)throw new Qi;return new Promise((n,o)=>{let c=Date.now(),f=Ul(e);it("dialing %j",f);let p=jl.connect(f),b=g=>{g.message=`connection error ${f.host}:${f.port}: ${g.message}`,E(g)},m=()=>{it("connection timeout %s:%s",f.host,f.port);let g=Fl(new Error(`connection timeout after ${Date.now()-c}ms`),"ERR_CONNECT_TIMEOUT");p.emit("error",g)},l=()=>{it("connection opened %j",f),E()},A=()=>{it("connection aborted %j",f),p.destroy(),E(new Qi)},E=g=>{if(p.removeListener("error",b),p.removeListener("timeout",m),p.removeListener("connect",l),r.signal&&r.signal.removeEventListener("abort",A),g)return o(g);n(p)};p.on("error",b),p.on("timeout",m),p.on("connect",l),r.signal&&r.signal.addEventListener("abort",A)})}createListener(e,r){let n;return typeof e=="function"?(n=e,e={}):n=r,e=e||{},$l({handler:n,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(r=>r.protoCodes().includes(kl)?!1:ql.TCP.matches(r.decapsulateCode(Ll)))}};Ki.exports=Pl(eo,{className:"TCP",symbolName:"@libp2p/js-libp2p-tcp/tcp"})});return zl();})();
return Libp2pTcp}));
